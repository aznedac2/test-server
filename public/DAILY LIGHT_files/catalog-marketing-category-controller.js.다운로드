(window.zwstdWebpackLoader=window.zwstdWebpackLoader||[]).push([[18,448],{149:function(e,t,n){"use strict";var r;void 0===(r=function(e){var t=n(69),r=n(364);return t.extend({name:"MarketingCategoryController",dataKeys:["category"],init:function(){r.updatePromotedSectionInfo(this.data.category.sectionName)}})}.call(t,n,t,e))||(e.exports=r)},364:function(e,t,n){"use strict";var r,i=n(5),s=n(3),o=(r=n(6))&&r.__esModule?r:{default:r};function c(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function a(e){o.default.trigger(o.default.types.REMEMBERED_SECTION,{section:e})}e.exports={updatePromotedSectionInfo:function(e){if(e){var t=(0,i.retrieve)(s.sectionPersistence.CURRENT_SECTION_INFO_KEY)||[];Array.isArray(t)||(t=function(e){return[{sectionName:e.sectionName,numViews:e.views,lastUpdated:Date.now()}]}(t),(0,i.remove)(s.sectionPersistence.PROMOTED_SECTION_INFO_KEY));var n=function(e,t){for(var n=0;n<e.length;n++)if(e[n].sectionName===t)return e[n];return null}(t,e);n?(n.numViews++,n.lastUpdated=Date.now()):t=[].concat(c(t),[{sectionName:e,numViews:1,lastUpdated:Date.now()}]),(0,i.store)(s.sectionPersistence.CURRENT_SECTION_INFO_KEY,t),(0,i.store)(s.sectionPersistence.PROMOTED_SECTION_INFO_KEY,e,{ttl:s.sectionPersistence.PROMOTED_SECTION_INFO_TTL})}},getPreferredSection:function(){var e=(0,i.retrieve)(s.sectionPersistence.PROMOTED_SECTION_INFO_KEY);if(!e){var t=(0,i.retrieve)(s.sectionPersistence.CURRENT_SECTION_INFO_KEY);if(!t)return(0,i.store)(s.sectionPersistence.PROMOTED_SECTION_INFO_KEY,s.sectionPersistence.DEFAULT_SECTION_NAME,{ttl:s.sectionPersistence.PROMOTED_SECTION_INFO_TTL}),a(s.sectionPersistence.DEFAULT_SECTION_ANALYTICS_NAME),s.sectionPersistence.DEFAULT_SECTION_NAME;var n=t[0];t.forEach((function(t){t.numViews>=n.numViews&&t.lastUpdated>=n.lastUpdated&&(n=t,e=t.sectionName)})),(0,i.store)(s.sectionPersistence.PROMOTED_SECTION_INFO_KEY,e,{ttl:s.sectionPersistence.PROMOTED_SECTION_INFO_TTL}),a(e)}return e}}}}]);