/*
 jQuery.floatThead 2.1.1 - http://mkoryak.github.io/floatThead/ - Copyright (c) 2012 - 2018 Misha Koryak **/
(function(){var a,b,c,d,g=function(a,b){return function(){return a.apply(b,arguments)}},n=function(a,b){function u(){this.constructor=a}for(var c in b)p.call(b,c)&&(a[c]=b[c]);u.prototype=b.prototype;a.prototype=new u;a.__super__=b.prototype;return a},p={}.hasOwnProperty;d=function(){function a(){this.options_index=0;this.parsed=[]}a.prototype.add_node=function(a){return"OPTGROUP"===a.nodeName.toUpperCase()?this.add_group(a):this.add_option(a)};a.prototype.add_group=function(a){var b,c,d,f,q,k;b=
this.parsed.length;this.parsed.push({array_index:b,group:!0,label:a.label,title:a.title?a.title:void 0,children:0,disabled:a.disabled,classes:a.className});q=a.childNodes;k=[];c=0;for(d=q.length;c<d;c++)f=q[c],k.push(this.add_option(f,b,a.disabled));return k};a.prototype.add_option=function(a,b,c){if("OPTION"===a.nodeName.toUpperCase())return""!==a.text?(null!=b&&(this.parsed[b].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:a.value,text:a.text,
html:a.innerHTML,title:a.title?a.title:void 0,selected:a.selected,disabled:!0===c?c:a.disabled,group_array_index:b,group_label:null!=b?this.parsed[b].label:null,classes:a.className,style:a.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1};return a}();d.select_to_array=function(a){var b,u,c,n;c=new d;n=a.childNodes;b=0;for(u=n.length;b<u;b++)a=n[b],c.add_node(a);return c.parsed};b=function(){function a(b,u){this.form_field=
b;this.options=null!=u?u:{};this.label_click_handler=g(this.label_click_handler,this);a.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers(),this.on_ready())}a.prototype.set_default_values=function(){this.click_test_action=function(a){return function(b){return a.test_active_click(b)}}(this);this.activate_action=function(a){return function(b){return a.activate_field(b)}}(this);
this.results_showing=this.mouse_on_container=this.active_field=!1;this.result_highlighted=null;this.is_rtl=this.options.rtl||/\bchosen-rtl\b/.test(this.form_field.className);this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text?this.options.allow_single_deselect:!1;this.disable_search_threshold=this.options.disable_search_threshold||0;this.disable_search=this.options.disable_search||!1;this.enable_split_word_search=
null!=this.options.enable_split_word_search?this.options.enable_split_word_search:!0;this.group_search=null!=this.options.group_search?this.options.group_search:!0;this.search_contains=this.options.search_contains||!1;this.single_backstroke_delete=null!=this.options.single_backstroke_delete?this.options.single_backstroke_delete:!0;this.max_selected_options=this.options.max_selected_options||Infinity;this.inherit_select_classes=this.options.inherit_select_classes||!1;this.display_selected_options=
null!=this.options.display_selected_options?this.options.display_selected_options:!0;this.display_disabled_options=null!=this.options.display_disabled_options?this.options.display_disabled_options:!0;this.include_group_label_in_selected=this.options.include_group_label_in_selected||!1;this.max_shown_results=this.options.max_shown_results||Number.POSITIVE_INFINITY;this.case_sensitive_search=this.options.case_sensitive_search||!1;return this.hide_results_on_select=null!=this.options.hide_results_on_select?
this.options.hide_results_on_select:!0};a.prototype.set_default_text=function(){this.form_field.getAttribute("data-placeholder")?this.default_text=this.form_field.getAttribute("data-placeholder"):this.default_text=this.is_multiple?this.options.placeholder_text_multiple||this.options.placeholder_text||a.default_multiple_text:this.options.placeholder_text_single||this.options.placeholder_text||a.default_single_text;this.default_text=this.escape_html(this.default_text);return this.results_none_found=
this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||a.default_no_result_text};a.prototype.choice_label=function(a){return this.include_group_label_in_selected&&null!=a.group_label?"\x3cb class\x3d'group-name'\x3e"+this.escape_html(a.group_label)+"\x3c/b\x3e"+a.html:a.html};a.prototype.mouse_enter=function(){return this.mouse_on_container=!0};a.prototype.mouse_leave=function(){return this.mouse_on_container=!1};a.prototype.input_focus=function(a){if(this.is_multiple){if(!this.active_field)return setTimeout(function(a){return function(){return a.container_mousedown()}}(this),
50)}else if(!this.active_field)return this.activate_field()};a.prototype.input_blur=function(a){if(!this.mouse_on_container)return this.active_field=!1,setTimeout(function(a){return function(){return a.blur_test()}}(this),100)};a.prototype.label_click_handler=function(a){return this.is_multiple?this.container_mousedown(a):this.activate_field()};a.prototype.results_option_build=function(a){var b,c,d,f,q,k,m;b="";m=0;k=this.results_data;f=0;for(q=k.length;f<q&&!(c=k[f],d=c.group?this.result_add_group(c):
this.result_add_option(c),""!==d&&(m++,b+=d),null!=a&&a.first&&(c.selected&&this.is_multiple?this.choice_build(c):c.selected&&!this.is_multiple&&this.single_set_selected_text(this.choice_label(c))),m>=this.max_shown_results);f++);return b};a.prototype.result_add_option=function(a){var b,c;if(!a.search_match||!this.include_option_in_results(a))return"";b=[];a.disabled||a.selected&&this.is_multiple||b.push("active-result");!a.disabled||a.selected&&this.is_multiple||b.push("disabled-result");a.selected&&
b.push("result-selected");null!=a.group_array_index&&b.push("group-option");""!==a.classes&&b.push(a.classes);c=document.createElement("li");c.className=b.join(" ");a.style&&(c.style.cssText=a.style);c.setAttribute("data-option-array-index",a.array_index);c.innerHTML=a.highlighted_html||a.html;a.title&&(c.title=a.title);return this.outerHTML(c)};a.prototype.result_add_group=function(a){var b,c;if(!a.search_match&&!a.group_match||!(0<a.active_options))return"";b=[];b.push("group-result");a.classes&&
b.push(a.classes);c=document.createElement("li");c.className=b.join(" ");c.innerHTML=a.highlighted_html||this.escape_html(a.label);a.title&&(c.title=a.title);return this.outerHTML(c)};a.prototype.results_update_field=function(){this.set_default_text();this.is_multiple||this.results_reset_cleanup();this.result_clear_highlight();this.results_build();if(this.results_showing)return this.winnow_results()};a.prototype.reset_single_select_options=function(){var a,b,c,d,f;c=this.results_data;f=[];a=0;for(b=
c.length;a<b;a++)d=c[a],d.selected?f.push(d.selected=!1):f.push(void 0);return f};a.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()};a.prototype.results_search=function(a){return this.results_showing?this.winnow_results():this.results_show()};a.prototype.winnow_results=function(a){var b,c,d,f,q,k,m,e,h,v,A,z;this.no_results_clear();h=0;k=this.get_search_text();b=k.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$\x26");e=this.get_search_regex(b);m=this.results_data;
b=0;for(d=m.length;b<d;b++)if(f=m[b],f.search_match=!1,v=null,f.highlighted_html="",this.include_option_in_results(f)&&(f.group&&(f.group_match=!1,f.active_options=0),null!=f.group_array_index&&this.results_data[f.group_array_index]&&(v=this.results_data[f.group_array_index],0===v.active_options&&v.search_match&&(h+=1),v.active_options+=1),z=f.group?f.label:f.text,!f.group||this.group_search))c=this.search_string_match(z,e),f.search_match=null!=c,f.search_match&&!f.group&&(h+=1),f.search_match?(k.length&&
(A=c.index,q=z.slice(0,A),c=z.slice(A,A+k.length),z=z.slice(A+k.length),f.highlighted_html=this.escape_html(q)+"\x3cem\x3e"+this.escape_html(c)+"\x3c/em\x3e"+this.escape_html(z)),null!=v&&(v.group_match=!0)):null!=f.group_array_index&&this.results_data[f.group_array_index].search_match&&(f.search_match=!0);this.result_clear_highlight();if(1>h&&k.length)return this.update_results_content(""),this.no_results(k);this.update_results_content(this.results_option_build());if(null==a||!a.skip_highlight)return this.winnow_results_set_highlight()};
a.prototype.get_search_regex=function(a){a=this.search_contains?a:"(^|\\s|\\b)"+a+"[^\\s]*";this.enable_split_word_search||this.search_contains||(a="^"+a);return new RegExp(a,this.case_sensitive_search?"":"i")};a.prototype.search_string_match=function(a,b){var c;c=b.exec(a);!this.search_contains&&null!=c&&c[1]&&(c.index+=1);return c};a.prototype.choices_count=function(){var a,b,c,d;if(null!=this.selected_option_count)return this.selected_option_count;this.selected_option_count=0;d=this.form_field.options;
a=0;for(b=d.length;a<b;a++)c=d[a],c.selected&&(this.selected_option_count+=1);return this.selected_option_count};a.prototype.choices_click=function(a){a.preventDefault();this.activate_field();if(!this.results_showing&&!this.is_disabled)return this.results_show()};a.prototype.keydown_checker=function(a){var b,c;c=null!=(b=a.which)?b:a.keyCode;this.search_field_scale();8!==c&&this.pending_backstroke&&this.clear_backstroke();switch(c){case 8:this.backstroke_length=this.get_search_field_value().length;
break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(a);this.mouse_on_container=!1;break;case 13:this.results_showing&&a.preventDefault();break;case 27:this.results_showing&&a.preventDefault();break;case 32:this.disable_search&&a.preventDefault();break;case 38:a.preventDefault();this.keyup_arrow();break;case 40:a.preventDefault(),this.keydown_arrow()}};a.prototype.keyup_checker=function(a){var b,c;c=null!=(b=a.which)?b:a.keyCode;this.search_field_scale();switch(c){case 8:this.is_multiple&&
1>this.backstroke_length&&0<this.choices_count()?this.keydown_backstroke():this.pending_backstroke||(this.result_clear_highlight(),this.results_search());break;case 13:a.preventDefault();this.results_showing&&this.result_select(a);break;case 27:this.results_showing&&this.results_hide();break;case 9:case 16:case 17:case 18:case 38:case 40:case 91:break;default:this.results_search()}};a.prototype.clipboard_event_checker=function(a){if(!this.is_disabled)return setTimeout(function(a){return function(){return a.results_search()}}(this),
50)};a.prototype.container_width=function(){return null!=this.options.width?this.options.width:this.form_field.offsetWidth+"px"};a.prototype.include_option_in_results=function(a){return this.is_multiple&&!this.display_selected_options&&a.selected||!this.display_disabled_options&&a.disabled||a.empty?!1:!0};a.prototype.search_results_touchstart=function(a){this.touch_started=!0;return this.search_results_mouseover(a)};a.prototype.search_results_touchmove=function(a){this.touch_started=!1;return this.search_results_mouseout(a)};
a.prototype.search_results_touchend=function(a){if(this.touch_started)return this.search_results_mouseup(a)};a.prototype.outerHTML=function(a){var b;if(a.outerHTML)return a.outerHTML;b=document.createElement("div");b.appendChild(a);return b.innerHTML};a.prototype.get_single_html=function(){return'\x3ca class\x3d"chosen-single chosen-default"\x3e\n  \x3cspan\x3e'+this.default_text+'\x3c/span\x3e\n  \x3cdiv\x3e\x3cb\x3e\x3c/b\x3e\x3c/div\x3e\n\x3c/a\x3e\n\x3cdiv class\x3d"chosen-drop"\x3e\n  \x3cdiv class\x3d"chosen-search"\x3e\n    \x3cinput class\x3d"chosen-search-input" type\x3d"text" autocomplete\x3d"off" /\x3e\n  \x3c/div\x3e\n  \x3cul class\x3d"chosen-results"\x3e\x3c/ul\x3e\n\x3c/div\x3e'};
a.prototype.get_multi_html=function(){return'\x3cul class\x3d"chosen-choices"\x3e\n  \x3cli class\x3d"search-field"\x3e\n    \x3cinput class\x3d"chosen-search-input" type\x3d"text" autocomplete\x3d"off" value\x3d"'+this.default_text+'" /\x3e\n  \x3c/li\x3e\n\x3c/ul\x3e\n\x3cdiv class\x3d"chosen-drop"\x3e\n  \x3cul class\x3d"chosen-results"\x3e\x3c/ul\x3e\n\x3c/div\x3e'};a.prototype.get_no_results_html=function(a){return'\x3cli class\x3d"no-results"\x3e\n  '+this.results_none_found+" \x3cspan\x3e"+
this.escape_html(a)+"\x3c/span\x3e\n\x3c/li\x3e"};a.browser_is_supported=function(){return"Microsoft Internet Explorer"===window.navigator.appName?8<=document.documentMode:/iP(od|hone)/i.test(window.navigator.userAgent)||/IEMobile/i.test(window.navigator.userAgent)||/Windows Phone/i.test(window.navigator.userAgent)||/BlackBerry/i.test(window.navigator.userAgent)||/BB10/i.test(window.navigator.userAgent)||/Android.*Mobile/i.test(window.navigator.userAgent)?!1:!0};a.default_multiple_text="Select Some Options";
a.default_single_text="Select an Option";a.default_no_result_text="No results match";return a}();a=jQuery;a.fn.extend({chosen:function(d){return b.browser_is_supported()?this.each(function(b){var u;b=a(this);u=b.data("chosen");"destroy"===d?u instanceof c&&u.destroy():u instanceof c||b.data("chosen",new c(this,d))}):this}});c=function(b){function c(){return c.__super__.constructor.apply(this,arguments)}n(c,b);c.prototype.setup=function(){this.form_field_jq=a(this.form_field);return this.current_selectedIndex=
this.form_field.selectedIndex};c.prototype.set_up_html=function(){var b;b=["chosen-container"];b.push("chosen-container-"+(this.is_multiple?"multi":"single"));this.inherit_select_classes&&this.form_field.className&&b.push(this.form_field.className);this.is_rtl&&b.push("chosen-rtl");b={"class":b.join(" "),title:this.form_field.title};this.form_field.id.length&&(b.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen");this.container=a("\x3cdiv /\x3e",b);this.container.width(this.container_width());
this.is_multiple?this.container.html(this.get_multi_html()):this.container.html(this.get_single_html());this.form_field_jq.hide().after(this.container);this.dropdown=this.container.find("div.chosen-drop").first();this.search_field=this.container.find("input").first();this.search_results=this.container.find("ul.chosen-results").first();this.search_field_scale();this.search_no_results=this.container.find("li.no-results").first();this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),
this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first());this.results_build();this.set_tab_index();return this.set_label_behavior()};c.prototype.on_ready=function(){return this.form_field_jq.trigger("chosen:ready",{chosen:this})};c.prototype.register_observers=function(){this.container.on("touchstart.chosen",function(a){return function(b){a.container_mousedown(b)}}(this));
this.container.on("touchend.chosen",function(a){return function(b){a.container_mouseup(b)}}(this));this.container.on("mousedown.chosen",function(a){return function(b){a.container_mousedown(b)}}(this));this.container.on("mouseup.chosen",function(a){return function(b){a.container_mouseup(b)}}(this));this.container.on("mouseenter.chosen",function(a){return function(b){a.mouse_enter(b)}}(this));this.container.on("mouseleave.chosen",function(a){return function(b){a.mouse_leave(b)}}(this));this.search_results.on("mouseup.chosen",
function(a){return function(b){a.search_results_mouseup(b)}}(this));this.search_results.on("mouseover.chosen",function(a){return function(b){a.search_results_mouseover(b)}}(this));this.search_results.on("mouseout.chosen",function(a){return function(b){a.search_results_mouseout(b)}}(this));this.search_results.on("mousewheel.chosen DOMMouseScroll.chosen",function(a){return function(b){a.search_results_mousewheel(b)}}(this));this.search_results.on("touchstart.chosen",function(a){return function(b){a.search_results_touchstart(b)}}(this));
this.search_results.on("touchmove.chosen",function(a){return function(b){a.search_results_touchmove(b)}}(this));this.search_results.on("touchend.chosen",function(a){return function(b){a.search_results_touchend(b)}}(this));this.form_field_jq.on("chosen:updated.chosen",function(a){return function(b){a.results_update_field(b)}}(this));this.form_field_jq.on("chosen:activate.chosen",function(a){return function(b){a.activate_field(b)}}(this));this.form_field_jq.on("chosen:open.chosen",function(a){return function(b){a.container_mousedown(b)}}(this));
this.form_field_jq.on("chosen:close.chosen",function(a){return function(b){a.close_field(b)}}(this));this.search_field.on("blur.chosen",function(a){return function(b){a.input_blur(b)}}(this));this.search_field.on("keyup.chosen",function(a){return function(b){a.keyup_checker(b)}}(this));this.search_field.on("keydown.chosen",function(a){return function(b){a.keydown_checker(b)}}(this));this.search_field.on("focus.chosen",function(a){return function(b){a.input_focus(b)}}(this));this.search_field.on("cut.chosen",
function(a){return function(b){a.clipboard_event_checker(b)}}(this));this.search_field.on("paste.chosen",function(a){return function(b){a.clipboard_event_checker(b)}}(this));return this.is_multiple?this.search_choices.on("click.chosen",function(a){return function(b){a.choices_click(b)}}(this)):this.container.on("click.chosen",function(a){a.preventDefault()})};c.prototype.destroy=function(){a(this.container[0].ownerDocument).off("click.chosen",this.click_test_action);0<this.form_field_label.length&&
this.form_field_label.off("click.chosen");this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex);this.container.remove();this.form_field_jq.removeData("chosen");return this.form_field_jq.show()};c.prototype.search_field_disabled=function(){this.is_disabled=this.form_field.disabled||this.form_field_jq.parents("fieldset").is(":disabled");this.container.toggleClass("chosen-disabled",this.is_disabled);this.search_field[0].disabled=this.is_disabled;this.is_multiple||
this.selected_item.off("focus.chosen",this.activate_field);if(this.is_disabled)return this.close_field();if(!this.is_multiple)return this.selected_item.on("focus.chosen",this.activate_field)};c.prototype.container_mousedown=function(b){var c;if(!this.is_disabled&&(!b||"mousedown"!==(c=b.type)&&"touchstart"!==c||this.results_showing||b.preventDefault(),null==b||!a(b.target).hasClass("search-choice-close")))return this.active_field?this.is_multiple||!b||a(b.target)[0]!==this.selected_item[0]&&!a(b.target).parents("a.chosen-single").length||
(b.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),a(this.container[0].ownerDocument).on("click.chosen",this.click_test_action),this.results_show()),this.activate_field()};c.prototype.container_mouseup=function(a){if("ABBR"===a.target.nodeName&&!this.is_disabled)return this.results_reset(a)};c.prototype.search_results_mousewheel=function(a){var b;a.originalEvent&&(b=a.originalEvent.deltaY||-a.originalEvent.wheelDelta||a.originalEvent.detail);if(null!=b)return a.preventDefault(),
"DOMMouseScroll"===a.type&&(b*=40),this.search_results.scrollTop(b+this.search_results.scrollTop())};c.prototype.blur_test=function(a){if(!this.active_field&&this.container.hasClass("chosen-container-active"))return this.close_field()};c.prototype.close_field=function(){a(this.container[0].ownerDocument).off("click.chosen",this.click_test_action);this.active_field=!1;this.results_hide();this.container.removeClass("chosen-container-active");this.clear_backstroke();this.show_search_field_default();
this.search_field_scale();return this.search_field.blur()};c.prototype.activate_field=function(){if(!this.is_disabled)return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()};c.prototype.test_active_click=function(b){b=a(b.target).closest(".chosen-container");return b.length&&this.container[0]===b[0]?this.active_field=!0:this.close_field()};c.prototype.results_build=function(){this.parsing=!0;this.selected_option_count=
null;this.results_data=d.select_to_array(this.form_field);this.is_multiple?this.search_choices.find("li.search-choice").remove():(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch")));this.update_results_content(this.results_option_build({first:!0}));
this.search_field_disabled();this.show_search_field_default();this.search_field_scale();return this.parsing=!1};c.prototype.result_do_highlight=function(a){var b,c,f,q;if(a.length){this.result_clear_highlight();this.result_highlight=a;this.result_highlight.addClass("highlighted");c=parseInt(this.search_results.css("maxHeight"),10);q=this.search_results.scrollTop();f=c+q;b=this.result_highlight.position().top+this.search_results.scrollTop();a=b+this.result_highlight.outerHeight();if(a>=f)return this.search_results.scrollTop(0<
a-c?a-c:0);if(b<q)return this.search_results.scrollTop(b)}};c.prototype.result_clear_highlight=function(){this.result_highlight&&this.result_highlight.removeClass("highlighted");return this.result_highlight=null};c.prototype.results_show=function(){if(this.is_multiple&&this.max_selected_options<=this.choices_count())return this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1;this.container.addClass("chosen-with-drop");this.results_showing=!0;this.search_field.focus();this.search_field.val(this.get_search_field_value());
this.winnow_results();return this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this})};c.prototype.update_results_content=function(a){return this.search_results.html(a)};c.prototype.results_hide=function(){this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this}));return this.results_showing=!1};c.prototype.set_tab_index=function(a){if(this.form_field.tabIndex)return a=this.form_field.tabIndex,
this.form_field.tabIndex=-1,this.search_field[0].tabIndex=a};c.prototype.set_label_behavior=function(){this.form_field_label=this.form_field_jq.parents("label");!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=a("label[for\x3d'"+this.form_field.id+"']"));if(0<this.form_field_label.length)return this.form_field_label.on("click.chosen",this.label_click_handler)};c.prototype.show_search_field_default=function(){if(this.is_multiple&&1>this.choices_count()&&!this.active_field)return this.search_field.val(this.default_text),
this.search_field.addClass("default");this.search_field.val("");return this.search_field.removeClass("default")};c.prototype.search_results_mouseup=function(b){var c;c=a(b.target).hasClass("active-result")?a(b.target):a(b.target).parents(".active-result").first();if(c.length)return this.result_highlight=c,this.result_select(b),this.search_field.focus()};c.prototype.search_results_mouseover=function(b){if(b=a(b.target).hasClass("active-result")?a(b.target):a(b.target).parents(".active-result").first())return this.result_do_highlight(b)};
c.prototype.search_results_mouseout=function(b){if(a(b.target).hasClass("active-result")||a(b.target).parents(".active-result").first())return this.result_clear_highlight()};c.prototype.choice_build=function(b){var c;c=a("\x3cli /\x3e",{"class":"search-choice"}).html("\x3cspan\x3e"+this.choice_label(b)+"\x3c/span\x3e");b.disabled?c.addClass("search-choice-disabled"):(b=a("\x3ca /\x3e",{"class":"search-choice-close","data-option-array-index":b.array_index}),b.on("click.chosen",function(a){return function(b){return a.choice_destroy_link_click(b)}}(this)),
c.append(b));return this.search_container.before(c)};c.prototype.choice_destroy_link_click=function(b){b.preventDefault();b.stopPropagation();if(!this.is_disabled)return this.choice_destroy(a(b.target))};c.prototype.choice_destroy=function(a){if(this.result_deselect(a[0].getAttribute("data-option-array-index")))return this.active_field?this.search_field.focus():this.show_search_field_default(),this.is_multiple&&0<this.choices_count()&&1>this.get_search_field_value().length&&this.results_hide(),a.parents("li").first().remove(),
this.search_field_scale()};c.prototype.results_reset=function(){this.reset_single_select_options();this.form_field.options[0].selected=!0;this.single_set_selected_text();this.show_search_field_default();this.results_reset_cleanup();this.trigger_form_field_change();if(this.active_field)return this.results_hide()};c.prototype.results_reset_cleanup=function(){this.current_selectedIndex=this.form_field.selectedIndex;return this.selected_item.find("abbr").remove()};c.prototype.result_select=function(a){var b;
if(this.result_highlight){b=this.result_highlight;this.result_clear_highlight();if(this.is_multiple&&this.max_selected_options<=this.choices_count())return this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1;this.is_multiple?b.removeClass("active-result"):this.reset_single_select_options();b.addClass("result-selected");b=this.results_data[b[0].getAttribute("data-option-array-index")];b.selected=!0;this.form_field.options[b.options_index].selected=!0;this.selected_option_count=null;this.is_multiple?
this.choice_build(b):this.single_set_selected_text(this.choice_label(b));this.is_multiple&&(!this.hide_results_on_select||a.metaKey||a.ctrlKey)?a.metaKey||a.ctrlKey?this.winnow_results({skip_highlight:!0}):(this.search_field.val(""),this.winnow_results()):(this.results_hide(),this.show_search_field_default());(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.trigger_form_field_change({selected:this.form_field.options[b.options_index].value});this.current_selectedIndex=
this.form_field.selectedIndex;a.preventDefault();return this.search_field_scale()}};c.prototype.single_set_selected_text=function(a){null==a&&(a=this.default_text);a===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default"));return this.selected_item.find("span").html(a)};c.prototype.result_deselect=function(a){a=this.results_data[a];if(this.form_field.options[a.options_index].disabled)return!1;a.selected=
!1;this.form_field.options[a.options_index].selected=!1;this.selected_option_count=null;this.result_clear_highlight();this.results_showing&&this.winnow_results();this.trigger_form_field_change({deselected:this.form_field.options[a.options_index].value});this.search_field_scale();return!0};c.prototype.single_deselect_control_build=function(){if(this.allow_single_deselect)return this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('\x3cabbr class\x3d"search-choice-close"\x3e\x3c/abbr\x3e'),
this.selected_item.addClass("chosen-single-with-deselect")};c.prototype.get_search_field_value=function(){return this.search_field.val()};c.prototype.get_search_text=function(){return a.trim(this.get_search_field_value())};c.prototype.escape_html=function(b){return a("\x3cdiv/\x3e").text(b).html()};c.prototype.winnow_results_set_highlight=function(){var a;a=this.is_multiple?[]:this.search_results.find(".result-selected.active-result");a=a.length?a.first():this.search_results.find(".active-result").first();
if(null!=a)return this.result_do_highlight(a)};c.prototype.no_results=function(a){a=this.get_no_results_html(a);this.search_results.append(a);return this.form_field_jq.trigger("chosen:no_results",{chosen:this})};c.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()};c.prototype.keydown_arrow=function(){var a;if(this.results_showing&&this.result_highlight){if(a=this.result_highlight.nextAll("li.active-result").first())return this.result_do_highlight(a)}else return this.results_show()};
c.prototype.keyup_arrow=function(){var a;if(!this.results_showing&&!this.is_multiple)return this.results_show();if(this.result_highlight){a=this.result_highlight.prevAll("li.active-result");if(a.length)return this.result_do_highlight(a.first());0<this.choices_count()&&this.results_hide();return this.result_clear_highlight()}};c.prototype.keydown_backstroke=function(){var a;if(this.pending_backstroke)return this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke();a=this.search_container.siblings("li.search-choice").last();
if(a.length&&!a.hasClass("search-choice-disabled"))return this.pending_backstroke=a,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")};c.prototype.clear_backstroke=function(){this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus");return this.pending_backstroke=null};c.prototype.search_field_scale=function(){var b,c,d,f,q;if(this.is_multiple){f={position:"absolute",left:"-1000px",top:"-1000px",display:"none",
whiteSpace:"pre"};q="fontSize fontStyle fontWeight fontFamily lineHeight textTransform letterSpacing".split(" ");b=0;for(c=q.length;b<c;b++)d=q[b],f[d]=this.search_field.css(d);b=a("\x3cdiv /\x3e").css(f);b.text(this.get_search_field_value());a("body").append(b);c=b.width()+25;b.remove();this.container.is(":visible")&&(c=Math.min(this.container.outerWidth()-10,c));return this.search_field.width(c)}};c.prototype.trigger_form_field_change=function(a){this.form_field_jq.trigger("input",a);return this.form_field_jq.trigger("change",
a)};return c}(b)}).call(this);
(function(a,b,c){"function"===typeof define&&define.amd?define(["jquery"],a):"object"===typeof exports&&"undefined"===typeof Meteor?module.exports=a(require("jquery")):a(b||c)})(function(a){var b=function(b,c,d){var l={invalid:[],getCaret:function(){try{var a,c=0,k=b.get(0),m=document.selection,e=k.selectionStart;if(m&&-1===navigator.appVersion.indexOf("MSIE 10"))a=m.createRange(),a.moveStart("character",-l.val().length),c=a.text.length;else if(e||"0"===e)c=e;return c}catch(h){}},setCaret:function(a){try{if(b.is(":focus")){var c,
k=b.get(0);k.setSelectionRange?k.setSelectionRange(a,a):(c=k.createTextRange(),c.collapse(!0),c.moveEnd("character",a),c.moveStart("character",a),c.select())}}catch(m){}},events:function(){b.on("keydown.mask",function(a){b.data("mask-keycode",a.keyCode||a.which);b.data("mask-previus-value",b.val());b.data("mask-previus-caret-pos",l.getCaret());l.maskDigitPosMapOld=l.maskDigitPosMap}).on(a.jMaskGlobals.useInput?"input.mask":"keyup.mask",l.behaviour).on("paste.mask drop.mask",function(){setTimeout(function(){b.keydown().keyup()},
100)}).on("change.mask",function(){b.data("changed",!0)}).on("blur.mask",function(){t===l.val()||b.data("changed")||b.trigger("change");b.data("changed",!1)}).on("blur.mask",function(){t=l.val()}).on("focus.mask",function(b){!0===d.selectOnFocus&&a(b.target).select()}).on("focusout.mask",function(){d.clearIfNotMatch&&!x.test(l.val())&&l.val("")})},getRegexMask:function(){for(var a=[],b,k,m,e,h=0;h<c.length;h++)(b=g.translation[c.charAt(h)])?(k=b.pattern.toString().replace(/.{1}$|^.{1}/g,""),m=b.optional,
(b=b.recursive)?(a.push(c.charAt(h)),e={digit:c.charAt(h),pattern:k}):a.push(m||b?k+"?":k)):a.push(c.charAt(h).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$\x26"));a=a.join("");e&&(a=a.replace(new RegExp("("+e.digit+"(.*"+e.digit+")?)"),"($1)?").replace(new RegExp(e.digit,"g"),e.pattern));return new RegExp(a)},destroyEvents:function(){b.off("input keydown keyup paste drop blur focusout ".split(" ").join(".mask "))},val:function(a){var c=b.is("input")?"val":"text";if(0<arguments.length){if(b[c]()!==a)b[c](a);
c=b}else c=b[c]();return c},calculateCaretPosition:function(a){var c=l.getMasked(),k=l.getCaret();if(a!==c){for(var m=b.data("mask-previus-caret-pos")||0,c=c.length,e=a.length,h=a=0,v=0,A=0,d=0,d=k;d<c&&l.maskDigitPosMap[d];d++)h++;for(d=k-1;0<=d&&l.maskDigitPosMap[d];d--)a++;for(d=k-1;0<=d;d--)l.maskDigitPosMap[d]&&v++;for(d=m-1;0<=d;d--)l.maskDigitPosMapOld[d]&&A++;k>e?k=10*c:m>=k&&m!==e?l.maskDigitPosMapOld[k]||(m=k,k=k-(A-v)-a,l.maskDigitPosMap[k]&&(k=m)):k>m&&(k+=v-A,k+=h)}return k},behaviour:function(c){c=
c||window.event;l.invalid=[];var q=b.data("mask-keycode");if(-1===a.inArray(q,g.byPassKeys)){var q=l.getMasked(),k=l.getCaret(),m=b.data("mask-previus-value")||"";setTimeout(function(){l.setCaret(l.calculateCaretPosition(m))},a.jMaskGlobals.keyStrokeCompensation);l.val(q);l.setCaret(k);return l.callbacks(c)}},getMasked:function(a,b){var k=[],m=void 0===b?l.val():b+"",e=0,h=c.length,v=0,A=m.length,z=1,B="push",n=-1,t=0,x=[],M,E;d.reverse?(B="unshift",z=-1,M=0,e=h-1,v=A-1,E=function(){return-1<e&&-1<
v}):(M=h-1,E=function(){return e<h&&v<A});for(var S;E();){var C=c.charAt(e),H=m.charAt(v),T=g.translation[C];if(T)H.match(T.pattern)?(k[B](H),T.recursive&&(-1===n?n=e:e===M&&e!==n&&(e=n-z),M===n&&(e-=z)),e+=z):H===S?(t--,S=void 0):T.optional?(e+=z,v-=z):T.fallback?(k[B](T.fallback),e+=z,v-=z):l.invalid.push({p:v,v:H,e:T.pattern}),v+=z;else{if(!a)k[B](C);H===C?(x.push(v),v+=z):(S=C,x.push(v+t),t++);e+=z}}m=c.charAt(M);h!==A+1||g.translation[m]||k.push(m);k=k.join("");l.mapMaskdigitPositions(k,x,A);
return k},mapMaskdigitPositions:function(a,b,c){a=d.reverse?a.length-c:0;l.maskDigitPosMap={};for(c=0;c<b.length;c++)l.maskDigitPosMap[b[c]+a]=1},callbacks:function(a){var q=l.val(),k=q!==t,m=[q,a,b,d],e=function(a,b,e){"function"===typeof d[a]&&b&&d[a].apply(this,e)};e("onChange",!0===k,m);e("onKeyPress",!0===k,m);e("onComplete",q.length===c.length,m);e("onInvalid",0<l.invalid.length,[q,a,b,l.invalid,d])}};b=a(b);var g=this,t=l.val(),x;c="function"===typeof c?c(l.val(),void 0,b,d):c;g.mask=c;g.options=
d;g.remove=function(){var a=l.getCaret();g.options.placeholder&&b.removeAttr("placeholder");b.data("mask-maxlength")&&b.removeAttr("maxlength");l.destroyEvents();l.val(g.getCleanVal());l.setCaret(a);return b};g.getCleanVal=function(){return l.getMasked(!0)};g.getMaskedVal=function(a){return l.getMasked(!1,a)};g.init=function(f){f=f||!1;d=d||{};g.clearIfNotMatch=a.jMaskGlobals.clearIfNotMatch;g.byPassKeys=a.jMaskGlobals.byPassKeys;g.translation=a.extend({},a.jMaskGlobals.translation,d.translation);
g=a.extend(!0,{},g,d);x=l.getRegexMask();if(f)l.events(),l.val(l.getMasked());else{d.placeholder&&b.attr("placeholder",d.placeholder);b.data("mask")&&b.attr("autocomplete","off");f=0;for(var q=!0;f<c.length;f++){var k=g.translation[c.charAt(f)];if(k&&k.recursive){q=!1;break}}q&&b.attr("maxlength",c.length).data("mask-maxlength",!0);l.destroyEvents();l.events();f=l.getCaret();l.val(l.getMasked());l.setCaret(f)}};g.init(!b.is("input"))};a.maskWatchers={};var c=function(){var c=a(this),p={},g=c.attr("data-mask");
c.attr("data-mask-reverse")&&(p.reverse=!0);c.attr("data-mask-clearifnotmatch")&&(p.clearIfNotMatch=!0);"true"===c.attr("data-mask-selectonfocus")&&(p.selectOnFocus=!0);if(d(c,g,p))return c.data("mask",new b(this,g,p))},d=function(b,c,d){d=d||{};var l=a(b).data("mask"),g=JSON.stringify;b=a(b).val()||a(b).text();try{return"function"===typeof c&&(c=c(b)),"object"!==typeof l||g(l.options)!==g(d)||l.mask!==c}catch(t){}},g=function(a){var b=document.createElement("div"),c;a="on"+a;c=a in b;c||(b.setAttribute(a,
"return;"),c="function"===typeof b[a]);return c};a.fn.mask=function(c,g){g=g||{};var r=this.selector,l=a.jMaskGlobals,u=l.watchInterval,l=g.watchInputs||l.watchInputs,t=function(){if(d(this,c,g))return a(this).data("mask",new b(this,c,g))};a(this).each(t);r&&""!==r&&l&&(clearInterval(a.maskWatchers[r]),a.maskWatchers[r]=setInterval(function(){a(document).find(r).each(t)},u));return this};a.fn.masked=function(a){return this.data("mask").getMaskedVal(a)};a.fn.unmask=function(){clearInterval(a.maskWatchers[this.selector]);
delete a.maskWatchers[this.selector];return this.each(function(){var b=a(this).data("mask");b&&b.remove().removeData("mask")})};a.fn.cleanVal=function(){return this.data("mask").getCleanVal()};a.applyDataMask=function(b){b=b||a.jMaskGlobals.maskElements;(b instanceof a?b:a(b)).filter(a.jMaskGlobals.dataMaskAttr).each(c)};g={maskElements:"input,td,span,div",dataMaskAttr:"*[data-mask]",dataMask:!0,watchInterval:300,watchInputs:!0,keyStrokeCompensation:10,useInput:!/Chrome\/[2-4][0-9]|SamsungBrowser/.test(window.navigator.userAgent)&&
g("input"),watchDataMask:!1,byPassKeys:[9,16,17,18,36,37,38,39,40,91],translation:{0:{pattern:/\d/},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,recursive:!0},A:{pattern:/[a-zA-Z0-9]/},S:{pattern:/[a-zA-Z]/}}};a.jMaskGlobals=a.jMaskGlobals||{};g=a.jMaskGlobals=a.extend(!0,{},g,a.jMaskGlobals);g.dataMask&&a.applyDataMask();setInterval(function(){a.jMaskGlobals.watchDataMask&&a.applyDataMask()},g.watchInterval)},window.jQuery,window.Zepto);
(function(a){"function"===typeof define&&define.amd?define(["jquery"],a):"object"===typeof module&&module.exports?a(require("jquery")):a(jQuery)})(function(a){function b(b){var c={},q=/^jQuery\d+$/;a.each(b.attributes,function(a,b){b.specified&&!q.test(b.name)&&(c[b.name]=b.value)});return c}function c(b,c){var q=a(this);if(this.value===q.attr("placeholder")&&q.hasClass(t.customClass))if(this.value="",q.removeClass(t.customClass),q.data("placeholder-password")){q=q.hide().nextAll('input[type\x3d"password"]:first').show().attr("id",
q.removeAttr("id").data("placeholder-id"));if(!0===b)return q[0].value=c;q.focus()}else this==g()&&this.select()}function d(d){var f,q=a(this),k=this.id;if(!d||"blur"!==d.type||!q.hasClass(t.customClass))if(""===this.value){if("password"===this.type){if(!q.data("placeholder-textinput")){try{f=q.clone().prop({type:"text"})}catch(m){f=a("\x3cinput\x3e").attr(a.extend(b(this),{type:"text"}))}f.removeAttr("name").data({"placeholder-enabled":!0,"placeholder-password":q,"placeholder-id":k}).bind("focus.placeholder",
c);q.data({"placeholder-textinput":f,"placeholder-id":k}).before(f)}this.value="";q=q.removeAttr("id").hide().prevAll('input[type\x3d"text"]:first').attr("id",q.data("placeholder-id")).show()}else if(d=q.data("placeholder-password"))d[0].value="",q.attr("id",q.data("placeholder-id")).show().nextAll('input[type\x3d"password"]:last').hide().removeAttr("id");q.addClass(t.customClass);q[0].value=q.attr("placeholder")}else q.removeClass(t.customClass)}function g(){try{return document.activeElement}catch(a){}}
var n="[object OperaMini]"===Object.prototype.toString.call(window.operamini),p="placeholder"in document.createElement("input")&&!n&&!0,n="placeholder"in document.createElement("textarea")&&!n&&!0,r=a.valHooks,l=a.propHooks,u,t={};p&&n?(u=a.fn.placeholder=function(){return this},u.input=!0,u.textarea=!0):(u=a.fn.placeholder=function(b){t=a.extend({},{customClass:"placeholder"},b);return this.filter((p?"textarea":":input")+"[placeholder]").not("."+t.customClass).not(":radio, :checkbox, [type\x3dhidden]").bind({"focus.placeholder":c,
"blur.placeholder":d}).data("placeholder-enabled",!0).trigger("blur.placeholder")},u.input=p,u.textarea=n,u={get:function(b){var c=a(b),q=c.data("placeholder-password");return q?q[0].value:c.data("placeholder-enabled")&&c.hasClass(t.customClass)?"":b.value},set:function(b,f){var q=a(b),k,m;""!==f&&(k=q.data("placeholder-textinput"),m=q.data("placeholder-password"),k?(c.call(k[0],!0,f)||(b.value=f),k[0].value=f):m&&(c.call(b,!0,f)||(m[0].value=f),b.value=f));if(!q.data("placeholder-enabled"))return b.value=
f,q;""===f?(b.value=f,b!=g()&&d.call(b)):(q.hasClass(t.customClass)&&c.call(b),b.value=f);return q}},p||(r.input=u,l.value=u),n||(r.textarea=u,l.value=u),a(function(){a(document).delegate("form","submit.placeholder",function(){var b=a("."+t.customClass,this).each(function(){c.call(this,!0,"")});setTimeout(function(){b.each(d)},10)})}),a(window).bind("beforeunload.placeholder",function(){var b=!0;try{"javascript:void(0)"===document.activeElement.toString()&&(b=!1)}catch(c){}b&&a("."+t.customClass).each(function(){this.value=
""})}))});
(function(a){function b(a,b){if(8==t){var e=m.width(),h=l.debounce(function(){var a=m.width();e!=a&&(e=a,b())},1);m.on(a,h)}else m.on(a,l.debounce(b,1))}function c(b){b=b[0].parentElement;do if("visible"!=window.getComputedStyle(b).getPropertyValue("overflow"))break;while(b=b.parentElement);return b==document.body?a([]):a(b)}function d(a){window&&window.console&&window.console.error&&window.console.error("jQuery.floatThead: "+a)}function g(a){a=a.getBoundingClientRect();return a.width||a.right-a.left}
function n(){var a=document.createElement("scrolltester");a.style.cssText="width:100px;height:100px;overflow:scroll!important;position:absolute;top:-9999px;display:block";document.body.appendChild(a);var b=a.offsetWidth-a.clientWidth;document.body.removeChild(a);return b}function p(a){if(a.dataTableSettings)for(var b=0;b<a.dataTableSettings.length;b++)if(a[0]==a.dataTableSettings[b].nTable)return!0;return!1}function r(a,b,e){var h=e?"outerWidth":"width";if(q&&a.css("max-width")){h=0;e&&(h+=parseInt(a.css("borderLeft"),
10),h+=parseInt(a.css("borderRight"),10));for(a=0;a<b.length;a++)h+=g(b.get(a));return h}return a[h]()}a.floatThead=a.floatThead||{};a.floatThead.defaults={headerCellSelector:"tr:visible:first\x3e*:visible",zIndex:1001,position:"auto",top:0,bottom:0,scrollContainer:function(b){return a([])},responsiveContainer:function(b){return a([])},getSizingRow:function(a,b,e){return a.find("tbody tr:visible:first\x3e*:visible")},floatTableClass:"floatThead-table",floatWrapperClass:"floatThead-wrapper",floatContainerClass:"floatThead-container",
copyTableClass:!0,autoReflow:!1,debug:!1,support:{bootstrap:!0,datatables:!0,jqueryUI:!0,perfectScrollbar:!0},floatContainerCss:{"overflow-x":"hidden"}};var l=function(){var b={},e=Object.prototype.hasOwnProperty;b.has=function(a,b){return e.call(a,b)};b.keys=Object.keys||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var e=[],h;for(h in a)b.has(a,h)&&e.push(h);return e};var h=0;b.uniqueId=function(a){var b=++h+"";return a?a+b:b};a.each("Arguments Function String Number Date RegExp".split(" "),
function(){var a=this;b["is"+a]=function(b){return Object.prototype.toString.call(b)=="[object "+a+"]"}});b.debounce=function(a,b,e){var h,c,k,m,q;return function(){k=this;c=arguments;m=new Date;var f=function(){var v=new Date-m;v<b?h=setTimeout(f,b-v):(h=null,e||(q=a.apply(k,c)))},v=e&&!h;h||(h=setTimeout(f,b));v&&(q=a.apply(k,c));return q}};return b}(),u="undefined"!==typeof MutationObserver,t=function(){for(var a=3,b=document.createElement("b"),e=b.all||[];a=1+a,b.innerHTML="\x3c!--[if gt IE "+
a+"]\x3e\x3ci\x3e\x3c![endif]--\x3e",e[0];);return 4<a?a:document.documentMode}(),x=/Gecko\//.test(navigator.userAgent),f=/WebKit\//.test(navigator.userAgent);t||x||f||(t=11);var q=function(){if(f){var b=a("\x3cdiv\x3e").css("width",0).append(a("\x3ctable\x3e").css("max-width","100%").append(a("\x3ctr\x3e").append(a("\x3cth\x3e").append(a("\x3cdiv\x3e").css("min-width",100).text("X")))));a("body").append(b);var e=0==b.find("table").width();b.remove();return e}return!1},k=!x&&!t,m=a(window),e=x&&window.matchMedia;
if(!window.matchMedia||e){var h=window.onbeforeprint,v=window.onafterprint;window.onbeforeprint=function(){h&&h();m.triggerHandler("beforeprint")};window.onafterprint=function(){v&&v();m.triggerHandler("afterprint")}}a.fn.floatThead=function(h){h=h||{};if(8>t)return this;var v=null;l.isFunction(q)&&(q=q());if(l.isString(h)){var B=h,x=Array.prototype.slice.call(arguments,1),L=this;this.filter("table").each(function(){var b=a(this),e=b.data("floatThead-lazy");e&&b.floatThead(e);(b=b.data("floatThead-attached"))&&
l.isFunction(b[B])&&(b=b[B].apply(this,x),void 0!==b&&(L=b))});return L}var y=a.extend({},a.floatThead.defaults||{},h);a.each(h,function(b,e){b in a.floatThead.defaults||!y.debug||d("Used ["+b+"] key to init plugin, but that param is not an option for the plugin. Valid options are: "+l.keys(a.floatThead.defaults).join(", "))});if(y.debug){var M=a.fn.jquery.split(".");1==parseInt(M[0],10)&&7>=parseInt(M[1],10)&&d("jQuery version "+a.fn.jquery+" detected! This plugin supports 1.8 or better, or 1.7.x with jQuery UI 1.8.24 -\x3e http://jqueryui.com/resources/download/jquery-ui-1.8.24.zip")}this.filter(":not(."+
y.floatTableClass+")").each(function(){function h(a){return a+".fth-"+za+".floatTHead"}function q(){var b=0;P.children("tr:visible").each(function(){b+=a(this).outerHeight(!0)});if("collapse"==w.css("border-collapse")){var e=parseInt(w.css("border-top-width"),10),h=parseInt(w.find("thead tr:first").find("\x3e*:first").css("border-top-width"),10);e>h&&(b-=e/2)}ea.outerHeight(b);Aa.outerHeight(b)}function A(){U=(l.isFunction(y.top)?y.top(w):y.top)||0;Ba=(l.isFunction(y.bottom)?y.bottom(w):y.bottom)||
0}function B(){var b,e=P.find(y.headerCellSelector);fa?b=Q.find("col").length:(b=0,e.each(function(){b+=parseInt(a(this).attr("colspan")||1,10)}));if(b!==Ca){Ca=b;for(var h=[],c=[],m=[],q,f=0;f<b;f++)q=e.eq(f).text(),h.push('\x3cth class\x3d"floatThead-col" aria-label\x3d"'+q+'"/\x3e'),c.push("\x3ccol/\x3e"),m.push(a("\x3cfthtd\x3e").css({display:"table-cell",height:0,width:"auto"}));c=c.join("");h=h.join("");k&&(ha.empty(),ha.append(m),V=ha.find("fthtd"));ea.html(h);Aa=ea.find("th");fa||Q.html(c);
aa=Q.find("col");qa.html(c);Da=qa.find("col")}return b}function x(){if(!ba){ba=!0;if(F){var a=r(w,V,!0),b=ia.width();a>b&&w.css("minWidth",a)}w.css(Ea);I.css(Ea);I.append(P);Fa.before(ca);q()}}function Z(){ba&&(ba=!1,F&&w.width(Ma),ca.detach(),w.prepend(P),w.css(da),I.css(da),w.css("minWidth",Ga),w.css("minWidth",r(w,V)))}function L(a){Ha!=a&&(Ha=a,w.triggerHandler("floatThead",[a,G]))}function M(a){F!=a&&(F=a,G.css({position:F?"absolute":"fixed"}))}function ra(){var a,b=B();return function(){var e=
G.scrollLeft();aa=Q.find("col");var h;h=aa;h=k?V:t?y.getSizingRow(w,h,V):h;if(h.length==b&&0<b){if(!fa)for(a=0;a<b;a++)aa.eq(a).css("width","");Z();var c=[];for(a=0;a<b;a++)c[a]=g(h.get(a));for(a=0;a<b;a++)Da.eq(a).width(c[a]),aa.eq(a).width(c[a]);x()}else I.append(P),w.css(da),I.css(da),q();G.scrollLeft(e);w.triggerHandler("reflowed",[G])}}function Ia(a){a=D.css("border-"+a+"-width");var b=0;a&&~a.indexOf("px")&&(b=parseInt(a,10));return b}function ja(){return"auto"==N.css("overflow-x")}function sa(){var a=
D.scrollTop(),b,e=0,h=ka?la.outerHeight(!0):0,c=ma?h:-h,k=G.height(),q=w.offset(),v=0,d=0;if(J){var A=D.offset(),e=q.top-A.top+a;ka&&ma&&(e+=h);v=Ia("left");d=Ia("top");e-=d}else b=q.top-U-k+Ba+W.horizontal;var B=m.scrollTop(),z=m.scrollLeft(),g=(ja()?N:D).scrollLeft()||0;return function(A){na=ja();var l=0>=w[0].offsetWidth&&0>=w[0].offsetHeight;if(!l&&oa)return oa=!1,setTimeout(function(){w.triggerHandler("reflow")},1),null;if(l&&(oa=!0,!F))return null;if("windowScroll"==A)B=m.scrollTop(),z=m.scrollLeft();
else if("containerScroll"==A)if(N.length){if(!na)return;g=N.scrollLeft()}else a=D.scrollTop(),g=D.scrollLeft();else"init"!=A&&(B=m.scrollTop(),z=m.scrollLeft(),a=D.scrollTop(),g=(ja()?N:D).scrollLeft()||0);if(!f||!(0>B||0>z)){if(Ja)"windowScrollDone"==A?M(!0):M(!1);else if("windowScrollDone"==A)return null;q=w.offset();ka&&ma&&(q.top+=h);var t,p;A=w.outerHeight();J&&F?(e>=a?(t=e-a+d,t=0<t?t:0,L(!1)):(t=ta?d:a,L(!0)),p=v):!J&&F?(B>b+A+c?t=A-k+c:q.top>=B+U?(t=0,Z(),L(!1)):(t=U+B-q.top+e+(ma?h:0),x(),
L(!0)),p=g):J&&!F?(e>a||a-e>A?(t=q.top-B,Z(),L(!1)):(t=q.top+a-B-e,x(),L(!0)),p=q.left+g-z):J||F||(B>b+A+c?t=A+U-B+b+c:q.top>B+U?(t=q.top-B,x(),L(!1)):(t=U,L(!0)),p=q.left+g-z);return{top:Math.round(t),left:Math.round(p)}}}}function Ka(){var a=null,b=null,e=null;return function(h,c,k){if(null!=h&&(a!=h.top||b!=h.left)){if(8===t)G.css({top:h.top,left:h.left});else{var m="translateX("+h.left+"px) translateY("+h.top+"px)";G.css({"-webkit-transform":m,"-moz-transform":m,"-ms-transform":m,"-o-transform":m,
transform:m,top:0,left:0})}a=h.top;b=h.left}c&&(h=r(w,V,!0),c=na?N:D,m=c.width()||h,c="hidden"!=c.css("overflow-y")?m-W.vertical:m,G.width(c),J?I.css("width",100*h/c+"%"):I.outerWidth(h));k&&q();k=(na?N:D).scrollLeft();F&&e==k||(G.scrollLeft(k),e=k)}}function ua(){if(D.length)if(y.support&&y.support.perfectScrollbar&&D.data().perfectScrollbar)W={horizontal:0,vertical:0};else{if("scroll"==D.css("overflow-x"))W.horizontal=n;else{var a=D.width(),b=r(w,V);W.horizontal=a-(e<h?n:0)<b?n:0}if("scroll"==D.css("overflow-y"))W.vertical=
n;else{var e=D.height(),h=w.height();W.vertical=e-(a<b?n:0)<h?n:0}}}var za=l.uniqueId(),w=a(this);if(w.data("floatThead-attached"))return!0;if(!w.is("table"))throw Error('jQuery.floatThead must be run on a table element. ex: $("table").floatThead();');u=y.autoReflow&&u;var P=w.children("thead:first"),Fa=w.children("tbody:first");if(0==P.length||0==Fa.length)y.debug&&(0==P.length?d("The thead element is missing."):d("The tbody element is missing.")),w.data("floatThead-lazy",y),w.unbind("reflow").one("reflow",
function(){w.floatThead(y)});else{w.data("floatThead-lazy")&&w.unbind("reflow");w.data("floatThead-lazy",!1);var ba=!0,U,Ba,W={vertical:0,horizontal:0};l.isFunction(n)&&(n=n());var Ca=0;!0===y.scrollContainer&&(y.scrollContainer=c);var D=y.scrollContainer(w)||a([]),J=0<D.length,N=J?a([]):y.responsiveContainer(w)||a([]),na=ja(),F=null;"auto"===y.position?F=null:"fixed"===y.position?F=!1:"absolute"===y.position?F=!0:y.debug&&d('Invalid value given to "position" option, valid is "fixed", "absolute" and "auto". You passed: ',
y.position);null==F&&(F=J);var la=w.find("caption"),ka=1==la.length;if(ka)var ma="top"===(la.css("caption-side")||la.attr("align")||"top");var va=a("\x3cfthfoot\x3e").css({display:"table-footer-group","border-spacing":0,height:0,"border-collapse":"collapse",visibility:"hidden"}),ta=!1,ia=a([]),Ja=9>=t&&!J&&F,I=a("\x3ctable/\x3e"),qa=a("\x3ccolgroup/\x3e"),Q=w.children("colgroup:first"),fa=!0;0==Q.length&&(Q=a("\x3ccolgroup/\x3e"),fa=!1);var ha=a("\x3cfthtr\x3e").css({display:"table-row","border-spacing":0,
height:0,"border-collapse":"collapse"}),G=a("\x3cdiv\x3e").css(y.floatContainerCss).attr("aria-hidden","true"),oa=!1,ca=a("\x3cthead/\x3e"),ea=a('\x3ctr class\x3d"size-row" aria-hidden\x3d"true"/\x3e'),Aa=a([]),aa=a([]),Da=a([]),V=a([]);ca.append(ea);w.prepend(Q);k&&(va.append(ha),w.append(va));I.append(qa);G.append(I);y.copyTableClass&&I.attr("class",w.attr("class"));I.attr({cellpadding:w.attr("cellpadding"),cellspacing:w.attr("cellspacing"),border:w.attr("border")});var K=w.css("display");I.css({borderCollapse:w.css("borderCollapse"),
border:w.css("border"),display:K});J||I.css("width","auto");"none"===K&&(oa=!0);I.addClass(y.floatTableClass).css({margin:0,"border-bottom-width":0});F?(K=function(b,e){var h=b.css("position"),c=b;if("relative"!=h&&"absolute"!=h||e)h={paddingLeft:b.css("paddingLeft"),paddingRight:b.css("paddingRight")},G.css(h),c=b.data("floatThead-containerWrap")||b.wrap(a("\x3cdiv\x3e").addClass(y.floatWrapperClass).css({position:"relative",clear:"both"})).parent(),b.data("floatThead-containerWrap",c),ta=!0;return c},
J?(ia=K(D,!0),ia.prepend(G)):(ia=K(w),w.before(G))):w.before(G);G.css({position:F?"absolute":"fixed",marginTop:0,top:F?0:"auto",zIndex:y.zIndex,willChange:"transform"});G.addClass(y.floatContainerClass);A();var Ea={"table-layout":"fixed"},da={"table-layout":w.css("tableLayout")||"auto"},Ma=w[0].style.width||"",Ga=w.css("minWidth")||"",Ha=!1;ua();var Y;Y=ra();Y();var R=sa(),X=Ka();X(R("init"),!0);var Na=l.debounce(function(){X(R("windowScrollDone"),!1)},1),K=function(){X(R("windowScroll"),!1);Ja&&
Na()},wa=function(){X(R("containerScroll"),!1)},O=l.debounce(function(){w.is(":hidden")||(ua(),A(),Y=ra(),Y(),R=sa(),X(R("reflow"),!0,!0))},1),xa=function(){Z()},ya=function(){x()},La=function(a){a.matches?xa():ya()},pa=null;window.matchMedia&&window.matchMedia("print").addListener&&!e?(pa=window.matchMedia("print"),pa.addListener(La)):(m.on("beforeprint",xa),m.on("afterprint",ya));if(J)if(F)D.on(h("scroll"),wa);else D.on(h("scroll"),wa),m.on(h("scroll"),K);else N.on(h("scroll"),wa),m.on(h("scroll"),
K);m.on(h("load"),O);b(h("resize"),function(){w.is(":hidden")||(A(),ua(),Y=ra(),Y(),R=sa(),X=Ka(),X(R("resize"),!0,!0))});w.on("reflow",O);if(y.support&&y.support.datatables&&p(w))w.on("filter",O).on("sort",O).on("page",O);if(y.support&&y.support.bootstrap)m.on(h("shown.bs.tab"),O);if(y.support&&y.support.jqueryUI)m.on(h("tabsactivate"),O);u&&(K=null,l.isFunction(y.autoReflow)&&(K=y.autoReflow(w,D)),K||(K=D.length?D[0]:w[0]),v=new MutationObserver(function(a){for(var b=function(a){return a&&a[0]&&
("THEAD"==a[0].nodeName||"TD"==a[0].nodeName||"TH"==a[0].nodeName)},e=0;e<a.length;e++)if(!b(a[e].addedNodes)&&!b(a[e].removedNodes)){O();break}}),v.observe(K,{childList:!0,subtree:!0}));w.data("floatThead-attached",{destroy:function(){var a=".fth-"+za;Z();w.css(da);Q.remove();k&&va.remove();ca.parent().length&&ca.replaceWith(P);L(!1);u&&(v.disconnect(),v=null);w.off("reflow reflowed");D.off(a);N.off(a);ta&&(D.length?D.unwrap():w.unwrap());J?D.data("floatThead-containerWrap",!1):w.data("floatThead-containerWrap",
!1);w.css("minWidth",Ga);G.remove();w.data("floatThead-attached",!1);m.off(a);pa&&pa.removeListener(La);xa=ya=function(){};return function(){return w.floatThead(y)}},reflow:function(){O()},setHeaderHeight:function(){q()},getFloatContainer:function(){return G},getRowGroups:function(){return ba?G.find("\x3etable\x3ethead").add(w.children("tbody,tfoot")):w.children("thead,tbody,tfoot")}})}});return this}})(function(){var a=window.jQuery;"undefined"!==typeof module&&module.exports&&!a&&(a=require("jquery"));
return a}());
(function(a){"function"===typeof define&&define.amd?define(["jquery"],a):"undefined"!==typeof module&&module.exports?module.exports=a(require("jquery")):a(jQuery)})(function(a){var b=-1,c=-1,d=function(a){return parseFloat(a)||0},g=function(b){var c=null,g=[];a(b).each(function(){var b=a(this),q=b.offset().top-d(b.css("margin-top")),k=0<g.length?g[g.length-1]:null;null===k?g.push(b):1>=Math.floor(Math.abs(c-q))?g[g.length-1]=k.add(b):g.push(b);c=q});return g},n=function(b){var c={byRow:!0,property:"height",
target:null,remove:!1};if("object"===typeof b)return a.extend(c,b);"boolean"===typeof b?c.byRow=b:"remove"===b&&(c.remove=!0);return c},p=a.fn.matchHeight=function(b){b=n(b);if(b.remove){var c=this;this.css(b.property,"");a.each(p._groups,function(a,b){b.elements=b.elements.not(c)});return this}if(1>=this.length&&!b.target)return this;p._groups.push({elements:this,options:b});p._apply(this,b);return this};p.version="0.7.2";p._groups=[];p._throttle=80;p._maintainScroll=!1;p._beforeUpdate=null;p._afterUpdate=
null;p._rows=g;p._parse=d;p._parseOptions=n;p._apply=function(b,c){var l=n(c),f=a(b),q=[f],k=a(window).scrollTop(),m=a("html").outerHeight(!0),e=f.parents().filter(":hidden");e.each(function(){var b=a(this);b.data("style-cache",b.attr("style"))});e.css("display","block");l.byRow&&!l.target&&(f.each(function(){var b=a(this),e=b.css("display");"inline-block"!==e&&"flex"!==e&&"inline-flex"!==e&&(e="block");b.data("style-cache",b.attr("style"));b.css({display:e,"padding-top":"0","padding-bottom":"0",
"margin-top":"0","margin-bottom":"0","border-top-width":"0","border-bottom-width":"0",height:"100px",overflow:"hidden"})}),q=g(f),f.each(function(){var b=a(this);b.attr("style",b.data("style-cache")||"")}));a.each(q,function(b,e){var c=a(e),k=0;if(l.target)k=l.target.outerHeight(!1);else{if(l.byRow&&1>=c.length){c.css(l.property,"");return}c.each(function(){var b=a(this),e=b.attr("style"),h=b.css("display");"inline-block"!==h&&"flex"!==h&&"inline-flex"!==h&&(h="block");h={display:h};h[l.property]=
"";b.css(h);b.outerHeight(!1)>k&&(k=b.outerHeight(!1));e?b.attr("style",e):b.css("display","")})}c.each(function(){var b=a(this),e=0;l.target&&b.is(l.target)||("border-box"!==b.css("box-sizing")&&(e+=d(b.css("border-top-width"))+d(b.css("border-bottom-width")),e+=d(b.css("padding-top"))+d(b.css("padding-bottom"))),b.css(l.property,k-e+"px"))})});e.each(function(){var b=a(this);b.attr("style",b.data("style-cache")||null)});p._maintainScroll&&a(window).scrollTop(k/m*a("html").outerHeight(!0));return this};
p._applyDataApi=function(){var b={};a("[data-match-height], [data-mh]").each(function(){var c=a(this),d=c.attr("data-mh")||c.attr("data-match-height");b[d]=d in b?b[d].add(c):c});a.each(b,function(){this.matchHeight(!0)})};var r=function(b){p._beforeUpdate&&p._beforeUpdate(b,p._groups);a.each(p._groups,function(){p._apply(this.elements,this.options)});p._afterUpdate&&p._afterUpdate(b,p._groups)};p._update=function(d,g){if(g&&"resize"===g.type){var l=a(window).width();if(l===b)return;b=l}d?-1===c&&
(c=setTimeout(function(){r(g);c=-1},p._throttle)):r(g)};a(p._applyDataApi);var l=a.fn.on?"on":"bind";a(window)[l]("load",function(a){p._update(!1,a)});a(window)[l]("resize orientationchange",function(a){p._update(!0,a)})});
(function(a,b){"function"===typeof define&&define.amd?define(["jquery"],function(c){return a.Bloodhound=b(c)}):"object"===typeof exports?module.exports=b(require("jquery")):a.Bloodhound=b(a.jQuery)})(this,function(a){var b=function(){return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(a){return!a||/^\s*$/.test(a)},escapeRegExChars:function(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,
"\\$\x26")},isString:function(a){return"string"===typeof a},isNumber:function(a){return"number"===typeof a},isArray:a.isArray,isFunction:a.isFunction,isObject:a.isPlainObject,isUndefined:function(a){return"undefined"===typeof a},isElement:function(a){return!(!a||1!==a.nodeType)},isJQuery:function(b){return b instanceof a},toStr:function(a){return b.isUndefined(a)||null===a?"":a+""},bind:a.proxy,each:function(b,c){a.each(b,function(a,b){return c(b,a)})},map:a.map,filter:a.grep,every:function(b,c){var f=
!0;if(!b)return f;a.each(b,function(a,k){if(!(f=c.call(null,k,a,b)))return!1});return!!f},some:function(b,c){var f=!1;if(!b)return f;a.each(b,function(a,k){if(f=c.call(null,k,a,b))return!1});return!!f},mixin:a.extend,identity:function(a){return a},clone:function(b){return a.extend(!0,{},b)},getIdGenerator:function(){var a=0;return function(){return a++}},templatify:function(b){function c(){return String(b)}return a.isFunction(b)?b:c},defer:function(a){setTimeout(a,0)},debounce:function(a,b,c){var q,
k;return function(){var m=this,e=arguments,h;h=c&&!q;clearTimeout(q);q=setTimeout(function(){q=null;c||(k=a.apply(m,e))},b);h&&(k=a.apply(m,e));return k}},throttle:function(a,b){var c,q,k,m,e,h;e=0;h=function(){e=new Date;k=null;m=a.apply(c,q)};return function(){var v=new Date,d=b-(v-e);c=this;q=arguments;0>=d?(clearTimeout(k),k=null,e=v,m=a.apply(c,q)):k||(k=setTimeout(h,d));return m}},stringify:function(a){return b.isString(a)?a:JSON.stringify(a)},guid:function(){function a(b){var c=(Math.random().toString(16)+
"000000000").substr(2,8);return b?"-"+c.substr(0,4)+"-"+c.substr(4,4):c}return"tt-"+a()+a(!0)+a(!0)+a()},noop:function(){}}}(),c=function(){function a(c){return(c=b.toStr(c))?c.split(/\s+/):[]}function c(a){return(a=b.toStr(a))?a.split(/\W+/):[]}function f(a){a=b.toStr(a);var c=[],e="";b.each(a.split(""),function(a){a.match(/\s+/)?e="":(c.push(e+a),e+=a)});return c}function q(a){return function(c){c=b.isArray(c)?c:[].slice.call(arguments,0);return function(e){var h=[];b.each(c,function(c){h=h.concat(a(b.toStr(e[c])))});
return h}}}return{nonword:c,whitespace:a,ngram:f,obj:{nonword:q(c),whitespace:q(a),ngram:q(f)}}}(),d=function(){function c(q){this.maxSize=b.isNumber(q)?q:100;this.reset();0>=this.maxSize&&(this.set=this.get=a.noop)}function d(){this.head=this.tail=null}function f(a,b){this.key=a;this.val=b;this.prev=this.next=null}b.mixin(c.prototype,{set:function(a,b){var c=this.list.tail;this.size>=this.maxSize&&(this.list.remove(c),delete this.hash[c.key],this.size--);(c=this.hash[a])?(c.val=b,this.list.moveToFront(c)):
(c=new f(a,b),this.list.add(c),this.hash[a]=c,this.size++)},get:function(a){if(a=this.hash[a])return this.list.moveToFront(a),a.val},reset:function(){this.size=0;this.hash={};this.list=new d}});b.mixin(d.prototype,{add:function(a){this.head&&(a.next=this.head,this.head.prev=a);this.head=a;this.tail=this.tail||a},remove:function(a){a.prev?a.prev.next=a.next:this.head=a.next;a.next?a.next.prev=a.prev:this.tail=a.prev},moveToFront:function(a){this.remove(a);this.add(a)}});return c}(),g=function(){function c(a,
k){this.prefix=["__",a,"__"].join("");this.ttlKey="__ttl__";this.keyMatcher=new RegExp("^"+b.escapeRegExChars(this.prefix));this.ls=k||f;!this.ls&&this._noop()}function d(a){return JSON.stringify(b.isUndefined(a)?null:a)}var f;try{f=window.localStorage,f.setItem("~~~","!"),f.removeItem("~~~")}catch(q){f=null}b.mixin(c.prototype,{_prefix:function(a){return this.prefix+a},_ttlKey:function(a){return this._prefix(a)+this.ttlKey},_noop:function(){this.get=this.set=this.remove=this.clear=this.isExpired=
b.noop},_safeSet:function(a,b){try{this.ls.setItem(a,b)}catch(c){"QuotaExceededError"===c.name&&(this.clear(),this._noop())}},get:function(b){this.isExpired(b)&&this.remove(b);b=this.ls.getItem(this._prefix(b));return a.parseJSON(b)},set:function(a,c,m){b.isNumber(m)?this._safeSet(this._ttlKey(a),d((new Date).getTime()+m)):this.ls.removeItem(this._ttlKey(a));return this._safeSet(this._prefix(a),d(c))},remove:function(a){this.ls.removeItem(this._ttlKey(a));this.ls.removeItem(this._prefix(a));return this},
clear:function(){var a;a=this.keyMatcher;var b,c,e=[],h=f.length;for(b=0;b<h;b++)(c=f.key(b)).match(a)&&e.push(c.replace(a,""));for(a=e.length;a--;)this.remove(e[a]);return this},isExpired:function(c){c=this.ls.getItem(this._ttlKey(c));c=a.parseJSON(c);return b.isNumber(c)&&(new Date).getTime()>c?!0:!1}});return c}(),n=function(){function c(a){a=a||{};this.maxPendingRequests=a.maxPendingRequests||6;this.cancelled=!1;this.lastReq=null;this._send=a.transport;this._get=a.limiter?a.limiter(this._get):
this._get;this._cache=!1===a.cache?new d(0):q}var g=0,f={},q=new d(10);c.setMaxPendingRequests=function(a){this.maxPendingRequests=a};c.resetCache=function(){q.reset()};b.mixin(c.prototype,{_fingerprint:function(b){b=b||{};return b.url+b.type+a.param(b.data||{})},_get:function(a,b){function e(a){b(null,a);d._cache.set(l,a)}function c(){b(!0)}function q(){g--;delete f[l];d.onDeckRequestArgs&&(d._get.apply(d,d.onDeckRequestArgs),d.onDeckRequestArgs=null)}var d=this,l,B;l=this._fingerprint(a);this.cancelled||
l!==this.lastReq||((B=f[l])?B.done(e).fail(c):g<this.maxPendingRequests?(g++,f[l]=this._send(a).done(e).fail(c).always(q)):this.onDeckRequestArgs=[].slice.call(arguments,0))},get:function(c,m){var e,h;m=m||a.noop;c=b.isString(c)?{url:c}:c||{};h=this._fingerprint(c);this.cancelled=!1;this.lastReq=h;(e=this._cache.get(h))?m(null,e):this._get(c,m)},cancel:function(){this.cancelled=!0}});return c}(),p=window.SearchIndex=function(){function c(f){f=f||{};f.datumTokenizer&&f.queryTokenizer||a.error("datumTokenizer and queryTokenizer are both required");
this.identify=f.identify||b.stringify;this.datumTokenizer=f.datumTokenizer;this.queryTokenizer=f.queryTokenizer;this.matchAnyQueryToken=f.matchAnyQueryToken;this.reset()}function d(a){a=b.filter(a,function(a){return!!a});return a=b.map(a,function(a){return a.toLowerCase()})}function f(a){for(var b={},c=[],e=0,h=a.length;e<h;e++)b[a[e]]||(b[a[e]]=!0,c.push(a[e]));return c}b.mixin(c.prototype,{bootstrap:function(a){this.datums=a.datums;this.trie=a.trie},add:function(a){var c=this;a=b.isArray(a)?a:[a];
b.each(a,function(a){var e;c.datums[e=c.identify(a)]=a;a=d(c.datumTokenizer(a));b.each(a,function(a){var b,m;b=c.trie;for(a=a.split("");m=a.shift();)b=b.c[m]||(b.c[m]={i:[],c:{}}),b.i.push(e)})})},get:function(a){var c=this;return b.map(a,function(a){return c.datums[a]})},search:function(a){var c=this,m;a=d(this.queryTokenizer(a));b.each(a,function(a){var b,f;if(m&&0===m.length&&!c.matchAnyQueryToken)return!1;b=c.trie;for(a=a.split("");b&&(f=a.shift());)b=b.c[f];if(b&&0===a.length){f=b.i.slice(0);
if(m){b=m;var d=a=0,q=[];b=b.sort();f=f.sort();for(var g=b.length,l=f.length;a<g&&d<l;)b[a]<f[d]?a++:(b[a]>f[d]||(q.push(b[a]),a++),d++);b=q}else b=f;m=b}else if(!c.matchAnyQueryToken)return m=[],!1});return m?b.map(f(m),function(a){return c.datums[a]}):[]},all:function(){var a=[],b;for(b in this.datums)a.push(this.datums[b]);return a},reset:function(){this.datums={};this.trie={i:[],c:{}}},serialize:function(){return{datums:this.datums,trie:this.trie}}});return c}(),r=function(){function a(b){this.url=
b.url;this.ttl=b.ttl;this.cache=b.cache;this.prepare=b.prepare;this.transform=b.transform;this.transport=b.transport;this.thumbprint=b.thumbprint;this.storage=new g(b.cacheKey)}b.mixin(a.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},store:function(a){this.cache&&(this.storage.set("data",a,this.ttl),this.storage.set("protocol",location.protocol,this.ttl),this.storage.set("thumbprint",this.thumbprint,this.ttl))},fromCache:function(){var a,b;if(!this.cache)return null;
a=this.storage.get("data");b=this.storage.get("protocol");b=this.storage.get("thumbprint")!==this.thumbprint||b!==location.protocol;return a&&!b?a:null},fromNetwork:function(a){function b(){a(!0)}function c(b){a(null,k.transform(b))}var k=this,m;a&&(m=this.prepare(this._settings()),this.transport(m).fail(b).done(c))},clear:function(){this.storage.clear();return this}});return a}(),l=function(){function a(b){this.url=b.url;this.prepare=b.prepare;this.transform=b.transform;this.indexResponse=b.indexResponse;
this.transport=new n({cache:b.cache,limiter:b.limiter,transport:b.transport,maxPendingRequests:b.maxPendingRequests})}b.mixin(a.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},get:function(a,b){function c(a,h){a?b([]):b(k.transform(h))}var k=this,m;if(b)return m=this.prepare(a||"",this._settings()),this.transport.get(m,c)},cancelLastRequest:function(){this.transport.cancel()}});return a}(),u=function(){function c(m){var e;if(!m)return null;e={url:null,ttl:864E5,cache:!0,
cacheKey:null,thumbprint:"",prepare:b.identity,transform:b.identity,transport:null};m=b.isString(m)?{url:m}:m;m=b.mixin(e,m);!m.url&&a.error("prefetch requires url to be set");m.transform=m.filter||m.transform;m.cacheKey=m.cacheKey||m.url;m.thumbprint="1.2.0"+m.thumbprint;m.transport=m.transport?k(m.transport):a.ajax;return m}function d(c){var e;if(c)return e={url:null,cache:!0,prepare:null,replace:null,wildcard:null,limiter:null,rateLimitBy:"debounce",rateLimitWait:300,transform:b.identity,transport:null},
c=b.isString(c)?{url:c}:c,c=b.mixin(e,c),!c.url&&a.error("remote requires url to be set"),c.transform=c.filter||c.transform,c.prepare=f(c),c.limiter=q(c),c.transport=c.transport?k(c.transport):a.ajax,delete c.replace,delete c.wildcard,delete c.rateLimitBy,delete c.rateLimitWait,c}function f(a){function b(a,e){e.url=d(e.url,a);return e}function c(a,b){b.url=b.url.replace(q,encodeURIComponent(a));return b}function f(a,b){return b}var k,d,q;k=a.prepare;d=a.replace;q=a.wildcard;return k?k:k=d?b:a.wildcard?
c:f}function q(a){function e(a){return function(e){return b.debounce(e,a)}}function c(a){return function(e){return b.throttle(e,a)}}var f,k;f=a.limiter;k=a.rateLimitBy;a=a.rateLimitWait;f||(f=/^throttle$/i.test(k)?c(a):e(a));return f}function k(c){return function(e){var h=a.Deferred();c(e,function(a){b.defer(function(){h.resolve(a)})},function(a){b.defer(function(){h.reject(a)})});return h}}return function(f){var e;f=b.mixin({initialize:!0,identify:b.stringify,datumTokenizer:null,queryTokenizer:null,
matchAnyQueryToken:!1,sufficient:5,indexRemote:!1,sorter:null,local:[],prefetch:null,remote:null},f||{});!f.datumTokenizer&&a.error("datumTokenizer is required");!f.queryTokenizer&&a.error("queryTokenizer is required");e=f.sorter;f.sorter=e?function(a){return a.sort(e)}:b.identity;f.local=b.isFunction(f.local)?f.local():f.local;f.prefetch=c(f.prefetch);f.remote=d(f.remote);return f}}();return function(){function d(a){a=u(a);this.sorter=a.sorter;this.identify=a.identify;this.sufficient=a.sufficient;
this.indexRemote=a.indexRemote;this.local=a.local;this.remote=a.remote?new l(a.remote):null;this.prefetch=a.prefetch?new r(a.prefetch):null;this.index=new p({identify:this.identify,datumTokenizer:a.datumTokenizer,queryTokenizer:a.queryTokenizer});!1!==a.initialize&&this.initialize()}var g;g=window&&window.Bloodhound;d.noConflict=function(){window&&(window.Bloodhound=g);return d};d.tokenizers=c;b.mixin(d.prototype,{__ttAdapter:function(){function a(b,e,h){return c.search(b,e,h)}function b(a,e){return c.search(a,
e)}var c=this;return this.remote?a:b},_loadPrefetch:function(){function b(a,h){if(a)return k.reject();c.add(h);c.prefetch.store(c.index.serialize());k.resolve()}var c=this,k,d;k=a.Deferred();this.prefetch?(d=this.prefetch.fromCache())?(this.index.bootstrap(d),k.resolve()):this.prefetch.fromNetwork(b):k.resolve();return k.promise()},_initialize:function(){var a=this;this.clear();(this.initPromise=this._loadPrefetch()).done(function(){a.add(a.local)});return this.initPromise},initialize:function(a){return!this.initPromise||
a?this._initialize():this.initPromise},add:function(a){this.index.add(a);return this},get:function(a){a=b.isArray(a)?a:[].slice.call(arguments);return this.index.get(a)},search:function(a,c,k){function d(a){var c=[];b.each(a,function(a){!b.some(h,function(b){return e.identify(a)===e.identify(b)})&&c.push(a)});e.indexRemote&&e.add(c);k(c)}var e=this,h;c=c||b.noop;k=k||b.noop;h=this.sorter(this.index.search(a));c(this.remote?h.slice():h);this.remote&&h.length<this.sufficient?this.remote.get(a,d):this.remote&&
this.remote.cancelLastRequest();return this},all:function(){return this.index.all()},clear:function(){this.index.reset();return this},clearPrefetchCache:function(){this.prefetch&&this.prefetch.clear();return this},clearRemoteCache:function(){n.resetCache();return this},ttAdapter:function(){return this.__ttAdapter()}});return d}()});
(function(a,b){"function"===typeof define&&define.amd?define(["jquery"],function(a){return b(a)}):"object"===typeof exports?module.exports=b(require("jquery")):b(a.jQuery)})(this,function(a){var b=function(){return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(a){return!a||/^\s*$/.test(a)},escapeRegExChars:function(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$\x26")},isString:function(a){return"string"===
typeof a},isNumber:function(a){return"number"===typeof a},isArray:a.isArray,isFunction:a.isFunction,isObject:a.isPlainObject,isUndefined:function(a){return"undefined"===typeof a},isElement:function(a){return!(!a||1!==a.nodeType)},isJQuery:function(b){return b instanceof a},toStr:function(a){return b.isUndefined(a)||null===a?"":a+""},bind:a.proxy,each:function(b,c){a.each(b,function(a,b){return c(b,a)})},map:a.map,filter:a.grep,every:function(b,c){var k=!0;if(!b)return k;a.each(b,function(a,e){if(!(k=
c.call(null,e,a,b)))return!1});return!!k},some:function(b,c){var k=!1;if(!b)return k;a.each(b,function(a,e){if(k=c.call(null,e,a,b))return!1});return!!k},mixin:a.extend,identity:function(a){return a},clone:function(b){return a.extend(!0,{},b)},getIdGenerator:function(){var a=0;return function(){return a++}},templatify:function(b){function c(){return String(b)}return a.isFunction(b)?b:c},defer:function(a){setTimeout(a,0)},debounce:function(a,b,c){var d,e;return function(){var h=this,v=arguments,g;
g=c&&!d;clearTimeout(d);d=setTimeout(function(){d=null;c||(e=a.apply(h,v))},b);g&&(e=a.apply(h,v));return e}},throttle:function(a,b){var c,d,e,h,v,g;v=0;g=function(){v=new Date;e=null;h=a.apply(c,d)};return function(){var l=new Date,B=b-(l-v);c=this;d=arguments;0>=B?(clearTimeout(e),e=null,v=l,h=a.apply(c,d)):e||(e=setTimeout(g,B));return h}},stringify:function(a){return b.isString(a)?a:JSON.stringify(a)},guid:function(){function a(b){var c=(Math.random().toString(16)+"000000000").substr(2,8);return b?
"-"+c.substr(0,4)+"-"+c.substr(4,4):c}return"tt-"+a()+a(!0)+a(!0)+a()},noop:function(){}}}(),c=function(){function a(c){var e={};b.each(c,function(a,b){e[b]="."+a});return e}function c(){var a={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},menu:{position:"absolute",
top:"100%",left:"0",zIndex:"100",display:"none"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};b.isMsie()&&b.mixin(a.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"});return a}var k={wrapper:"twitter-typeahead",input:"tt-input",hint:"tt-hint",menu:"tt-menu",dataset:"tt-dataset",suggestion:"tt-suggestion",selectable:"tt-selectable",empty:"tt-empty",open:"tt-open",cursor:"tt-cursor",highlight:"tt-highlight"};return function(d){var e;
d=b.mixin({},k,d);e={css:c(),classes:d,html:{wrapper:'\x3cspan class\x3d"'+d.wrapper+'"\x3e\x3c/span\x3e',menu:'\x3cdiv role\x3d"listbox" class\x3d"'+d.menu+'"\x3e\x3c/div\x3e'},selectors:a(d)};return{css:e.css,html:e.html,classes:e.classes,selectors:e.selectors,mixin:function(a){b.mixin(a,e)}}}}(),d=function(){function c(b){b&&b.el||a.error("EventBus initialized without el");this.$el=a(b.el)}var d;d={render:"rendered",cursorchange:"cursorchanged",select:"selected",autocomplete:"autocompleted"};b.mixin(c.prototype,
{_trigger:function(b,c){var e=a.Event("typeahead:"+b);this.$el.trigger.call(this.$el,e,c||[]);return e},before:function(a){var b;b=[].slice.call(arguments,1);return this._trigger("before"+a,b).isDefaultPrevented()},trigger:function(a){var b;this._trigger(a,[].slice.call(arguments,1));(b=d[a])&&this._trigger(b,[].slice.call(arguments,1))}});return c}(),g=function(){function a(b,e,f,q){if(!f)return this;e=e.split(d);f=q?c(f,q):f;for(this._callbacks=this._callbacks||{};q=e.shift();)this._callbacks[q]=
this._callbacks[q]||{sync:[],async:[]},this._callbacks[q][b].push(f);return this}function b(a,c,e){return function(){for(var b,d=0,k=a.length;!b&&d<k;d+=1)b=!1===a[d].apply(c,e);return!b}}function c(a,b){return a.bind?a.bind(b):function(){a.apply(b,[].slice.call(arguments,0))}}var d=/\s+/,e=function(){return window.setImmediate?function(a){setImmediate(function(){a()})}:function(a){setTimeout(function(){a()},0)}}();return{onSync:function(b,c,e){return a.call(this,"sync",b,c,e)},onAsync:function(b,
c,e){return a.call(this,"async",b,c,e)},off:function(a){var b;if(!this._callbacks)return this;for(a=a.split(d);b=a.shift();)delete this._callbacks[b];return this},trigger:function(a){var c,k,f,g,l;if(!this._callbacks)return this;a=a.split(d);for(f=[].slice.call(arguments,1);(c=a.shift())&&(k=this._callbacks[c]);)g=b(k.sync,this,[c].concat(f)),l=b(k.async,this,[c].concat(f)),g()&&e(l);return this}}}(),n=function(a){function c(a){return e[a.toUpperCase()]||a}function d(a,e,k,f){for(var m=[],g=0,l=a.length;g<
l;g++){var p=b.escapeRegExChars(a[g]);f&&(p=p.replace(/\S/g,c));m.push(p)}a=k?"\\b("+m.join("|")+")\\b":"("+m.join("|")+")";return e?new RegExp(a):new RegExp(a,"i")}var m={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1,diacriticInsensitive:!1},e={A:"[Aa\u00aa\u00c0-\u00c5\u00e0-\u00e5\u0100-\u0105\u01cd\u01ce\u0200-\u0203\u0226\u0227\u1d2c\u1d43\u1e00\u1e01\u1e9a\u1ea0-\u1ea3\u2090\u2100\u2101\u213b\u249c\u24b6\u24d0\u3371-\u3374\u3380-\u3384\u3388\u3389\u33a9-\u33af\u33c2\u33ca\u33df\u33ff\uff21\uff41]",
B:"[Bb\u1d2e\u1d47\u1e02-\u1e07\u212c\u249d\u24b7\u24d1\u3374\u3385-\u3387\u33c3\u33c8\u33d4\u33dd\uff22\uff42]",C:"[Cc\u00c7\u00e7\u0106-\u010d\u1d9c\u2100\u2102\u2103\u2105\u2106\u212d\u216d\u217d\u249e\u24b8\u24d2\u3376\u3388\u3389\u339d\u33a0\u33a4\u33c4-\u33c7\uff23\uff43]",D:"[Dd\u010e\u010f\u01c4-\u01c6\u01f1-\u01f3\u1d30\u1d48\u1e0a-\u1e13\u2145\u2146\u216e\u217e\u249f\u24b9\u24d3\u32cf\u3372\u3377-\u3379\u3397\u33ad-\u33af\u33c5\u33c8\uff24\uff44]",E:"[Ee\u00c8-\u00cb\u00e8-\u00eb\u0112-\u011b\u0204-\u0207\u0228\u0229\u1d31\u1d49\u1e18-\u1e1b\u1eb8-\u1ebd\u2091\u2121\u212f\u2130\u2147\u24a0\u24ba\u24d4\u3250\u32cd\u32ce\uff25\uff45]",
F:"[Ff\u1da0\u1e1e\u1e1f\u2109\u2131\u213b\u24a1\u24bb\u24d5\u338a-\u338c\u3399\ufb00-\ufb04\uff26\uff46]",G:"[Gg\u011c-\u0123\u01e6\u01e7\u01f4\u01f5\u1d33\u1d4d\u1e20\u1e21\u210a\u24a2\u24bc\u24d6\u32cc\u32cd\u3387\u338d-\u338f\u3393\u33ac\u33c6\u33c9\u33d2\u33ff\uff27\uff47]",H:"[Hh\u0124\u0125\u021e\u021f\u02b0\u1d34\u1e22-\u1e2b\u1e96\u210b-\u210e\u24a3\u24bd\u24d7\u32cc\u3371\u3390-\u3394\u33ca\u33cb\u33d7\uff28\uff48]",I:"[Ii\u00cc-\u00cf\u00ec-\u00ef\u0128-\u0130\u0132\u0133\u01cf\u01d0\u0208-\u020b\u1d35\u1d62\u1e2c\u1e2d\u1ec8-\u1ecb\u2071\u2110\u2111\u2139\u2148\u2160-\u2163\u2165-\u2168\u216a\u216b\u2170-\u2173\u2175-\u2178\u217a\u217b\u24a4\u24be\u24d8\u337a\u33cc\u33d5\ufb01\ufb03\uff29\uff49]",
J:"[Jj\u0132-\u0135\u01c7-\u01cc\u01f0\u02b2\u1d36\u2149\u24a5\u24bf\u24d9\u2c7c\uff2a\uff4a]",K:"[Kk\u0136\u0137\u01e8\u01e9\u1d37\u1d4f\u1e30-\u1e35K\u24a6\u24c0\u24da\u3384\u3385\u3389\u338f\u3391\u3398\u339e\u33a2\u33a6\u33aa\u33b8\u33be\u33c0\u33c6\u33cd-\u33cf\uff2b\uff4b]",L:"[Ll\u0139-\u0140\u01c7-\u01c9\u02e1\u1d38\u1e36\u1e37\u1e3a-\u1e3d\u2112\u2113\u2121\u216c\u217c\u24a7\u24c1\u24db\u32cf\u3388\u3389\u33d0-\u33d3\u33d5\u33d6\u33ff\ufb02\ufb04\uff2c\uff4c]",M:"[Mm\u1d39\u1d50\u1e3e-\u1e43\u2120\u2122\u2133\u216f\u217f\u24a8\u24c2\u24dc\u3377-\u3379\u3383\u3386\u338e\u3392\u3396\u3399-\u33a8\u33ab\u33b3\u33b7\u33b9\u33bd\u33bf\u33c1\u33c2\u33ce\u33d0\u33d4-\u33d6\u33d8\u33d9\u33de\u33df\uff2d\uff4d]",
N:"[Nn\u00d1\u00f1\u0143-\u0149\u01ca-\u01cc\u01f8\u01f9\u1d3a\u1e44-\u1e4b\u207f\u2115\u2116\u24a9\u24c3\u24dd\u3381\u338b\u339a\u33b1\u33b5\u33bb\u33cc\u33d1\uff2e\uff4e]",O:"[Oo\u00ba\u00d2-\u00d6\u00f2-\u00f6\u014c-\u0151\u01a0\u01a1\u01d1\u01d2\u01ea\u01eb\u020c-\u020f\u022e\u022f\u1d3c\u1d52\u1ecc-\u1ecf\u2092\u2105\u2116\u2134\u24aa\u24c4\u24de\u3375\u33c7\u33d2\u33d6\uff2f\uff4f]",P:"[Pp\u1d3e\u1d56\u1e54-\u1e57\u2119\u24ab\u24c5\u24df\u3250\u3371\u3376\u3380\u338a\u33a9-\u33ac\u33b0\u33b4\u33ba\u33cb\u33d7-\u33da\uff30\uff50]",
Q:"[Qq\u211a\u24ac\u24c6\u24e0\u33c3\uff31\uff51]",R:"[Rr\u0154-\u0159\u0210-\u0213\u02b3\u1d3f\u1d63\u1e58-\u1e5b\u1e5e\u1e5f\u20a8\u211b-\u211d\u24ad\u24c7\u24e1\u32cd\u3374\u33ad-\u33af\u33da\u33db\uff32\uff52]",S:"[Ss\u015a-\u0161\u017f\u0218\u0219\u02e2\u1e60-\u1e63\u20a8\u2101\u2120\u24ae\u24c8\u24e2\u33a7\u33a8\u33ae-\u33b3\u33db\u33dc\ufb06\uff33\uff53]",T:"[Tt\u0162-\u0165\u021a\u021b\u1d40\u1d57\u1e6a-\u1e71\u1e97\u2121\u2122\u24af\u24c9\u24e3\u3250\u32cf\u3394\u33cf\ufb05\ufb06\uff34\uff54]",
U:"[Uu\u00d9-\u00dc\u00f9-\u00fc\u0168-\u0173\u01af\u01b0\u01d3\u01d4\u0214-\u0217\u1d41\u1d58\u1d64\u1e72-\u1e77\u1ee4-\u1ee7\u2106\u24b0\u24ca\u24e4\u3373\u337a\uff35\uff55]",V:"[Vv\u1d5b\u1d65\u1e7c-\u1e7f\u2163-\u2167\u2173-\u2177\u24b1\u24cb\u24e5\u2c7d\u32ce\u3375\u33b4-\u33b9\u33dc\u33de\uff36\uff56]",W:"[Ww\u0174\u0175\u02b7\u1d42\u1e80-\u1e89\u1e98\u24b2\u24cc\u24e6\u33ba-\u33bf\u33dd\uff37\uff57]",X:"[Xx\u02e3\u1e8a-\u1e8d\u2093\u213b\u2168-\u216b\u2178-\u217b\u24b3\u24cd\u24e7\u33d3\uff38\uff58]",
Y:"[Yy\u00dd\u00fd\u00ff\u0176-\u0178\u0232\u0233\u02b8\u1e8e\u1e8f\u1e99\u1ef2-\u1ef9\u24b4\u24ce\u24e8\u33c9\uff39\uff59]",Z:"[Zz\u0179-\u017e\u01f1-\u01f3\u1dbb\u1e90-\u1e95\u2124\u2128\u24b5\u24cf\u24e9\u3390-\u3394\uff3a\uff5a]"};return function(c){function e(b){var d,k,m;if(d=g.exec(b.data))m=a.createElement(c.tagName),c.className&&(m.className=c.className),k=b.splitText(d.index),k.splitText(d[0].length),m.appendChild(k.cloneNode(!0)),b.parentNode.replaceChild(m,k);return!!d}function q(a,b){for(var c,
e=0;e<a.childNodes.length;e++)c=a.childNodes[e],3===c.nodeType?e+=b(c)?1:0:q(c,b)}var g;c=b.mixin({},m,c);c.node&&c.pattern&&(c.pattern=b.isArray(c.pattern)?c.pattern:[c.pattern],g=d(c.pattern,c.caseSensitive,c.wordsOnly,c.diacriticInsensitive),q(c.node,e))}}(window.document),p=function(){function c(d,f){d=d||{};d.input||a.error("input is missing");f.mixin(this);this.$hint=a(d.hint);this.$input=a(d.input);this.$input.attr({"aria-activedescendant":"","aria-owns":this.$input.attr("id")+"_listbox",role:"combobox",
"aria-readonly":"true","aria-autocomplete":"list"});a(f.menu).attr("id",this.$input.attr("id")+"_listbox");this.query=this.$input.val();this.queryWhenFocused=this.hasFocus()?this.query:null;var e=this.$input;this.$overflowHelper=a('\x3cpre aria-hidden\x3d"true"\x3e\x3c/pre\x3e').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:e.css("font-family"),fontSize:e.css("font-size"),fontStyle:e.css("font-style"),fontVariant:e.css("font-variant"),fontWeight:e.css("font-weight"),wordSpacing:e.css("word-spacing"),
letterSpacing:e.css("letter-spacing"),textIndent:e.css("text-indent"),textRendering:e.css("text-rendering"),textTransform:e.css("text-transform")}).insertAfter(e);this._checkLanguageDirection();0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=b.noop);this.onSync("cursorchange",this._updateDescendent)}var d;d={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"};c.normalizeQuery=function(a){return b.toStr(a).replace(/^\s*/g,"").replace(/\s{2,}/g,
" ")};b.mixin(c.prototype,g,{_onBlur:function(){this.resetInputValue();this.trigger("blurred")},_onFocus:function(){this.queryWhenFocused=this.query;this.trigger("focused")},_onKeydown:function(a){var b=d[a.which||a.keyCode];this._managePreventDefault(b,a);b&&this._shouldTrigger(b,a)&&this.trigger(b+"Keyed",a)},_onInput:function(){this._setQuery(this.getInputValue());this.clearHintIfInvalid();this._checkLanguageDirection()},_managePreventDefault:function(a,b){var c;switch(a){case "up":case "down":c=
!(b.altKey||b.ctrlKey||b.metaKey||b.shiftKey);break;default:c=!1}c&&b.preventDefault()},_shouldTrigger:function(a,b){var c;switch(a){case "tab":c=!(b.altKey||b.ctrlKey||b.metaKey||b.shiftKey);break;default:c=!0}return c},_checkLanguageDirection:function(){var a=(this.$input.css("direction")||"ltr").toLowerCase();this.dir!==a&&(this.dir=a,this.$hint.attr("dir",a),this.trigger("langDirChanged",a))},_setQuery:function(a,b){var e,h;e=this.query;h=(e=c.normalizeQuery(a)===c.normalizeQuery(e))?this.query.length!==
a.length:!1;this.query=a;b||e?!b&&h&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},_updateDescendent:function(a,b){this.$input.attr("aria-activedescendant",b)},bind:function(){var a=this,c,e,h,f;c=b.bind(this._onBlur,this);e=b.bind(this._onFocus,this);h=b.bind(this._onKeydown,this);f=b.bind(this._onInput,this);this.$input.on("blur.tt",c).on("focus.tt",e).on("keydown.tt",h);if(!b.isMsie()||9<b.isMsie())this.$input.on("input.tt",f);else this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",
function(c){d[c.which||c.keyCode]||b.defer(b.bind(a._onInput,a,c))});return this},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getLangDir:function(){return this.dir},getQuery:function(){return this.query||""},setQuery:function(a,b){this.setInputValue(a);this._setQuery(a,b)},hasQueryChangedSinceLastFocus:function(){return this.query!==this.queryWhenFocused},getInputValue:function(){return this.$input.val()},setInputValue:function(a){this.$input.val(a);this.clearHintIfInvalid();
this._checkLanguageDirection()},resetInputValue:function(){this.setInputValue(this.query)},getHint:function(){return this.$hint.val()},setHint:function(a){this.$hint.val(a)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var a,b;a=this.getInputValue();b=this.getHint();b=a!==b&&0===b.indexOf(a);""!==a&&b&&!this.hasOverflow()||this.clearHint()},hasFocus:function(){return this.$input.is(":focus")},hasOverflow:function(){var a=this.$input.width()-2;this.$overflowHelper.text(this.getInputValue());
return this.$overflowHelper.width()>=a},isCursorAtEnd:function(){var a,c;a=this.$input.val().length;c=this.$input[0].selectionStart;return b.isNumber(c)?c===a:document.selection?(c=document.selection.createRange(),c.moveStart("character",-a),a===c.text.length):!0},destroy:function(){this.$hint.off(".tt");this.$input.off(".tt");this.$overflowHelper.remove();this.$hint=this.$input=this.$overflowHelper=a("\x3cdiv\x3e")}});return c}(),r=function(){function c(e,h){e=e||{};e.templates=e.templates||{};e.templates.notFound=
e.templates.notFound||e.templates.empty;e.source||a.error("missing source");e.node||a.error("missing node");e.name&&!/^[_a-zA-Z0-9-]+$/.test(e.name)&&a.error("invalid dataset name: "+e.name);h.mixin(this);this.highlight=!!e.highlight;this.name=b.toStr(e.name||m());this.limit=e.limit||5;this.displayFn=d(e.display||e.displayKey);this.templates=k(e.templates,this.displayFn);this.source=e.source.__ttAdapter?e.source.__ttAdapter():e.source;this.async=b.isUndefined(e.async)?2<this.source.length:!!e.async;
this._resetLastSuggestion();this.$el=a(e.node).attr("role","presentation").addClass(this.classes.dataset).addClass(this.classes.dataset+"-"+this.name)}function d(a){function c(b){return b[a]}a=a||b.stringify;return b.isFunction(a)?a:c}function k(c,h){function d(c){return a('\x3cdiv role\x3d"option"\x3e').attr("id",b.guid()).text(h(c))}return{notFound:c.notFound&&b.templatify(c.notFound),pending:c.pending&&b.templatify(c.pending),header:c.header&&b.templatify(c.header),footer:c.footer&&b.templatify(c.footer),
suggestion:c.suggestion||d}}var m;m=b.getIdGenerator();c.extractData=function(b){b=a(b);return b.data("tt-selectable-object")?{dataset:b.data("tt-selectable-dataset")||"",val:b.data("tt-selectable-display")||"",obj:b.data("tt-selectable-object")||null}:null};b.mixin(c.prototype,g,{_overwrite:function(a,b){b=b||[];b.length?this._renderSuggestions(a,b):this.async&&this.templates.pending?this._renderPending(a):!this.async&&this.templates.notFound?this._renderNotFound(a):this._empty();this.trigger("rendered",
b,!1,this.name)},_append:function(a,b){b=b||[];b.length&&this.$lastSuggestion.length?this._appendSuggestions(a,b):b.length?this._renderSuggestions(a,b):!this.$lastSuggestion.length&&this.templates.notFound&&this._renderNotFound(a);this.trigger("rendered",b,!0,this.name)},_renderSuggestions:function(a,b){var c;c=this._getSuggestionsFragment(a,b);this.$lastSuggestion=c.children().last();this.$el.html(c).prepend(this._getHeader(a,b)).append(this._getFooter(a,b))},_appendSuggestions:function(a,b){var c,
d;c=this._getSuggestionsFragment(a,b);d=c.children().last();this.$lastSuggestion.after(c);this.$lastSuggestion=d},_renderPending:function(a){var b=this.templates.pending;this._resetLastSuggestion();b&&this.$el.html(b({query:a,dataset:this.name}))},_renderNotFound:function(a){var b=this.templates.notFound;this._resetLastSuggestion();b&&this.$el.html(b({query:a,dataset:this.name}))},_empty:function(){this.$el.empty();this._resetLastSuggestion()},_getSuggestionsFragment:function(c,h){var d=this,f;f=
document.createDocumentFragment();b.each(h,function(b){var h;h=d._injectQuery(c,b);b=a(d.templates.suggestion(h)).data("tt-selectable-dataset",d.name).data("tt-selectable-object",b).data("tt-selectable-display",d.displayFn(b)).addClass(d.classes.suggestion+" "+d.classes.selectable);f.appendChild(b[0])});this.highlight&&n({className:this.classes.highlight,node:f,pattern:c});return a(f)},_getFooter:function(a,b){return this.templates.footer?this.templates.footer({query:a,suggestions:b,dataset:this.name}):
null},_getHeader:function(a,b){return this.templates.header?this.templates.header({query:a,suggestions:b,dataset:this.name}):null},_resetLastSuggestion:function(){this.$lastSuggestion=a()},_injectQuery:function(a,c){return b.isObject(c)?b.mixin({_query:a},c):c},update:function(b){function c(a){k||(k=!0,a=(a||[]).slice(0,d.limit),q=a.length,d._overwrite(b,a),q<d.limit&&d.async&&d.trigger("asyncRequested",b,d.name))}var d=this,f=!1,k=!1,q=0;this.cancel();this.cancel=function(){f=!0;d.cancel=a.noop;
d.async&&d.trigger("asyncCanceled",b,d.name)};this.source(b,c,function(c){c=c||[];if(!f&&q<d.limit){d.cancel=a.noop;var h=Math.abs(q-d.limit);q+=h;d._append(b,c.slice(0,h));d.async&&d.trigger("asyncReceived",b,d.name)}});!k&&c([])},cancel:a.noop,clear:function(){this._empty();this.cancel();this.trigger("cleared")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=a("\x3cdiv\x3e")}});return c}(),l=function(){function c(d,f){var m=this;d=d||{};d.node||a.error("node is required");
f.mixin(this);this.$node=a(d.node);this.query=null;this.datasets=b.map(d.datasets,function(b){var c=m.$node.find(b.node).first();b.node=c.length?c:a("\x3cdiv\x3e").appendTo(m.$node);return new r(b,f)})}b.mixin(c.prototype,g,{_onSelectableClick:function(b){this.trigger("selectableClicked",a(b.currentTarget))},_onRendered:function(a,b,c,e){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty());this.trigger("datasetRendered",b,c,e)},_onCleared:function(){this.$node.toggleClass(this.classes.empty,
this._allDatasetsEmpty());this.trigger("datasetCleared")},_propagate:function(){this.trigger.apply(this,arguments)},_allDatasetsEmpty:function(){return b.every(this.datasets,b.bind(function(a){a=a.isEmpty();this.$node.attr("aria-expanded",!a);return a},this))},_getSelectables:function(){return this.$node.find(this.selectors.selectable)},_removeCursor:function(){var a=this.getActiveSelectable();a&&a.removeClass(this.classes.cursor)},_ensureVisible:function(a){var b,c,e;b=a.position().top;a=b+a.outerHeight(!0);
c=this.$node.scrollTop();e=this.$node.height()+parseInt(this.$node.css("paddingTop"),10)+parseInt(this.$node.css("paddingBottom"),10);0>b?this.$node.scrollTop(c+b):e<a&&this.$node.scrollTop(c+(a-e))},bind:function(){var c=this,d;d=b.bind(this._onSelectableClick,this);this.$node.on("click.tt",this.selectors.selectable,d);this.$node.on("mouseover",this.selectors.selectable,function(){c.setCursor(a(this))});this.$node.on("mouseleave",function(){c._removeCursor()});b.each(this.datasets,function(a){a.onSync("asyncRequested",
c._propagate,c).onSync("asyncCanceled",c._propagate,c).onSync("asyncReceived",c._propagate,c).onSync("rendered",c._onRendered,c).onSync("cleared",c._onCleared,c)});return this},isOpen:function(){return this.$node.hasClass(this.classes.open)},open:function(){this.$node.scrollTop(0);this.$node.addClass(this.classes.open)},close:function(){this.$node.attr("aria-expanded",!1);this.$node.removeClass(this.classes.open);this._removeCursor()},setLanguageDirection:function(a){this.$node.attr("dir",a)},selectableRelativeToCursor:function(a){var b,
c;c=this.getActiveSelectable();b=this._getSelectables();a=(c?b.index(c):-1)+a;a=(a+1)%(b.length+1)-1;a=-1>a?b.length-1:a;return-1===a?null:b.eq(a)},setCursor:function(a){this._removeCursor();if(a=a&&a.first())a.addClass(this.classes.cursor),this._ensureVisible(a)},getSelectableData:function(a){return a&&a.length?r.extractData(a):null},getActiveSelectable:function(){var a=this._getSelectables().filter(this.selectors.cursor).first();return a.length?a:null},getTopSelectable:function(){var a=this._getSelectables().first();
return a.length?a:null},update:function(a){function c(b){b.update(a)}var d=a!==this.query;d&&(this.query=a,b.each(this.datasets,c));return d},empty:function(){b.each(this.datasets,function(a){a.clear()});this.query=null;this.$node.addClass(this.classes.empty)},destroy:function(){this.$node.off(".tt");this.$node=a("\x3cdiv\x3e");b.each(this.datasets,function(a){a.destroy()})}});return c}(),u=function(){function c(d){this.$el=a("\x3cspan\x3e\x3c/span\x3e",{role:"status","aria-live":"polite"}).css({position:"absolute",
padding:"0",border:"0",height:"1px",width:"1px","margin-bottom":"-1px","margin-right":"-1px",overflow:"hidden",clip:"rect(0 0 0 0)","white-space":"nowrap"});d.$input.after(this.$el);b.each(d.menu.datasets,b.bind(function(a){a.onSync&&(a.onSync("rendered",b.bind(this.update,this)),a.onSync("cleared",b.bind(this.cleared,this)))},this))}b.mixin(c.prototype,{update:function(a,b){var c,e,h=b.length;1===h?(c="result",e="is"):(c="results",e="are");this.$el.text(h+" "+c+" "+e+" available, use up and down arrow keys to navigate.")},
cleared:function(){this.$el.text("")}});return c}(),t=function(){function a(){l.apply(this,[].slice.call(arguments,0))}var c=l.prototype;b.mixin(a.prototype,l.prototype,{open:function(){!this._allDatasetsEmpty()&&this._show();return c.open.apply(this,[].slice.call(arguments,0))},close:function(){this._hide();return c.close.apply(this,[].slice.call(arguments,0))},_onRendered:function(){this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show();return c._onRendered.apply(this,[].slice.call(arguments,
0))},_onCleared:function(){this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show();return c._onCleared.apply(this,[].slice.call(arguments,0))},setLanguageDirection:function(a){this.$node.css("ltr"===a?this.css.ltr:this.css.rtl);return c.setLanguageDirection.apply(this,[].slice.call(arguments,0))},_hide:function(){this.$node.hide()},_show:function(){this.$node.css("display","block")}});return a}(),x=function(){function c(f,m){var e,h,v,g,l,p,n,r,y,u,t;f=f||{};f.input||a.error("missing input");
f.menu||a.error("missing menu");f.eventBus||a.error("missing event bus");m.mixin(this);this.eventBus=f.eventBus;this.minLength=b.isNumber(f.minLength)?f.minLength:1;this.input=f.input;this.menu=f.menu;this.enabled=!0;this.autoselect=!!f.autoselect;this.selectionKey=f.selectionKey;this.active=!1;this.input.hasFocus()&&this.activate();this.dir=this.input.getLangDir();this._hacks();this.menu.bind().onSync("selectableClicked",this._onSelectableClicked,this).onSync("asyncRequested",this._onAsyncRequested,
this).onSync("asyncCanceled",this._onAsyncCanceled,this).onSync("asyncReceived",this._onAsyncReceived,this).onSync("datasetRendered",this._onDatasetRendered,this).onSync("datasetCleared",this._onDatasetCleared,this);e=d(this,"activate","open","_onFocused");h=d(this,"deactivate","_onBlurred");v=d(this,"isActive","isOpen","_onEnterKeyed");g=d(this,"isActive","isOpen","_onTabKeyed");l=d(this,"isActive","_onEscKeyed");p=d(this,"isActive","open","_onUpKeyed");n=d(this,"isActive","open","_onDownKeyed");
r=d(this,"isActive","isOpen","_onLeftKeyed");y=d(this,"isActive","isOpen","_onRightKeyed");u=d(this,"_openIfActive","_onQueryChanged");t=d(this,"_openIfActive","_onWhitespaceChanged");this.input.bind().onSync("focused",e,this).onSync("blurred",h,this).onSync("enterKeyed",v,this).onSync("tabKeyed",g,this).onSync("escKeyed",l,this).onSync("upKeyed",p,this).onSync("downKeyed",n,this).onSync("leftKeyed",r,this).onSync("rightKeyed",y,this).onSync("queryChanged",u,this).onSync("whitespaceChanged",t,this).onSync("langDirChanged",
this._onLangDirChanged,this)}function d(a){var c=[].slice.call(arguments,1);return function(){var e=[].slice.call(arguments);b.each(c,function(b){return a[b].apply(a,e)})}}b.mixin(c.prototype,{_hacks:function(){var c,d;c=this.input.$input||a("\x3cdiv\x3e");d=this.menu.$node||a("\x3cdiv\x3e");c.on("blur.tt",function(a){var h,f;h=document.activeElement;f=d.is(h);h=0<d.has(h).length;b.isMsie()&&(f||h)&&(a.preventDefault(),a.stopImmediatePropagation(),b.defer(function(){c.focus()}))});d.on("mousedown.tt",
function(a){a.preventDefault()})},_onSelectableClicked:function(a,b){this.select(b)},_onDatasetCleared:function(){this._updateHint()},_onDatasetRendered:function(a,b,c,h){this._updateHint();this.autoselect&&(a=this.selectors.cursor.substr(1),this.menu.$node.find(this.selectors.suggestion).first().addClass(a));this.eventBus.trigger("render",b,c,h)},_onAsyncRequested:function(a,b,c){this.eventBus.trigger("asyncrequest",c,b)},_onAsyncCanceled:function(a,b,c){this.eventBus.trigger("asynccancel",c,b)},
_onAsyncReceived:function(a,b,c){this.eventBus.trigger("asyncreceive",c,b)},_onFocused:function(){this._minLengthMet()&&this.menu.update(this.input.getQuery())},_onBlurred:function(){this.input.hasQueryChangedSinceLastFocus()&&this.eventBus.trigger("change",this.input.getQuery())},_onEnterKeyed:function(a,b){var c;(c=this.menu.getActiveSelectable())?this.select(c)&&(b.preventDefault(),b.stopPropagation()):this.autoselect&&this.select(this.menu.getTopSelectable())&&(b.preventDefault(),b.stopPropagation())},
_onTabKeyed:function(a,b){var c;(c=this.menu.getActiveSelectable())?this.select(c)&&b.preventDefault():(c=this.menu.getTopSelectable())&&this.autocomplete(c)&&b.preventDefault()},_onEscKeyed:function(){this.close()},_onUpKeyed:function(){this.moveCursor(-1)},_onDownKeyed:function(){this.moveCursor(1)},_onLeftKeyed:function(){"rtl"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getActiveSelectable()||this.menu.getTopSelectable())},_onRightKeyed:function(){"ltr"===this.dir&&this.input.isCursorAtEnd()&&
this.autocomplete(this.menu.getActiveSelectable()||this.menu.getTopSelectable())},_onQueryChanged:function(a,b){this._minLengthMet(b)?this.menu.update(b):this.menu.empty()},_onWhitespaceChanged:function(){this._updateHint()},_onLangDirChanged:function(a,b){this.dir!==b&&(this.dir=b,this.menu.setLanguageDirection(b))},_openIfActive:function(){this.isActive()&&this.open()},_minLengthMet:function(a){a=b.isString(a)?a:this.input.getQuery()||"";return a.length>=this.minLength},_updateHint:function(){var a,
c,e;a=this.menu.getTopSelectable();c=this.menu.getSelectableData(a);a=this.input.getInputValue();!c||b.isBlankString(a)||this.input.hasOverflow()?this.input.clearHint():(e=p.normalizeQuery(a),e=b.escapeRegExChars(e),e=new RegExp("^(?:"+e+")(.+$)","i"),(c=e.exec(c.val))&&this.input.setHint(a+c[1]))},isEnabled:function(){return this.enabled},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},isActive:function(){return this.active},activate:function(){if(this.isActive())return!0;
if(!this.isEnabled()||this.eventBus.before("active"))return!1;this.active=!0;this.eventBus.trigger("active");return!0},deactivate:function(){if(this.isActive()){if(this.eventBus.before("idle"))return!1;this.active=!1;this.close();this.eventBus.trigger("idle")}return!0},isOpen:function(){return this.menu.isOpen()},open:function(){this.isOpen()||this.eventBus.before("open")||(this.menu.open(),this._updateHint(),this.eventBus.trigger("open"));return this.isOpen()},close:function(){this.isOpen()&&!this.eventBus.before("close")&&
(this.menu.close(),this.input.clearHint(),this.input.resetInputValue(),this.eventBus.trigger("close"));return!this.isOpen()},setVal:function(a){this.input.setQuery(b.toStr(a))},getVal:function(){return this.input.getQuery()},select:function(a){return(a=this.menu.getSelectableData(a))&&!this.eventBus.before("select",a.obj,a.dataset)?(this.input.setQuery(this.selectionKey?a.obj[this.selectionKey]:a.val,!0),this.eventBus.trigger("select",a.obj,a.dataset),this.close(),!0):!1},autocomplete:function(a){var b;
b=this.input.getQuery();return(a=this.menu.getSelectableData(a))&&b!==(this.selectionKey?a.obj[this.selectionKey]:a.val)&&!this.eventBus.before("autocomplete",a.obj,a.dataset)?(this.input.setQuery(this.selectionKey?a.obj[this.selectionKey]:a.val),this.eventBus.trigger("autocomplete",a.obj,a.dataset),!0):!1},moveCursor:function(a){var b,c,h,d,f;b=this.input.getQuery();a=this.menu.selectableRelativeToCursor(a);h=(c=this.menu.getSelectableData(a))?c.obj:null;d=c?c.dataset:null;f=a?a.attr("id"):null;
this.input.trigger("cursorchange",f);return this._minLengthMet()&&this.menu.update(b)||this.eventBus.before("cursorchange",h,d)?!1:(this.menu.setCursor(a),c?this.input.setInputValue(this.selectionKey?c.obj[this.selectionKey]:c.val):(this.input.resetInputValue(),this._updateHint()),this.eventBus.trigger("cursorchange",h,d),!0)},destroy:function(){this.input.destroy();this.menu.destroy()}});return c}();(function(){function f(b,c){b.each(function(){var b=a(this),e;(e=b.data(n.typeahead))&&c(e,b)})}function g(a,
b){return a.clone().addClass(b.classes.hint).removeData().css(b.css.hint).css(m(a)).prop({readonly:!0,required:!1}).removeAttr("id name placeholder").removeClass("required").attr({spellcheck:"false",tabindex:-1})}function k(a,b){a.data(n.attrs,{dir:a.attr("dir"),autocomplete:a.attr("autocomplete"),spellcheck:a.attr("spellcheck"),style:a.attr("style")});a.addClass(b.classes.input).attr({spellcheck:!1});try{!a.attr("dir")&&a.attr("dir","auto")}catch(c){}return a}function m(a){return{backgroundAttachment:a.css("background-attachment"),
backgroundClip:a.css("background-clip"),backgroundColor:a.css("background-color"),backgroundImage:a.css("background-image"),backgroundOrigin:a.css("background-origin"),backgroundPosition:a.css("background-position"),backgroundRepeat:a.css("background-repeat"),backgroundSize:a.css("background-size")}}function e(a){var c,e;c=a.data(n.www);e=a.parent().filter(c.selectors.wrapper);b.each(a.data(n.attrs),function(c,e){b.isUndefined(c)?a.removeAttr(e):a.attr(e,c)});a.removeData(n.typeahead).removeData(n.www).removeData(n.attr).removeClass(c.classes.input);
e.length&&(a.detach().insertAfter(e),e.remove())}function h(c){c=b.isJQuery(c)||b.isElement(c)?a(c).first():[];return c.length?c:null}var v,n,z;v=a.fn.typeahead;n={www:"tt-www",attrs:"tt-attrs",typeahead:"tt-typeahead"};z={initialize:function(e,f){var v;f=b.isArray(f)?f:[].slice.call(arguments,1);e=e||{};v=c(e.classNames);return this.each(function(){var c,m,z,r,C,H;b.each(f,function(a){a.highlight=!!e.highlight});c=a(this);m=a(v.html.wrapper);z=h(e.hint);r=h(e.menu);C=!1!==e.hint&&!z;H=!1!==e.menu&&
!r;C&&(z=g(c,v));H&&(r=a(v.html.menu).css(v.css.menu));z&&z.val("");c=k(c,v);if(C||H)m.css(v.css.wrapper),c.css(C?v.css.input:v.css.inputWithNoHint),c.wrap(m).parent().prepend(C?z:null).append(H?r:null);C=H?t:l;m=new d({el:c});z=new p({hint:z,input:c},v);r=new C({node:r,datasets:f},v);new u({$input:c,menu:r});r=new x({input:z,menu:r,eventBus:m,minLength:e.minLength,autoselect:e.autoselect,selectionKey:e.selectionKey},v);c.data(n.www,v);c.data(n.typeahead,r)})},isEnabled:function(){var a;f(this.first(),
function(b){a=b.isEnabled()});return a},enable:function(){f(this,function(a){a.enable()});return this},disable:function(){f(this,function(a){a.disable()});return this},isActive:function(){var a;f(this.first(),function(b){a=b.isActive()});return a},activate:function(){f(this,function(a){a.activate()});return this},deactivate:function(){f(this,function(a){a.deactivate()});return this},isOpen:function(){var a;f(this.first(),function(b){a=b.isOpen()});return a},open:function(){f(this,function(a){a.open()});
return this},close:function(){f(this,function(a){a.close()});return this},select:function(b){var c=!1,e=a(b);f(this.first(),function(a){c=a.select(e)});return c},autocomplete:function(b){var c=!1,e=a(b);f(this.first(),function(a){c=a.autocomplete(e)});return c},moveCursor:function(a){var b=!1;f(this.first(),function(c){b=c.moveCursor(a)});return b},val:function(a){var c;if(arguments.length)return f(this,function(c){c.setVal(b.toStr(a))}),this;f(this.first(),function(a){c=a.getVal()});return c},destroy:function(){f(this,
function(a,b){e(b);a.destroy()});return this}};a.fn.typeahead=function(a){return z[a]?z[a].apply(this,[].slice.call(arguments,1)):z.initialize.apply(this,arguments)};a.fn.typeahead.noConflict=function(){a.fn.typeahead=v;return this}})()});
(function(a){"function"===typeof define&&define.amd?define(["jquery"],a):"object"===typeof exports?a(require("jquery")):a(jQuery)})(function(a,b){function c(){return new Date(Date.UTC.apply(Date,arguments))}function d(){var a=new Date;return c(a.getFullYear(),a.getMonth(),a.getDate())}function g(a){return function(){return this[a].apply(this,arguments)}}function n(b,c){function d(a,b){return b.toLowerCase()}var f=a(b).data(),g={},k,m=new RegExp("^"+c.toLowerCase()+"([A-Z])");c=new RegExp("^"+c.toLowerCase());
for(var l in f)c.test(l)&&(k=l.replace(m,d),g[k]=f[l]);return g}function p(b){var c={};if(!k[b]&&(b=b.split("-")[0],!k[b]))return;var d=k[b];a.each(q,function(a,b){b in d&&(c[b]=d[b])});return c}var r=function(){var b={get:function(a){return this.slice(a)[0]},contains:function(a){a=a&&a.valueOf();for(var b=0,c=this.length;b<c;b++)if(this[b].valueOf()===a)return b;return-1},remove:function(a){this.splice(a,1)},replace:function(b){b&&(a.isArray(b)||(b=[b]),this.clear(),this.push.apply(this,b))},clear:function(){this.length=
0},copy:function(){var a=new r;a.replace(this);return a}};return function(){var c=[];c.push.apply(c,arguments);a.extend(c,b);return c}}(),l=function(b,c){a(b).data("datepicker",this);this._process_options(c);this.dates=new r;this.viewDate=this.o.defaultViewDate;this.focusDate=null;this.element=a(b);this.inputField=(this.isInput=this.element.is("input"))?this.element:this.element.find("input");this.hasInput=(this.component=this.element.hasClass("date")?this.element.find(".add-on, .input-group-addon, .btn"):
!1)&&this.inputField.length;this.component&&0===this.component.length&&(this.component=!1);this.isInline=!this.component&&this.element.is("div");this.picker=a(m.template);this._check_template(this.o.templates.leftArrow)&&this.picker.find(".prev").html(this.o.templates.leftArrow);this._check_template(this.o.templates.rightArrow)&&this.picker.find(".next").html(this.o.templates.rightArrow);this._buildEvents();this._attachEvents();this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):
this.picker.addClass("datepicker-dropdown dropdown-menu");this.o.rtl&&this.picker.addClass("datepicker-rtl");this.viewMode=this.o.startView;this.o.calendarWeeks&&this.picker.find("thead .datepicker-title, tfoot .today, tfoot .clear").attr("colspan",function(a,b){return parseInt(b)+1});this._allow_update=!1;this.setStartDate(this._o.startDate);this.setEndDate(this._o.endDate);this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled);this.setDaysOfWeekHighlighted(this.o.daysOfWeekHighlighted);this.setDatesDisabled(this.o.datesDisabled);
this.fillDow();this.fillMonths();this._allow_update=!0;this.update();this.showMode();this.isInline&&this.show()};l.prototype={constructor:l,_resolveViewName:function(a,c){return 0===a||"days"===a||"month"===a?0:1===a||"months"===a||"year"===a?1:2===a||"years"===a||"decade"===a?2:3===a||"decades"===a||"century"===a?3:4===a||"centuries"===a||"millennium"===a?4:c===b?!1:c},_check_template:function(c){try{return c===b||""===c?!1:0>=(c.match(/[<>]/g)||[]).length?!0:0<a(c).length}catch(h){return!1}},_process_options:function(b){this._o=
a.extend({},this._o,b);var h=this.o=a.extend({},this._o);b=h.language;k[b]||(b=b.split("-")[0],k[b]||(b=f.language));h.language=b;h.startView=this._resolveViewName(h.startView,0);h.minViewMode=this._resolveViewName(h.minViewMode,0);h.maxViewMode=this._resolveViewName(h.maxViewMode,4);h.startView=Math.min(h.startView,h.maxViewMode);h.startView=Math.max(h.startView,h.minViewMode);!0!==h.multidate&&(h.multidate=Number(h.multidate)||!1,!1!==h.multidate&&(h.multidate=Math.max(0,h.multidate)));h.multidateSeparator=
String(h.multidateSeparator);h.weekStart%=7;h.weekEnd=(h.weekStart+6)%7;var v=m.parseFormat(h.format);-Infinity!==h.startDate&&(h.startDate=h.startDate?h.startDate instanceof Date?this._local_to_utc(this._zero_time(h.startDate)):m.parseDate(h.startDate,v,h.language,h.assumeNearbyYear):-Infinity);Infinity!==h.endDate&&(h.endDate=h.endDate?h.endDate instanceof Date?this._local_to_utc(this._zero_time(h.endDate)):m.parseDate(h.endDate,v,h.language,h.assumeNearbyYear):Infinity);h.daysOfWeekDisabled=h.daysOfWeekDisabled||
[];a.isArray(h.daysOfWeekDisabled)||(h.daysOfWeekDisabled=h.daysOfWeekDisabled.split(/[,\s]*/));h.daysOfWeekDisabled=a.map(h.daysOfWeekDisabled,function(a){return parseInt(a,10)});h.daysOfWeekHighlighted=h.daysOfWeekHighlighted||[];a.isArray(h.daysOfWeekHighlighted)||(h.daysOfWeekHighlighted=h.daysOfWeekHighlighted.split(/[,\s]*/));h.daysOfWeekHighlighted=a.map(h.daysOfWeekHighlighted,function(a){return parseInt(a,10)});h.datesDisabled=h.datesDisabled||[];a.isArray(h.datesDisabled)||(h.datesDisabled=
[h.datesDisabled]);h.datesDisabled=a.map(h.datesDisabled,function(a){return m.parseDate(a,v,h.language,h.assumeNearbyYear)});b=String(h.orientation).toLowerCase().split(/\s+/g);var g=h.orientation.toLowerCase();b=a.grep(b,function(a){return/^auto|left|right|top|bottom$/.test(a)});h.orientation={x:"auto",y:"auto"};if(g&&"auto"!==g)if(1===b.length)switch(b[0]){case "top":case "bottom":h.orientation.y=b[0];break;case "left":case "right":h.orientation.x=b[0]}else g=a.grep(b,function(a){return/^left|right$/.test(a)}),
h.orientation.x=g[0]||"auto",g=a.grep(b,function(a){return/^top|bottom$/.test(a)}),h.orientation.y=g[0]||"auto";h.defaultViewDate?(b=h.defaultViewDate.year||(new Date).getFullYear(),h.defaultViewDate=c(b,h.defaultViewDate.month||0,h.defaultViewDate.day||1)):h.defaultViewDate=d()},_events:[],_secondaryEvents:[],_applyEvents:function(a){for(var c=0,d,f,g;c<a.length;c++)d=a[c][0],2===a[c].length?(f=b,g=a[c][1]):3===a[c].length&&(f=a[c][1],g=a[c][2]),d.on(g,f)},_unapplyEvents:function(a){for(var c=0,
d,f,g;c<a.length;c++)d=a[c][0],2===a[c].length?(g=b,f=a[c][1]):3===a[c].length&&(g=a[c][1],f=a[c][2]),d.off(f,g)},_buildEvents:function(){var b={keyup:a.proxy(function(b){-1===a.inArray(b.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:a.proxy(this.keydown,this),paste:a.proxy(this.paste,this)};!0===this.o.showOnFocus&&(b.focus=a.proxy(this.show,this));this._events=this.isInput?[[this.element,b]]:this.component&&this.hasInput?[[this.inputField,b],[this.component,{click:a.proxy(this.show,
this)}]]:[[this.element,{click:a.proxy(this.show,this),keydown:a.proxy(this.keydown,this)}]];this._events.push([this.element,"*",{blur:a.proxy(function(a){this._focused_from=a.target},this)}],[this.element,{blur:a.proxy(function(a){this._focused_from=a.target},this)}]);this.o.immediateUpdates&&this._events.push([this.element,{"changeYear changeMonth":a.proxy(function(a){this.update(a.date)},this)}]);this._secondaryEvents=[[this.picker,{click:a.proxy(this.click,this)}],[a(window),{resize:a.proxy(this.place,
this)}],[a(document),{mousedown:a.proxy(function(a){this.element.is(a.target)||this.element.find(a.target).length||this.picker.is(a.target)||this.picker.find(a.target).length||this.isInline||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents();this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents();this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},
_trigger:function(b,c){var d=c||this.dates.get(-1),d=this._utc_to_local(d);this.element.trigger({type:b,date:d,dates:a.map(this.dates,this._utc_to_local),format:a.proxy(function(a,b){0===arguments.length?(a=this.dates.length-1,b=this.o.format):"string"===typeof a&&(b=a,a=this.dates.length-1);b=b||this.o.format;var c=this.dates.get(a);return m.formatDate(c,b,this.o.language)},this)})},show:function(){if(!(this.inputField.prop("disabled")||this.inputField.prop("readonly")&&!1===this.o.enableOnReadonly))return this.isInline||
this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&a(this.element).blur(),this},hide:function(){if(this.isInline||!this.picker.is(":visible"))return this;this.focusDate=null;this.picker.hide().detach();this._detachSecondaryEvents();this.viewMode=this.o.startView;this.showMode();this.o.forceParse&&this.inputField.val()&&this.setValue();
this._trigger("hide");return this},destroy:function(){this.hide();this._detachEvents();this._detachSecondaryEvents();this.picker.remove();delete this.element.data().datepicker;this.isInput||delete this.element.data().date;return this},paste:function(b){var c;if(b.originalEvent.clipboardData&&b.originalEvent.clipboardData.types&&-1!==a.inArray("text/plain",b.originalEvent.clipboardData.types))c=b.originalEvent.clipboardData.getData("text/plain");else if(window.clipboardData)c=window.clipboardData.getData("Text");
else return;this.setDate(c);this.update();b.preventDefault()},_utc_to_local:function(a){return a&&new Date(a.getTime()+6E4*a.getTimezoneOffset())},_local_to_utc:function(a){return a&&new Date(a.getTime()-6E4*a.getTimezoneOffset())},_zero_time:function(a){return a&&new Date(a.getFullYear(),a.getMonth(),a.getDate())},_zero_utc_time:function(a){return a&&new Date(Date.UTC(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()))},getDates:function(){return a.map(this.dates,this._utc_to_local)},getUTCDates:function(){return a.map(this.dates,
function(a){return new Date(a)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var a=this.dates.get(-1);return"undefined"!==typeof a?new Date(a):null},clearDates:function(){this.inputField&&this.inputField.val("");this.update();this._trigger("changeDate");this.o.autoclose&&this.hide()},setDates:function(){var b=a.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,b);this._trigger("changeDate");this.setValue();return this},setUTCDates:function(){var b=
a.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,a.map(b,this._utc_to_local));this._trigger("changeDate");this.setValue();return this},setDate:g("setDates"),setUTCDate:g("setUTCDates"),remove:g("destroy"),setValue:function(){var a=this.getFormattedDate();this.inputField.val(a);return this},getFormattedDate:function(c){c===b&&(c=this.o.format);var d=this.o.language;return a.map(this.dates,function(a){return m.formatDate(a,c,d)}).join(this.o.multidateSeparator)},getStartDate:function(){return this.o.startDate},
setStartDate:function(a){this._process_options({startDate:a});this.update();this.updateNavArrows();return this},getEndDate:function(){return this.o.endDate},setEndDate:function(a){this._process_options({endDate:a});this.update();this.updateNavArrows();return this},setDaysOfWeekDisabled:function(a){this._process_options({daysOfWeekDisabled:a});this.update();this.updateNavArrows();return this},setDaysOfWeekHighlighted:function(a){this._process_options({daysOfWeekHighlighted:a});this.update();return this},
setDatesDisabled:function(a){this._process_options({datesDisabled:a});this.update();this.updateNavArrows()},place:function(){if(this.isInline)return this;var b=this.picker.outerWidth(),c=this.picker.outerHeight(),d=a(this.o.container),f=d.width(),g="body"===this.o.container?a(document).scrollTop():d.scrollTop(),k=d.offset(),m=[];this.element.parents().each(function(){var b=a(this).css("z-index");"auto"!==b&&0!==b&&m.push(parseInt(b))});var d=Math.max.apply(Math,m)+this.o.zIndexOffset,l=this.component?
this.component.parent().offset():this.element.offset(),q=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),p=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),n=l.left-k.left,k=l.top-k.top;"body"!==this.o.container&&(k+=g);this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left");"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&
(n-=b-p)):0>l.left?(this.picker.addClass("datepicker-orient-left"),n-=l.left-10):n+b>f?(this.picker.addClass("datepicker-orient-right"),n+=p-b):this.picker.addClass("datepicker-orient-left");b=this.o.orientation.y;"auto"===b&&(b=0>-g+k-c?"bottom":"top");this.picker.addClass("datepicker-orient-"+b);k="top"===b?k-(c+parseInt(this.picker.css("padding-top"))):k+q;this.o.rtl?this.picker.css({top:k,right:f-(n+p),zIndex:d}):this.picker.css({top:k,left:n,zIndex:d});return this},_allow_update:!0,update:function(){if(!this._allow_update)return this;
var b=this.dates.copy(),c=[],d=!1;arguments.length?(a.each(arguments,a.proxy(function(a,b){b instanceof Date&&(b=this._local_to_utc(b));c.push(b)},this)),d=!0):(c=(c=this.isInput?this.element.val():this.element.data("date")||this.inputField.val())&&this.o.multidate?c.split(this.o.multidateSeparator):[c],delete this.element.data().date);c=a.map(c,a.proxy(function(a){return m.parseDate(a,this.o.format,this.o.language,this.o.assumeNearbyYear)},this));c=a.grep(c,a.proxy(function(a){return!this.dateWithinRange(a)||
!a},this),!0);this.dates.replace(c);this.viewDate=this.dates.length?new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?new Date(this.o.startDate):this.viewDate>this.o.endDate?new Date(this.o.endDate):this.o.defaultViewDate;d?this.setValue():c.length&&String(b)!==String(this.dates)&&this._trigger("changeDate");!this.dates.length&&b.length&&this._trigger("clearDate");this.fill();this.element.change();return this},fillDow:function(){var b=this.o.weekStart,c="\x3ctr\x3e";this.o.calendarWeeks&&
(this.picker.find(".datepicker-days .datepicker-switch").attr("colspan",function(a,b){return parseInt(b)+1}),c+='\x3cth class\x3d"cw"\x3e\x26#160;\x3c/th\x3e');for(;b<this.o.weekStart+7;)c+='\x3cth class\x3d"dow',-1<a.inArray(b,this.o.daysOfWeekDisabled)&&(c+=" disabled"),c+='"\x3e'+k[this.o.language].daysMin[b++%7]+"\x3c/th\x3e";c+="\x3c/tr\x3e";this.picker.find(".datepicker-days thead").append(c)},fillMonths:function(){for(var a=this._utc_to_local(this.viewDate),b="",c=0;12>c;)var d=a&&a.getMonth()===
c?" focused":"",b=b+('\x3cspan class\x3d"month'+d+'"\x3e'+k[this.o.language].monthsShort[c++]+"\x3c/span\x3e");this.picker.find(".datepicker-months td").html(b)},setRange:function(b){b&&b.length?this.range=a.map(b,function(a){return a.valueOf()}):delete this.range;this.fill()},getClassNames:function(b){var c=[],d=this.viewDate.getUTCFullYear(),f=this.viewDate.getUTCMonth(),g=new Date;b.getUTCFullYear()<d||b.getUTCFullYear()===d&&b.getUTCMonth()<f?c.push("old"):(b.getUTCFullYear()>d||b.getUTCFullYear()===
d&&b.getUTCMonth()>f)&&c.push("new");this.focusDate&&b.valueOf()===this.focusDate.valueOf()&&c.push("focused");this.o.todayHighlight&&b.getUTCFullYear()===g.getFullYear()&&b.getUTCMonth()===g.getMonth()&&b.getUTCDate()===g.getDate()&&c.push("today");-1!==this.dates.contains(b)&&c.push("active");this.dateWithinRange(b)||c.push("disabled");this.dateIsDisabled(b)&&c.push("disabled","disabled-date");-1!==a.inArray(b.getUTCDay(),this.o.daysOfWeekHighlighted)&&c.push("highlighted");this.range&&(b>this.range[0]&&
b<this.range[this.range.length-1]&&c.push("range"),-1!==a.inArray(b.valueOf(),this.range)&&c.push("selected"),b.valueOf()===this.range[0]&&c.push("range-start"),b.valueOf()===this.range[this.range.length-1]&&c.push("range-end"));return c},_fill_yearsView:function(c,d,f,g,k,m,l,q){var n,p,r,u,t;n="";c=this.picker.find(c);k=parseInt(k/f,10)*f;m=parseInt(m/g,10)*g;f=parseInt(l/g,10)*g;l=a.map(this.dates,function(a){return parseInt(a.getUTCFullYear()/g,10)*g});c.find(".datepicker-switch").text(k+"-"+
(k+9*g));k-=g;for(p=-1;11>p;p+=1)r=[d],u=null,-1===p?r.push("old"):10===p&&r.push("new"),-1!==a.inArray(k,l)&&r.push("active"),(k<m||k>f)&&r.push("disabled"),k===this.viewDate.getFullYear()&&r.push("focused"),q!==a.noop&&(t=q(new Date(k,0,1)),t===b?t={}:"boolean"===typeof t?t={enabled:t}:"string"===typeof t&&(t={classes:t}),!1===t.enabled&&r.push("disabled"),t.classes&&(r=r.concat(t.classes.split(/\s+/))),t.tooltip&&(u=t.tooltip)),n+='\x3cspan class\x3d"'+r.join(" ")+'"'+(u?' title\x3d"'+u+'"':"")+
"\x3e"+k+"\x3c/span\x3e",k+=g;c.find("td").html(n)},fill:function(){var e=new Date(this.viewDate),d=e.getUTCFullYear(),f=e.getUTCMonth(),g=-Infinity!==this.o.startDate?this.o.startDate.getUTCFullYear():-Infinity,l=-Infinity!==this.o.startDate?this.o.startDate.getUTCMonth():-Infinity,q=Infinity!==this.o.endDate?this.o.endDate.getUTCFullYear():Infinity,p=Infinity!==this.o.endDate?this.o.endDate.getUTCMonth():Infinity,n=k[this.o.language].today||k.en.today||"",r=k[this.o.language].clear||k.en.clear||
"",t=k[this.o.language].titleFormat||k.en.titleFormat,u;if(!isNaN(d)&&!isNaN(f)){this.picker.find(".datepicker-days .datepicker-switch").text(m.formatDate(e,t,this.o.language));this.picker.find("tfoot .today").text(n).toggle(!1!==this.o.todayBtn);this.picker.find("tfoot .clear").text(r).toggle(!1!==this.o.clearBtn);this.picker.find("thead .datepicker-title").text(this.o.title).toggle(""!==this.o.title);this.updateNavArrows();this.fillMonths();e=c(d,f-1,28);f=m.getDaysInMonth(e.getUTCFullYear(),e.getUTCMonth());
e.setUTCDate(f);e.setUTCDate(f-(e.getUTCDay()-this.o.weekStart+7)%7);f=new Date(e);100>e.getUTCFullYear()&&f.setUTCFullYear(e.getUTCFullYear());f.setUTCDate(f.getUTCDate()+42);f=f.valueOf();for(n=[];e.valueOf()<f;){if(e.getUTCDay()===this.o.weekStart&&(n.push("\x3ctr\x3e"),this.o.calendarWeeks)){var r=new Date(+e+(this.o.weekStart-e.getUTCDay()-7)%7*864E5),r=new Date(Number(r)+(11-r.getUTCDay())%7*864E5),x=new Date(Number(x=c(r.getUTCFullYear(),0,1))+(11-x.getUTCDay())%7*864E5);n.push('\x3ctd class\x3d"cw"\x3e'+
((r-x)/864E5/7+1)+"\x3c/td\x3e")}t=this.getClassNames(e);t.push("day");this.o.beforeShowDay!==a.noop&&(r=this.o.beforeShowDay(this._utc_to_local(e)),r===b?r={}:"boolean"===typeof r?r={enabled:r}:"string"===typeof r&&(r={classes:r}),!1===r.enabled&&t.push("disabled"),r.classes&&(t=t.concat(r.classes.split(/\s+/))),r.tooltip&&(u=r.tooltip));t=a.isFunction(a.uniqueSort)?a.uniqueSort(t):a.unique(t);n.push('\x3ctd class\x3d"'+t.join(" ")+'"'+(u?' title\x3d"'+u+'"':"")+"\x3e"+e.getUTCDate()+"\x3c/td\x3e");
u=null;e.getUTCDay()===this.o.weekEnd&&n.push("\x3c/tr\x3e");e.setUTCDate(e.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(n.join(""));u=k[this.o.language].monthsTitle||k.en.monthsTitle||"Months";var C=this.picker.find(".datepicker-months").find(".datepicker-switch").text(2>this.o.maxViewMode?u:d).end().find("span").removeClass("active");a.each(this.dates,function(a,b){b.getUTCFullYear()===d&&C.eq(b.getUTCMonth()).addClass("active")});(d<g||d>q)&&C.addClass("disabled");
d===g&&C.slice(0,l).addClass("disabled");d===q&&C.slice(p+1).addClass("disabled");if(this.o.beforeShowMonth!==a.noop){var H=this;a.each(C,function(c,e){var f=H.o.beforeShowMonth(new Date(d,c,1));f===b?f={}:"boolean"===typeof f?f={enabled:f}:"string"===typeof f&&(f={classes:f});!1!==f.enabled||a(e).hasClass("disabled")||a(e).addClass("disabled");f.classes&&a(e).addClass(f.classes);f.tooltip&&a(e).prop("title",f.tooltip)})}this._fill_yearsView(".datepicker-years","year",10,1,d,g,q,this.o.beforeShowYear);
this._fill_yearsView(".datepicker-decades","decade",100,10,d,g,q,this.o.beforeShowDecade);this._fill_yearsView(".datepicker-centuries","century",1E3,100,d,g,q,this.o.beforeShowCentury)}},updateNavArrows:function(){if(this._allow_update){var a=new Date(this.viewDate),b=a.getUTCFullYear(),a=a.getUTCMonth();switch(this.viewMode){case 0:-Infinity!==this.o.startDate&&b<=this.o.startDate.getUTCFullYear()&&a<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"});
Infinity!==this.o.endDate&&b>=this.o.endDate.getUTCFullYear()&&a>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:case 3:case 4:-Infinity!==this.o.startDate&&b<=this.o.startDate.getUTCFullYear()||2>this.o.maxViewMode?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),Infinity!==this.o.endDate&&b>=this.o.endDate.getUTCFullYear()||2>this.o.maxViewMode?
this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(b){b.preventDefault();b.stopPropagation();var h,f,g,k,l;b=a(b.target);b.hasClass("datepicker-switch")&&this.showMode(1);h=b.closest(".prev, .next");0<h.length&&(h=m.modes[this.viewMode].navStep*(h.hasClass("prev")?-1:1),0===this.viewMode?(this.viewDate=this.moveMonth(this.viewDate,h),this._trigger("changeMonth",this.viewDate)):(this.viewDate=this.moveYear(this.viewDate,h),1===
this.viewMode&&this._trigger("changeYear",this.viewDate)),this.fill());b.hasClass("today")&&!b.hasClass("day")&&(this.showMode(-2),this._setDate(d(),"linked"===this.o.todayBtn?null:"view"));b.hasClass("clear")&&this.clearDates();!b.hasClass("disabled")&&(b.hasClass("day")&&(h=parseInt(b.text(),10)||1,f=this.viewDate.getUTCFullYear(),g=this.viewDate.getUTCMonth(),b.hasClass("old")&&(0===g?(g=11,--f,l=k=!0):(--g,k=!0)),b.hasClass("new")&&(11===g?(g=0,f+=1,l=k=!0):(g+=1,k=!0)),this._setDate(c(f,g,h)),
l&&this._trigger("changeYear",this.viewDate),k&&this._trigger("changeMonth",this.viewDate)),b.hasClass("month")&&(this.viewDate.setUTCDate(1),h=1,g=b.parent().find("span").index(b),f=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(g),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode?(this._setDate(c(f,g,h)),this.showMode()):this.showMode(-1),this.fill()),b.hasClass("year")||b.hasClass("decade")||b.hasClass("century"))&&(this.viewDate.setUTCDate(1),h=1,g=0,f=parseInt(b.text(),
10)||0,this.viewDate.setUTCFullYear(f),b.hasClass("year")&&(this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(c(f,g,h))),b.hasClass("decade")&&(this._trigger("changeDecade",this.viewDate),3===this.o.minViewMode&&this._setDate(c(f,g,h))),b.hasClass("century")&&(this._trigger("changeCentury",this.viewDate),4===this.o.minViewMode&&this._setDate(c(f,g,h))),this.showMode(-1),this.fill());this.picker.is(":visible")&&this._focused_from&&a(this._focused_from).focus();delete this._focused_from},
_toggle_multidate:function(a){var b=this.dates.contains(a);a||this.dates.clear();-1!==b?(!0===this.o.multidate||1<this.o.multidate||this.o.toggleActive)&&this.dates.remove(b):(!1===this.o.multidate&&this.dates.clear(),this.dates.push(a));if("number"===typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(a,b){b&&"date"!==b||this._toggle_multidate(a&&new Date(a));b&&"view"!==b||(this.viewDate=a&&new Date(a));this.fill();this.setValue();b&&"view"===
b||this._trigger("changeDate");this.inputField&&this.inputField.change();!this.o.autoclose||b&&"date"!==b||this.hide()},moveDay:function(a,b){var c=new Date(a);c.setUTCDate(a.getUTCDate()+b);return c},moveWeek:function(a,b){return this.moveDay(a,7*b)},moveMonth:function(a,b){if(!a||isNaN(a.getTime()))return this.o.defaultViewDate;if(!b)return a;var c=new Date(a.valueOf()),d=c.getUTCDate(),f=c.getUTCMonth(),g=Math.abs(b),k;b=0<b?1:-1;if(1===g){if(g=-1===b?function(){return c.getUTCMonth()===f}:function(){return c.getUTCMonth()!==
k},k=f+b,c.setUTCMonth(k),0>k||11<k)k=(k+12)%12}else{for(var l=0;l<g;l++)c=this.moveMonth(c,b);k=c.getUTCMonth();c.setUTCDate(d);g=function(){return k!==c.getUTCMonth()}}for(;g();)c.setUTCDate(--d),c.setUTCMonth(k);return c},moveYear:function(a,b){return this.moveMonth(a,12*b)},moveAvailableDate:function(a,b,c){do{a=this[c](a,b);if(!this.dateWithinRange(a))return!1;c="moveDay"}while(this.dateIsDisabled(a));return a},weekOfDateIsDisabled:function(b){return-1!==a.inArray(b.getUTCDay(),this.o.daysOfWeekDisabled)},
dateIsDisabled:function(b){return this.weekOfDateIsDisabled(b)||0<a.grep(this.o.datesDisabled,function(a){return b.getUTCFullYear()===a.getUTCFullYear()&&b.getUTCMonth()===a.getUTCMonth()&&b.getUTCDate()===a.getUTCDate()}).length},dateWithinRange:function(a){return a>=this.o.startDate&&a<=this.o.endDate},keydown:function(a){if(this.picker.is(":visible")){var b=!1,c,d,f=this.focusDate||this.viewDate;switch(a.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,
this.fill()):this.hide();a.preventDefault();a.stopPropagation();break;case 37:case 38:case 39:case 40:if(!this.o.keyboardNavigation||7===this.o.daysOfWeekDisabled.length)break;c=37===a.keyCode||38===a.keyCode?-1:1;if(0===this.viewMode)a.ctrlKey?(d=this.moveAvailableDate(f,c,"moveYear"))&&this._trigger("changeYear",this.viewDate):a.shiftKey?(d=this.moveAvailableDate(f,c,"moveMonth"))&&this._trigger("changeMonth",this.viewDate):37===a.keyCode||39===a.keyCode?d=this.moveAvailableDate(f,c,"moveDay"):
this.weekOfDateIsDisabled(f)||(d=this.moveAvailableDate(f,c,"moveWeek"));else if(1===this.viewMode){if(38===a.keyCode||40===a.keyCode)c*=4;d=this.moveAvailableDate(f,c,"moveMonth")}else if(2===this.viewMode){if(38===a.keyCode||40===a.keyCode)c*=4;d=this.moveAvailableDate(f,c,"moveYear")}d&&(this.focusDate=this.viewDate=d,this.setValue(),this.fill(),a.preventDefault());break;case 13:if(!this.o.forceParse)break;f=this.focusDate||this.dates.get(-1)||this.viewDate;this.o.keyboardNavigation&&(this._toggle_multidate(f),
b=!0);this.focusDate=null;this.viewDate=this.dates.get(-1)||this.viewDate;this.setValue();this.fill();this.picker.is(":visible")&&(a.preventDefault(),a.stopPropagation(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}b&&(this.dates.length?this._trigger("changeDate"):this._trigger("clearDate"),this.inputField&&this.inputField.change())}else if(40===a.keyCode||27===a.keyCode)this.show(),a.stopPropagation()},showMode:function(a){a&&
(this.viewMode=Math.max(this.o.minViewMode,Math.min(this.o.maxViewMode,this.viewMode+a)));this.picker.children("div").hide().filter(".datepicker-"+m.modes[this.viewMode].clsName).show();this.updateNavArrows()}};var u=function(b,c){a(b).data("datepicker",this);this.element=a(b);this.inputs=a.map(c.inputs,function(a){return a.jquery?a[0]:a});delete c.inputs;x.call(a(this.inputs),c).on("changeDate",a.proxy(this.dateUpdated,this));this.pickers=a.map(this.inputs,function(b){return a(b).data("datepicker")});
this.updateDates()};u.prototype={updateDates:function(){this.dates=a.map(this.pickers,function(a){return a.getUTCDate()});this.updateRanges()},updateRanges:function(){var b=a.map(this.dates,function(a){return a.valueOf()});a.each(this.pickers,function(a,c){c.setRange(b)})},dateUpdated:function(b){if(!this.updating){this.updating=!0;var c=a(b.target).data("datepicker");if("undefined"!==typeof c){var d=c.getUTCDate();b=a.inArray(b.target,this.inputs);var c=b-1,f=b+1,g=this.inputs.length;if(-1!==b){a.each(this.pickers,
function(a,b){b.getUTCDate()||b.setUTCDate(d)});if(d<this.dates[c])for(;0<=c&&d<this.dates[c];)this.pickers[c--].setUTCDate(d);else if(d>this.dates[f])for(;f<g&&d>this.dates[f];)this.pickers[f++].setUTCDate(d);this.updateDates();delete this.updating}}}},remove:function(){a.map(this.pickers,function(a){a.remove()});delete this.element.data().datepicker}};var t=a.fn.datepicker,x=function(c){var d=Array.apply(null,arguments);d.shift();var g;this.each(function(){var b=a(this),k=b.data("datepicker"),m=
"object"===typeof c&&c;if(!k){var k=n(this,"date"),q=a.extend({},f,k,m),q=p(q.language),m=a.extend({},f,q,k,m);b.hasClass("input-daterange")||m.inputs?(a.extend(m,{inputs:m.inputs||b.find("input").toArray()}),k=new u(this,m)):k=new l(this,m);b.data("datepicker",k)}"string"===typeof c&&"function"===typeof k[c]&&(g=k[c].apply(k,d))});if(g===b||g instanceof l||g instanceof u)return this;if(1<this.length)throw Error("Using only allowed for the collection of a single element ("+c+" function)");return g};
a.fn.datepicker=x;var f=a.fn.datepicker.defaults={assumeNearbyYear:!1,autoclose:!1,beforeShowDay:a.noop,beforeShowMonth:a.noop,beforeShowYear:a.noop,beforeShowDecade:a.noop,beforeShowCentury:a.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],daysOfWeekHighlighted:[],datesDisabled:[],endDate:Infinity,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,maxViewMode:4,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-Infinity,
startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,showOnFocus:!0,zIndexOffset:10,container:"body",immediateUpdates:!1,title:"",templates:{leftArrow:"\x26laquo;",rightArrow:"\x26raquo;"}},q=a.fn.datepicker.locale_opts=["format","rtl","weekStart"];a.fn.datepicker.Constructor=l;var k=a.fn.datepicker.dates={en:{days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),daysShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),daysMin:"Su Mo Tu We Th Fr Sa".split(" "),
months:"January February March April May June July August September October November December".split(" "),monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),today:"Today",clear:"Clear",titleFormat:"MM yyyy"}},m={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10},{clsName:"decades",navFnc:"FullDecade",navStep:100},{clsName:"centuries",navFnc:"FullCentury",navStep:1E3}],isLeapYear:function(a){return 0===
a%4&&0!==a%100||0===a%400},getDaysInMonth:function(a,b){return[31,m.isLeapYear(a)?29:28,31,30,31,30,31,31,30,31,30,31][b]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\u5e74\u6708\u65e5\[-`{-~\t\n\r]+/g,parseFormat:function(a){if("function"===typeof a.toValue&&"function"===typeof a.toDisplay)return a;var b=a.replace(this.validParts,"\x00").split("\x00");a=a.match(this.validParts);if(!b||!b.length||!a||0===a.length)throw Error("Invalid date format.");return{separators:b,parts:a}},
parseDate:function(f,h,g,q){function n(a,b){!0===b&&(b=10);100>a&&(a+=2E3,a>(new Date).getFullYear()+b&&(a-=100));return a}function p(){var a=this.slice(0,t[E].length),b=t[E].slice(0,a.length);return a.toLowerCase()===b.toLowerCase()}if(!f)return b;if(f instanceof Date)return f;"string"===typeof h&&(h=m.parseFormat(h));if(h.toValue)return h.toValue(f,h,g);var r=/([\-+]\d+)([dmwy])/,t=f.match(/([\-+]\d+)([dmwy])/g),u={d:"moveDay",m:"moveMonth",w:"moveWeek",y:"moveYear"},x={yesterday:"-1d",today:"+0d",
tomorrow:"+1d"},E;if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(f)){f=new Date;for(E=0;E<t.length;E++)h=r.exec(t[E]),g=parseInt(h[1]),h=u[h[2]],f=l.prototype[h](f,g);return c(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate())}if("undefined"!==typeof x[f]&&(f=x[f],t=f.match(/([\-+]\d+)([dmwy])/g),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(f))){f=new Date;for(E=0;E<t.length;E++)h=r.exec(t[E]),g=parseInt(h[1]),h=u[h[2]],f=l.prototype[h](f,g);return c(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate())}t=
f&&f.match(this.nonpunctuation)||[];f=new Date;var r={},S="yyyy yy M MM m mm d dd".split(" "),u={yyyy:function(a,b){return a.setUTCFullYear(q?n(b,q):b)},yy:function(a,b){return a.setUTCFullYear(q?n(b,q):b)},m:function(a,b){if(isNaN(a))return a;for(--b;0>b;)b+=12;b%=12;for(a.setUTCMonth(b);a.getUTCMonth()!==b;)a.setUTCDate(a.getUTCDate()-1);return a},d:function(a,b){return a.setUTCDate(b)}},C;u.M=u.MM=u.mm=u.m;u.dd=u.d;f=d();x=h.parts.slice();t.length!==x.length&&(x=a(x).filter(function(b,c){return-1!==
a.inArray(c,S)}).toArray());if(t.length===x.length){var H;E=0;for(H=x.length;E<H;E++){C=parseInt(t[E],10);h=x[E];if(isNaN(C))switch(h){case "MM":C=a(k[g].months).filter(p);C=a.inArray(C[0],k[g].months)+1;break;case "M":C=a(k[g].monthsShort).filter(p),C=a.inArray(C[0],k[g].monthsShort)+1}r[h]=C}for(E=0;E<S.length;E++)h=S[E],h in r&&!isNaN(r[h])&&(g=new Date(f),u[h](g,r[h]),isNaN(g)||(f=g))}return f},formatDate:function(b,c,d){if(!b)return"";"string"===typeof c&&(c=m.parseFormat(c));if(c.toDisplay)return c.toDisplay(b,
c,d);d={d:b.getUTCDate(),D:k[d].daysShort[b.getUTCDay()],DD:k[d].days[b.getUTCDay()],m:b.getUTCMonth()+1,M:k[d].monthsShort[b.getUTCMonth()],MM:k[d].months[b.getUTCMonth()],yy:b.getUTCFullYear().toString().substring(2),yyyy:b.getUTCFullYear()};d.dd=(10>d.d?"0":"")+d.d;d.mm=(10>d.m?"0":"")+d.m;b=[];for(var f=a.extend([],c.separators),g=0,l=c.parts.length;g<=l;g++)f.length&&b.push(f.shift()),b.push(d[c.parts[g]]);return b.join("")},headTemplate:'\x3cthead\x3e\x3ctr\x3e\x3cth colspan\x3d"7" class\x3d"datepicker-title"\x3e\x3c/th\x3e\x3c/tr\x3e\x3ctr\x3e\x3cth class\x3d"prev"\x3e\x26laquo;\x3c/th\x3e\x3cth colspan\x3d"5" class\x3d"datepicker-switch"\x3e\x3c/th\x3e\x3cth class\x3d"next"\x3e\x26raquo;\x3c/th\x3e\x3c/tr\x3e\x3c/thead\x3e',
contTemplate:'\x3ctbody\x3e\x3ctr\x3e\x3ctd colspan\x3d"7"\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/tbody\x3e',footTemplate:'\x3ctfoot\x3e\x3ctr\x3e\x3cth colspan\x3d"7" class\x3d"today"\x3e\x3c/th\x3e\x3c/tr\x3e\x3ctr\x3e\x3cth colspan\x3d"7" class\x3d"clear"\x3e\x3c/th\x3e\x3c/tr\x3e\x3c/tfoot\x3e'};m.template='\x3cdiv class\x3d"datepicker"\x3e\x3cdiv class\x3d"datepicker-days"\x3e\x3ctable class\x3d"table-condensed"\x3e'+m.headTemplate+"\x3ctbody\x3e\x3c/tbody\x3e"+m.footTemplate+'\x3c/table\x3e\x3c/div\x3e\x3cdiv class\x3d"datepicker-months"\x3e\x3ctable class\x3d"table-condensed"\x3e'+
m.headTemplate+m.contTemplate+m.footTemplate+'\x3c/table\x3e\x3c/div\x3e\x3cdiv class\x3d"datepicker-years"\x3e\x3ctable class\x3d"table-condensed"\x3e'+m.headTemplate+m.contTemplate+m.footTemplate+'\x3c/table\x3e\x3c/div\x3e\x3cdiv class\x3d"datepicker-decades"\x3e\x3ctable class\x3d"table-condensed"\x3e'+m.headTemplate+m.contTemplate+m.footTemplate+'\x3c/table\x3e\x3c/div\x3e\x3cdiv class\x3d"datepicker-centuries"\x3e\x3ctable class\x3d"table-condensed"\x3e'+m.headTemplate+m.contTemplate+m.footTemplate+
"\x3c/table\x3e\x3c/div\x3e\x3c/div\x3e";a.fn.datepicker.DPGlobal=m;a.fn.datepicker.noConflict=function(){a.fn.datepicker=t;return this};a.fn.datepicker.version="1.6.4";a(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide\x3d"datepicker"]',function(b){var c=a(this);c.data("datepicker")||(b.preventDefault(),x.call(c,"show"))});a(function(){x.call(a('[data-provide\x3d"datepicker-inline"]'))})});
(function(a,b){"function"===typeof define&&define.amd?define(["jquery"],b):"object"===typeof exports?module.exports=b(require("jquery")):a.lightbox=b(a.jQuery)})(this,function(a){function b(b){this.album=[];this.currentImageIndex=void 0;this.init();this.options=a.extend({},this.constructor.defaults);this.option(b)}b.defaults={albumLabel:"Image %1 of %2",alwaysShowNavOnTouchDevices:!1,fadeDuration:600,fitImagesInViewport:!0,imageFadeDuration:600,positionFromTop:50,resizeDuration:700,showImageNumberLabel:!0,
wrapAround:!1,disableScrolling:!1,sanitizeTitle:!1};b.prototype.option=function(b){a.extend(this.options,b)};b.prototype.imageCountLabel=function(a,b){return this.options.albumLabel.replace(/%1/g,a).replace(/%2/g,b)};b.prototype.init=function(){var b=this;a(document).ready(function(){b.enable();b.build()})};b.prototype.enable=function(){var b=this;a("body").on("click","a[rel^\x3dlightbox], area[rel^\x3dlightbox], a[data-lightbox], area[data-lightbox]",function(d){b.start(a(d.currentTarget));return!1})};
b.prototype.build=function(){var b=this;a('\x3cdiv id\x3d"lightboxOverlay" class\x3d"lightboxOverlay"\x3e\x3c/div\x3e\x3cdiv id\x3d"lightbox" class\x3d"lightbox"\x3e\x3cdiv class\x3d"lb-outerContainer"\x3e\x3cdiv class\x3d"lb-container"\x3e\x3cimg class\x3d"lb-image" src\x3d"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw\x3d\x3d" /\x3e\x3cdiv class\x3d"lb-nav"\x3e\x3ca class\x3d"lb-prev" href\x3d"" \x3e\x3c/a\x3e\x3ca class\x3d"lb-next" href\x3d"" \x3e\x3c/a\x3e\x3c/div\x3e\x3cdiv class\x3d"lb-loader"\x3e\x3ca class\x3d"lb-cancel"\x3e\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"lb-dataContainer"\x3e\x3cdiv class\x3d"lb-data"\x3e\x3cdiv class\x3d"lb-details"\x3e\x3cspan class\x3d"lb-caption"\x3e\x3c/span\x3e\x3cspan class\x3d"lb-number"\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"lb-closeContainer"\x3e\x3ca class\x3d"lb-close"\x3e\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e').appendTo(a("body"));
this.$lightbox=a("#lightbox");this.$overlay=a("#lightboxOverlay");this.$outerContainer=this.$lightbox.find(".lb-outerContainer");this.$container=this.$lightbox.find(".lb-container");this.$image=this.$lightbox.find(".lb-image");this.$nav=this.$lightbox.find(".lb-nav");this.containerPadding={top:parseInt(this.$container.css("padding-top"),10),right:parseInt(this.$container.css("padding-right"),10),bottom:parseInt(this.$container.css("padding-bottom"),10),left:parseInt(this.$container.css("padding-left"),
10)};this.imageBorderWidth={top:parseInt(this.$image.css("border-top-width"),10),right:parseInt(this.$image.css("border-right-width"),10),bottom:parseInt(this.$image.css("border-bottom-width"),10),left:parseInt(this.$image.css("border-left-width"),10)};this.$overlay.hide().on("click",function(){b.end();return!1});this.$lightbox.hide().on("click",function(d){"lightbox"===a(d.target).attr("id")&&b.end();return!1});this.$outerContainer.on("click",function(d){"lightbox"===a(d.target).attr("id")&&b.end();
return!1});this.$lightbox.find(".lb-prev").on("click",function(){0===b.currentImageIndex?b.changeImage(b.album.length-1):b.changeImage(b.currentImageIndex-1);return!1});this.$lightbox.find(".lb-next").on("click",function(){b.currentImageIndex===b.album.length-1?b.changeImage(0):b.changeImage(b.currentImageIndex+1);return!1});this.$nav.on("mousedown",function(a){3===a.which&&(b.$nav.css("pointer-events","none"),b.$lightbox.one("contextmenu",function(){setTimeout(function(){this.$nav.css("pointer-events",
"auto")}.bind(b),0)}))});this.$lightbox.find(".lb-loader, .lb-close").on("click",function(){b.end();return!1})};b.prototype.start=function(b){function d(a){g.album.push({link:a.attr("href"),title:a.attr("data-title")||a.attr("title")})}var g=this,n=a(window);n.on("resize",a.proxy(this.sizeOverlay,this));a("select, object, embed").css({visibility:"hidden"});this.sizeOverlay();this.album=[];var p=0,r=b.attr("data-lightbox");if(r)for(var r=a(b.prop("tagName")+'[data-lightbox\x3d"'+r+'"]'),l=0;l<r.length;l=
++l)d(a(r[l])),r[l]===b[0]&&(p=l);else if("lightbox"===b.attr("rel"))d(b);else for(r=a(b.prop("tagName")+'[rel\x3d"'+b.attr("rel")+'"]'),l=0;l<r.length;l=++l)d(a(r[l])),r[l]===b[0]&&(p=l);b=n.scrollTop()+this.options.positionFromTop;n=n.scrollLeft();this.$lightbox.css({top:b+"px",left:n+"px"}).fadeIn(this.options.fadeDuration);this.options.disableScrolling&&a("body").addClass("lb-disable-scrolling");this.changeImage(p)};b.prototype.changeImage=function(b){var d=this;this.disableKeyboardNav();var g=
this.$lightbox.find(".lb-image");this.$overlay.fadeIn(this.options.fadeDuration);a(".lb-loader").fadeIn("slow");this.$lightbox.find(".lb-image, .lb-nav, .lb-prev, .lb-next, .lb-dataContainer, .lb-numbers, .lb-caption").hide();this.$outerContainer.addClass("animating");var n=new Image;n.onload=function(){var p,r;g.attr("src",d.album[b].link);a(n);g.width(n.width);g.height(n.height);d.options.fitImagesInViewport&&(p=a(window).width(),r=a(window).height(),p=p-d.containerPadding.left-d.containerPadding.right-
d.imageBorderWidth.left-d.imageBorderWidth.right-20,r=r-d.containerPadding.top-d.containerPadding.bottom-d.imageBorderWidth.top-d.imageBorderWidth.bottom-120,d.options.maxWidth&&d.options.maxWidth<p&&(p=d.options.maxWidth),d.options.maxHeight&&d.options.maxHeight<p&&(r=d.options.maxHeight),n.width>p||n.height>r)&&(n.width/p>n.height/r?(r=p,p=parseInt(n.height/(n.width/r),10)):(p=r,r=parseInt(n.width/(n.height/p),10)),g.width(r),g.height(p));d.sizeContainer(g.width(),g.height())};n.src=this.album[b].link;
this.currentImageIndex=b};b.prototype.sizeOverlay=function(){this.$overlay.width(a(document).width()).height(a(document).height())};b.prototype.sizeContainer=function(a,b){function g(){n.$lightbox.find(".lb-dataContainer").width(l);n.$lightbox.find(".lb-prevLink").height(u);n.$lightbox.find(".lb-nextLink").height(u);n.showImage()}var n=this,p=this.$outerContainer.outerWidth(),r=this.$outerContainer.outerHeight(),l=a+this.containerPadding.left+this.containerPadding.right+this.imageBorderWidth.left+
this.imageBorderWidth.right,u=b+this.containerPadding.top+this.containerPadding.bottom+this.imageBorderWidth.top+this.imageBorderWidth.bottom;p!==l||r!==u?this.$outerContainer.animate({width:l,height:u},this.options.resizeDuration,"swing",function(){g()}):g()};b.prototype.showImage=function(){this.$lightbox.find(".lb-loader").stop(!0).hide();this.$lightbox.find(".lb-image").fadeIn(this.options.imageFadeDuration);this.updateNav();this.updateDetails();this.preloadNeighboringImages();this.enableKeyboardNav()};
b.prototype.updateNav=function(){var a=!1;try{document.createEvent("TouchEvent"),a=this.options.alwaysShowNavOnTouchDevices?!0:!1}catch(b){}this.$lightbox.find(".lb-nav").show();1<this.album.length&&(this.options.wrapAround?(a&&this.$lightbox.find(".lb-prev, .lb-next").css("opacity","1"),this.$lightbox.find(".lb-prev, .lb-next").show()):(0<this.currentImageIndex&&(this.$lightbox.find(".lb-prev").show(),a&&this.$lightbox.find(".lb-prev").css("opacity","1")),this.currentImageIndex<this.album.length-
1&&(this.$lightbox.find(".lb-next").show(),a&&this.$lightbox.find(".lb-next").css("opacity","1"))))};b.prototype.updateDetails=function(){var b=this;if("undefined"!==typeof this.album[this.currentImageIndex].title&&""!==this.album[this.currentImageIndex].title){var d=this.$lightbox.find(".lb-caption");this.options.sanitizeTitle?d.text(this.album[this.currentImageIndex].title):d.html(this.album[this.currentImageIndex].title);d.fadeIn("fast").find("a").on("click",function(b){void 0!==a(this).attr("target")?
window.open(a(this).attr("href"),a(this).attr("target")):location.href=a(this).attr("href")})}1<this.album.length&&this.options.showImageNumberLabel?(d=this.imageCountLabel(this.currentImageIndex+1,this.album.length),this.$lightbox.find(".lb-number").text(d).fadeIn("fast")):this.$lightbox.find(".lb-number").hide();this.$outerContainer.removeClass("animating");this.$lightbox.find(".lb-dataContainer").fadeIn(this.options.resizeDuration,function(){return b.sizeOverlay()})};b.prototype.preloadNeighboringImages=
function(){this.album.length>this.currentImageIndex+1&&((new Image).src=this.album[this.currentImageIndex+1].link);0<this.currentImageIndex&&((new Image).src=this.album[this.currentImageIndex-1].link)};b.prototype.enableKeyboardNav=function(){a(document).on("keyup.keyboard",a.proxy(this.keyboardAction,this))};b.prototype.disableKeyboardNav=function(){a(document).off(".keyboard")};b.prototype.keyboardAction=function(a){a=a.keyCode;var b=String.fromCharCode(a).toLowerCase();if(27===a||b.match(/x|o|c/))this.end();
else if("p"===b||37===a)0!==this.currentImageIndex?this.changeImage(this.currentImageIndex-1):this.options.wrapAround&&1<this.album.length&&this.changeImage(this.album.length-1);else if("n"===b||39===a)this.currentImageIndex!==this.album.length-1?this.changeImage(this.currentImageIndex+1):this.options.wrapAround&&1<this.album.length&&this.changeImage(0)};b.prototype.end=function(){this.disableKeyboardNav();a(window).off("resize",this.sizeOverlay);this.$lightbox.fadeOut(this.options.fadeDuration);
this.$overlay.fadeOut(this.options.fadeDuration);a("select, object, embed").css({visibility:"visible"});this.options.disableScrolling&&a("body").removeClass("lb-disable-scrolling")};return new b});
(function(a){"function"===typeof define&&define.amd?define(["jquery"],a):"object"===typeof exports?module.exports=a(require("jquery")):a(jQuery)})(function(a){function b(a,b){var c=Array.prototype.slice.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)}function c(a,b){b=b||100;return function(){if(!a.debouncing){var c=Array.prototype.slice.apply(arguments);a.lastReturnVal=a.apply(window,c);a.debouncing=!0}clearTimeout(a.debounceTimeout);a.debounceTimeout=setTimeout(function(){a.debouncing=
!1},b);return a.lastReturnVal}}function d(a){var b=[];for(a=a.parentNode;a&&(0===a.offsetWidth||0===a.offsetHeight||!1===a.open);)b.push(a),a=a.parentNode;return b}function g(a,b){function c(a){"undefined"!==typeof a.open&&(a.open=a.open?!1:!0)}var g=d(a),e=g.length,h=[],l=a[b];if(e){for(l=0;l<e;l++)h[l]=g[l].style.cssText,g[l].style.setProperty?g[l].style.setProperty("display","block","important"):g[l].style.cssText+=";display: block !important",g[l].style.height="0",g[l].style.overflow="hidden",
g[l].style.visibility="hidden",c(g[l]);for(var l=a[b],n=0;n<e;n++)g[n].style.cssText=h[n],c(g[n])}return l}function n(a,b){var c=parseFloat(a);return Number.isNaN(c)?b:c}function p(a){return a.charAt(0).toUpperCase()+a.substr(1)}function r(d,g){this.$window=a(window);this.$document=a(document);this.$element=a(d);this.options=a.extend({},t,g);this.polyfill=this.options.polyfill;this.orientation=this.$element[0].getAttribute("data-orientation")||this.options.orientation;this.onInit=this.options.onInit;
this.onSlide=this.options.onSlide;this.onSlideEnd=this.options.onSlideEnd;this.DIMENSION=x.orientation[this.orientation].dimension;this.DIRECTION=x.orientation[this.orientation].direction;this.DIRECTION_STYLE=x.orientation[this.orientation].directionStyle;this.COORDINATE=x.orientation[this.orientation].coordinate;if(this.polyfill&&u)return!1;this.identifier="js-rangeslider-"+l++;this.startEvent=this.options.startEvent.join("."+this.identifier+" ")+"."+this.identifier;this.moveEvent=this.options.moveEvent.join("."+
this.identifier+" ")+"."+this.identifier;this.endEvent=this.options.endEvent.join("."+this.identifier+" ")+"."+this.identifier;this.toFixed=(this.step+"").replace(".","").length-1;this.$fill=a('\x3cdiv class\x3d"'+this.options.fillClass+'" /\x3e');this.$handle=a('\x3cdiv class\x3d"'+this.options.handleClass+'" /\x3e');this.$range=a('\x3cdiv class\x3d"'+this.options.rangeClass+" "+this.options[this.orientation+"Class"]+'" id\x3d"'+this.identifier+'" /\x3e').insertAfter(this.$element).prepend(this.$fill,
this.$handle);this.$element.css({position:"absolute",width:"1px",height:"1px",overflow:"hidden",opacity:"0"});this.handleDown=a.proxy(this.handleDown,this);this.handleMove=a.proxy(this.handleMove,this);this.handleEnd=a.proxy(this.handleEnd,this);this.init();var k=this;this.$window.on("resize."+this.identifier,c(function(){b(function(){k.update(!1,!1)},300)},20));this.$document.on(this.startEvent,"#"+this.identifier+":not(."+this.options.disabledClass+")",this.handleDown);this.$element.on("change."+
this.identifier,function(a,b){if(!b||b.origin!==k.identifier){var c=k.getPositionFromValue(a.target.value);k.setPosition(c)}})}Number.isNaN=Number.isNaN||function(a){return"number"===typeof a&&a!==a};var l=0,u=function(){var a=document.createElement("input");a.setAttribute("type","range");return"text"!==a.type}(),t={polyfill:!0,orientation:"horizontal",rangeClass:"rangeslider",disabledClass:"rangeslider--disabled",activeClass:"rangeslider--active",horizontalClass:"rangeslider--horizontal",verticalClass:"rangeslider--vertical",
fillClass:"rangeslider__fill",handleClass:"rangeslider__handle",startEvent:["mousedown","touchstart","pointerdown"],moveEvent:["mousemove","touchmove","pointermove"],endEvent:["mouseup","touchend","pointerup"]},x={orientation:{horizontal:{dimension:"width",direction:"left",directionStyle:"left",coordinate:"x"},vertical:{dimension:"height",direction:"top",directionStyle:"bottom",coordinate:"y"}}};r.prototype.init=function(){this.update(!0,!1);if(this.onInit&&"function"===typeof this.onInit)this.onInit()};
r.prototype.update=function(a,b){a&&(this.min=n(this.$element[0].getAttribute("min"),0),this.max=n(this.$element[0].getAttribute("max"),100),this.value=n(this.$element[0].value,Math.round(this.min+(this.max-this.min)/2)),this.step=n(this.$element[0].getAttribute("step"),1));this.handleDimension=g(this.$handle[0],"offset"+p(this.DIMENSION));this.rangeDimension=g(this.$range[0],"offset"+p(this.DIMENSION));this.maxHandlePos=this.rangeDimension-this.handleDimension;this.grabPos=this.handleDimension/2;
this.position=this.getPositionFromValue(this.value);this.$element[0].disabled?this.$range.addClass(this.options.disabledClass):this.$range.removeClass(this.options.disabledClass);this.setPosition(this.position,b)};r.prototype.handleDown=function(a){a.preventDefault();if(!a.button||0===a.button)if(this.$document.on(this.moveEvent,this.handleMove),this.$document.on(this.endEvent,this.handleEnd),this.$range.addClass(this.options.activeClass),!(-1<(" "+a.target.className+" ").replace(/[\n\t]/g," ").indexOf(this.options.handleClass))){a=
this.getRelativePosition(a);var b=this.$range[0].getBoundingClientRect()[this.DIRECTION],b=this.getPositionFromNode(this.$handle[0])-b;this.setPosition("vertical"===this.orientation?this.maxHandlePos-(a-this.grabPos):a-this.grabPos);a>=b&&a<b+this.handleDimension&&(this.grabPos=a-b)}};r.prototype.handleMove=function(a){a.preventDefault();a=this.getRelativePosition(a);this.setPosition("vertical"===this.orientation?this.maxHandlePos-(a-this.grabPos):a-this.grabPos)};r.prototype.handleEnd=function(a){a.preventDefault();
this.$document.off(this.moveEvent,this.handleMove);this.$document.off(this.endEvent,this.handleEnd);this.$range.removeClass(this.options.activeClass);this.$element.trigger("change",{origin:this.identifier});if(this.onSlideEnd&&"function"===typeof this.onSlideEnd)this.onSlideEnd(this.position,this.value)};r.prototype.cap=function(a,b,c){return a<b?b:a>c?c:a};r.prototype.setPosition=function(a,b){var c,d;void 0===b&&(b=!0);c=this.getValueFromPosition(this.cap(a,0,this.maxHandlePos));d=this.getPositionFromValue(c);
this.$fill[0].style[this.DIMENSION]=d+this.grabPos+"px";this.$handle[0].style[this.DIRECTION_STYLE]=d+"px";this.setValue(c);this.position=d;this.value=c;if(b&&this.onSlide&&"function"===typeof this.onSlide)this.onSlide(d,c)};r.prototype.getPositionFromNode=function(a){for(var b=0;null!==a;)b+=a.offsetLeft,a=a.offsetParent;return b};r.prototype.getRelativePosition=function(a){var b=p(this.COORDINATE),c=this.$range[0].getBoundingClientRect()[this.DIRECTION],d=0;"undefined"!==typeof a.originalEvent["client"+
b]?d=a.originalEvent["client"+b]:a.originalEvent.touches&&a.originalEvent.touches[0]&&"undefined"!==typeof a.originalEvent.touches[0]["client"+b]?d=a.originalEvent.touches[0]["client"+b]:a.currentPoint&&"undefined"!==typeof a.currentPoint[this.COORDINATE]&&(d=a.currentPoint[this.COORDINATE]);return d-c};r.prototype.getPositionFromValue=function(a){a=(a-this.min)/(this.max-this.min);return Number.isNaN(a)?0:a*this.maxHandlePos};r.prototype.getValueFromPosition=function(a){return Number((this.step*
Math.round(a/(this.maxHandlePos||1)*(this.max-this.min)/this.step)+this.min).toFixed(this.toFixed))};r.prototype.setValue=function(a){a===this.value&&""!==this.$element[0].value||this.$element.val(a).trigger("input",{origin:this.identifier})};r.prototype.destroy=function(){this.$document.off("."+this.identifier);this.$window.off("."+this.identifier);this.$element.off("."+this.identifier).removeAttr("style").removeData("plugin_rangeslider");this.$range&&this.$range.length&&this.$range[0].parentNode.removeChild(this.$range[0])};
a.fn.rangeslider=function(b){var c=Array.prototype.slice.call(arguments,1);return this.each(function(){var d=a(this),g=d.data("plugin_rangeslider");g||d.data("plugin_rangeslider",g=new r(this,b));"string"===typeof b&&g[b].apply(g,c)})};return"rangeslider.js is available in jQuery context e.g $(selector).rangeslider(options);"});window.console||(console={});console.log=console.log||function(){};console.warn=console.warn||function(){};console.error=console.error||function(){};
console.info=console.info||function(){};window.jsErrors=[];window.onerror=function(a,b,c,d,g){a="Error: "+a+" Script: "+b+" Line: "+c+" Column: "+d+" StackTrace: "+g+" User-Agent: "+navigator.userAgent+" URL: "+b+" Page: "+window.location.href;window.jsErrors[window.jsErrors.length]=a;try{ga("send","exception",{exDescription:a,exFatal:!1})}catch(n){}};"function"!==typeof String.prototype.startsWith&&(String.prototype.startsWith=function(a){return a&&this.substr(0,a.length)===a});
"function"!==typeof String.prototype.endsWith&&(String.prototype.endsWith=function(a){return-1!==this.indexOf(a,this.length-a.length)});"function"!==typeof String.prototype.trim&&(String.prototype.trim=function(){return $.trim(this)});function createCookie(a,b,c){if(c){var d=new Date;d.setTime(d.getTime()+864E5*c);c="; expires\x3d"+d.toGMTString()}else c="";document.cookie=encodeURIComponent(a)+"\x3d"+encodeURIComponent(b)+c+"; path\x3d/"}
function readCookie(a){a=encodeURIComponent(a)+"\x3d";for(var b=document.cookie.split(";"),c=0;c<b.length;c++){for(var d=b[c];" "===d.charAt(0);)d=d.substring(1,d.length);if(0===d.indexOf(a))return decodeURIComponent(d.substring(a.length,d.length))}return null}function eraseCookie(a){createCookie(a,"",-1)}var addAssetRowsLinkHTML=' \x3cspan class\x3d"add-rows hidden-print"\x3e(\x3ca href\x3d"javascript:void(0);" onclick\x3d"return addAssetRows(10, getParentPortfolio(this));"\x3eAdd More\x3c/a\x3e)\x3c/span\x3e';
"undefined"!==typeof addRowsLinkText&&(addAssetRowsLinkHTML=addAssetRowsLinkHTML.replace("Add More",addRowsLinkText));var htmlEntityMap={"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#39;","/":"\x26#x2F;"};$.fn.exists=function(){return 0!==this.length};function escapeHTML(a){return String(a).replace(/[&<>"'\/]/g,function(a){return htmlEntityMap[a]})}
var isIpad=navigator.userAgent&&navigator.userAgent.match(/(iPad)/)||"MacIntel"===navigator.platform&&1<navigator.maxTouchPoints,isWindowsTouchDevice=("ontouchstart"in window||navigator.msMaxTouchPoints||navigator.maxTouchPoints)&&navigator.userAgent&&0<=navigator.userAgent.search(/Windows/),selectedSymbolField=null,saveIndex=0,savePrefix=null,useChosen=!(isIpad||isWindowsTouchDevice)&&navigator.userAgent&&0>navigator.userAgent.search(/iPad|iPhone|Android|SeleniumWebDriver/),useMasks=navigator.userAgent&&
0>navigator.userAgent.search(/SeleniumWebDriver/),pendingExportType="pdf",pendingExportToken=null,pendingExportTimer=null,pendingExportTimerAttempts=0,reportSectionsPopulated=!1,maxChartsPerPage=15;"undefined"!==typeof extraChartsCount&&(maxChartsPerPage+=extraChartsCount);function isDoubleClick(a){a instanceof jQuery||(a=$(a));if(a.data("justClicked"))return!0;a.data("justClicked",!0);setTimeout(function(){a.removeData("justClicked")},2500);return!1}
function postPageInit(){showBookmarkLink&&$("span.directLink").html('\x3ca href\x3d"#"\x3e\x3cspan class\x3d"fa fa-external-link"\x3e\x3c/span\x3e\x3c/a\x3e \x3ca href\x3d"#"\x3eLink\x3c/a\x3e').find("a").attr("href",bookmarkURL);if(showExportLinks)if($("span.directPrint").html('\x3ca class\x3d"pdfDownload" href\x3d"javascript:void(0)"\x3e\x3cspan class\x3d"fa fa-file-pdf-o"\x3e\x3c/span\x3e PDF\x3c/a\x3e'),$("span.directExport").html('\x3ca class\x3d"downloadLink" href\x3d"javascript:void(0)" \x3e\x3cspan class\x3d"fa fa-file-excel-o"\x3e\x3c/span\x3e Excel\x3c/a\x3e'),
enableExport){var a=$("span.directPrint").hasClass("customPrint");$("a.pdfDownload,a.downloadLink").click(function(b){b=$(b.target);isDoubleClick(b)||(b=b.closest("a").hasClass("pdfDownload"),exportResults(b?"pdf":"csv",a));return!1});for(var b=1;3>=b;b++){var c=null;"undefined"!==typeof portfolioNames&&(c=portfolioNames.length>=b?portfolioNames[b-1]:null);c?$("#reportPortfolio"+b).val(c):$("#reportPortfolio"+b).closest(".form-group").hide()}$("#exportReportButton").on("click",function(a){if(!isDoubleClick($(a.target))){$("#reportDialog").modal("hide");
var b=$("form:first");$("#reportConfigForm").find("input,select,textarea").each(function(){var a=$(this),c=a.attr("name"),a=a.val();setHiddenElement(b,c,a)});exportResults(pendingExportType,!1)}})}else $("a.pdfDownload,a.downloadLink").on("click",function(a){showLoginPrompt(!1);return!1})}function generateToken(){return(new Date).getTime()+"_"+Math.random().toString(36).substr(2,9)}
function exportResults(a,b){pendingExportType=a;pendingExportToken=generateToken();if(b&&"pdf"===a)toggleReportSections(),$("#reportDialog").modal();else{var c=$("form:first");setHiddenElement(c,"export",a);setHiddenElement(c,"exportToken",pendingExportToken);setHiddenElement(c,"exportSections",getSelectedReportSections());"pdf"===a&&(pendingExportTimerAttempts=40,$("#waitDialog").modal(),pendingExportTimer=window.setInterval(function(){if(readCookie("fileExportToken")===pendingExportToken||0>=pendingExportTimerAttempts)window.clearInterval(pendingExportTimer),
eraseCookie("fileExportToken"),$("#waitDialog").modal("hide");pendingExportTimerAttempts--},750));c.data("submitted",!1);$("\x3cinput\x3e",{type:"submit",style:"display:none"}).appendTo(c).click().remove();setTimeout(function(){$("#export").val("");$("form:first").data("submitted",!1)},10)}return!1}function setHiddenElement(a,b,c){if(b){var d=a.find("input[name\x3d"+b+"]");d.length?d.val(c):$("\x3cinput\x3e",{type:"hidden",id:b,name:b,value:c}).appendTo(a)}}
function initColorPickers(){$(".color-picker").spectrum({showInput:!0,showAlpha:!1,preferredFormat:"hex",showPalette:!0,palette:["#000 #444 #666 #999 #ccc #eee #f3f3f3 #fff".split(" "),"#f00 #f90 #ff0 #0f0 #0ff #00f #90f #f0f".split(" "),"#f4cccc #fce5cd #fff2cc #d9ead3 #d0e0e3 #cfe2f3 #d9d2e9 #ead1dc".split(" "),"#ea9999 #f9cb9c #ffe599 #b6d7a8 #a2c4c9 #9fc5e8 #b4a7d6 #d5a6bd".split(" "),"#e06666 #f6b26b #ffd966 #93c47d #76a5af #6fa8dc #8e7cc3 #c27ba0".split(" "),"#c00 #e69138 #f1c232 #6aa84f #45818e #3d85c6 #674ea7 #a64d79".split(" "),
"#900 #b45f06 #bf9000 #38761d #134f5c #0b5394 #351c75 #741b47".split(" "),"#600 #783f04 #7f6000 #274e13 #0c343d #073763 #20124d #4c1130".split(" ")],change:function(a){var b=this.id.substring(0,this.id.indexOf("_"));$("#"+b).val(a.toHexString().toUpperCase())}}).on("show.spectrum hide.spectrum",function(a,b){if(b){var c=this.id.substring(0,this.id.indexOf("_"));$("#"+c).val(b.toHexString().toUpperCase())}})}
function preventMouseWheelSpinner(){$("input[type\x3dnumber]").on("focus",function(a){$(this).on("mousewheel.disableScroll",function(a){a.preventDefault()})});$("input[type\x3dnumber]").on("blur",function(a){$(this).off("mousewheel.disableScroll")})}
$(function(){var a=/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1;a&&8>=a&&$("tbody tr:even").addClass("highlightRow");useChosen&&$("select").chosen({disable_search_threshold:100,width:"100%"});$("input[type\x3dtext],textarea").placeholder();$("form").attr("autocomplete","off");$("input").attr("autocomplete","off");$("input[type\x3dtext],input[type\x3dsearch]").attr("autocorrect","off").attr("spellcheck","false");preventMouseWheelSpinner();
$("form").not(".allow-double").preventDoubleSubmission();a=$("div.navbar-fixed-top");a=0>=a.length?0:a.outerHeight();$("table.stickyHeaders").floatThead({enableAria:!0,top:a});$(".modal").on("shown.bs.modal",function(){$(this).find("[autofocus]").focus()});$(document).on("submit","form[data-async]",function(a){$("#saveConfigButton").prop("disabled",!0);var c=$(this),d=$(c.attr("data-messages")),g=$("#saveType").val(),n=$("#saveName").val(),p=window["benchmarkConfig"+saveIndex];"benchmark"==g&&p&&
$("#saveConfig").val(JSON.stringify(p));$.ajax({type:c.attr("method"),url:c.attr("action"),data:c.serialize(),dataType:"json",success:function(a){if(a.success){var b="Model saved";"allocation"==g?(b="Asset allocation saved as '"+escapeHTML(n)+"'.",b+=' \x3ca href\x3d"manage-portfolios"\x3eManage saved models \x26raquo;\x3c/a\x3e\x3cbr\x3e'):"portfolio"==g?(b="Portfolio saved as '"+escapeHTML(n)+"'.",b+=' \x3ca href\x3d"manage-portfolios"\x3eManage saved models \x26raquo;\x3c/a\x3e\x3cbr\x3e'):"timing"==
g?(b="Timing model saved as '"+escapeHTML(n)+"'.",b+=' \x3ca href\x3d"manage-timing-models"\x3eManage saved models \x26raquo;\x3c/a\x3e\x3cbr\x3e'):"simulation"==g?(b="Simulation saved as '"+escapeHTML(n)+"'.",b+=' \x3ca href\x3d"manage-simulations"\x3eManage saved models \x26raquo;\x3c/a\x3e\x3cbr\x3e'):"benchmark"==g&&(b="Benchmark saved as '"+escapeHTML(n)+"'.",b+=' \x3ca href\x3d"manage-benchmarks"\x3eManage saved models \x26raquo;\x3c/a\x3e\x3cbr\x3e');$("#saveConfirmMsg"+saveIndex).html(b);
$("#saveConfirmBox").show();$("#saveDialog").modal("hide");"benchmark"===g?$("#benchmark option:last").after($("\x3coption\x3e",{value:n,text:n})).trigger("chosen:updated"):"timing"===g||"simulation"===g?$("#savedModelList option:last").after($("\x3coption\x3e",{value:n,text:n})).trigger("chosen:updated"):window.savedConfigurations=a.list}else $("#saveConfigButton").prop("disabled",!1),d.html('\x3cdiv class\x3d"alert alert-danger" role\x3d"alert"\x3e'+escapeHTML(a.message)+"\x3c/div\x3e")},error:function(a){d.html('\x3cdiv class\x3d"alert alert-danger" role\x3d"alert"\x3e'+
escapeHTML(a.responseText||"Save Failed!")+"\x3c/div\x3e");$("#saveConfigButton").prop("disabled",!1)}});a.preventDefault()});$("#importConfigForm").on("submit",function(a){a.preventDefault();a=$(this);var c=$(a.attr("data-messages"));if(void 0===window.FormData)c.html('\x3cdiv class\x3d"alert alert-danger" role\x3d"alert"\x3eOld browsers do not support HTML5 file upload. Please use a modern browser.\x3c/div\x3e');else{var d=$("#portfolio_info").val();if(null==d||0==d.length)c.html('\x3cdiv class\x3d"alert alert-danger" role\x3d"alert"\x3eNo file selected\x3c/div\x3e');
else{var d=new FormData($(this)[0]),g="list"==$("#importType").val();$.ajax({type:"POST",url:a.attr("action"),data:d,dataType:"json",async:!1,cache:!1,contentType:!1,processData:!1,success:function(a){a.success?(g?setAssets(importListTarget,a.tickers,!0):(populatePortfolio("upload",saveIndex,!1,!1,!isMultiplePortfolios(),a.allocation,savePrefix),normalizeAllocations(saveIndex,savePrefix)),$("#portfolio_info").val(""),$("#importDialog").modal("hide")):c.html('\x3cdiv class\x3d"alert alert-danger" role\x3d"alert"\x3e'+
escapeHTML(a.message)+"\x3c/div\x3e")},error:function(a){c.html('\x3cdiv class\x3d"alert alert-danger" role\x3d"alert"\x3e'+escapeHTML(a.responseText||"Upload Failed!")+"\x3c/div\x3e")}})}}});$(".fmt-uppercase").blur(function(){$(this).val($(this).val().trim().toUpperCase())});$("form").on("submit",function(){$(".fmt-uppercase").each(function(){$(this).val($(this).val().trim().toUpperCase())})});$("[data-toggle\x3d'tooltip']").tooltip({container:"body",placement:"bottom"});$("#emailLink").wrap("\x3ca href\x3d\"javascript:sendEmail('admin')\"\x3e\x3c/a\x3e");
$("span.glyphicon-calendar").on("click",function(){$(this).closest("div").find("input").datepicker("show")});$(".fmt-date").datepicker({format:"mm/dd/yyyy",clearBtn:!0,autoclose:!0,showOnFocus:!1,enableOnReadonly:!1});$(document).keydown(function(a){27==a.keyCode&&$(".fmt-date").each(function(){$(this).datepicker("hide")})});useMasks&&($(".fmt-date").mask("99/99/9999"),$(".fmt-int").mask("S#",{translation:{S:{pattern:/-/,optional:!0}}}),$(".fmt-posint").mask("#"),$(".fmt-int3").mask("S999",{translation:{S:{pattern:/-/,
optional:!0}}}));initTickerAutocomplete();$("input.typeahead").typeahead({minLength:3,highlight:!1,hint:!1},{name:"tickers",limit:100,displayKey:"name",source:new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace("name"),queryTokenizer:Bloodhound.tokenizers.whitespace,identify:function(a){return a.id},remote:{url:"symbol-lookup?query\x3d%TYPE%7C%CATEGORY%7C%QUERY",wildcard:"%QUERY",prepare:function(a,c){var d=$("#assetType").val(),g=$("#assetCategory").val();c.url=c.url.replace("%TYPE",
encodeURIComponent(d)).replace("%CATEGORY",encodeURIComponent(g)).replace("%QUERY",encodeURIComponent(a));return c}},limit:100})});$("span.glyphicon-search, button.ticker-search").not("[id^\x3dsearchConfig]").on("click",function(){selectedSymbolField=$(this).closest("div.input-group").find("input");$("#assetSearch").typeahead("val","");$("#symbolPicker").modal()});$("#saveType").change(function(){$("#savedBenchmarkSymbol").closest(".form-group").toggle("benchmark"==$("#saveType").val())});$("#assetType").change(function(){var a=
$(this).val(),c="Cash"==a,d="Index"==a,g="Class"==a,a="Imported"==a,n=!(c||d||g||a);$("#assetSearch").closest(".form-group").toggle(n);$("#cashAsset").closest(".form-group").toggle(c);$("#indexAsset").closest(".form-group").toggle(d);$("#assetClassAsset").closest(".form-group").toggle(g);$("#importedAsset").closest(".form-group").toggle(a)});$("select#fees,select#fee1,select#fee2,select#fee3").change(function(){var a=$(this);"-1"==a.val()&&($("#confirmDialogTitle").text("Add New Fee Structure"),$("#confirmText").text("Are you sure you want to leave this page to configure a new fee structure?"),
$("#confirmButton").text("Add New").addClass("btn-primary"),$("#confirmDialog").modal().on("click","#confirmButton",function(){document.location.href="manage-fees"}).on("hide.bs.modal",function(c){a.prop("selectedIndex",0).trigger("chosen:updated")}))});$("select#benchmark").change(function(){"-2"==$(this).val()&&($("#confirmDialogTitle").text("Add New Benchmark"),$("#confirmText").text("Are you sure you want to leave this page to import a new benchmark?"),$("#confirmButton").text("Add New").addClass("btn-primary"),
$("#confirmDialog").modal().on("click","#confirmButton",function(){document.location.href="manage-benchmarks"}).on("hide.bs.modal",function(a){$("select#benchmark").prop("selectedIndex",0).trigger("chosen:updated")}))});$("#selectTicker").on("click",function(){var a=$("#assetType").val(),c="Cash"==a,d="Index"==a,g="Class"==a,n="Imported"==a,p=a=null;c||d||g||n?c?(a=$("#cashAsset").val(),p="Cash"):d?(a=$("#indexAsset").val(),p=$("#indexAsset").find("option:selected").text()):g?(a=$("#assetClassAsset").val(),
p=$("#assetClassAsset").find("option:selected").text()):n&&(a=$("#importedAsset").val(),p=$("#importedAsset").find("option:selected").text()):(p=$("#assetSearch").val(),a=p.substring(p.lastIndexOf("(")+1,p.lastIndexOf(")")));a&&(selectedSymbolField.hasClass("pv-multiple")?(c=selectedSymbolField.val(),a=$.trim(c)+" "+a,selectedSymbolField.val(a).val(a)):(c=a,showFullName&&null!=p&&(c=p,1>c.indexOf("(")&&(c+=" ("+a+")")),selectedSymbolField.typeahead("val",c)));$("#symbolPicker").modal("hide")});initPortfolioControls();
$("div[id^\x3d'chartDiv']").bind("contextmenu",function(){return!1});"undefined"!==typeof Highcharts&&(Highcharts.setOptions({credits:{enabled:!1},colors:"#3366CC #DC3912 #FF9900 #109618 #990099 #0099C6 #DD4477 #66AA00 #B82E2E #316395 #994499 #22AA99 #AAAA11 #6633CC #E67300 #8B0707 #651067 #329262 #5574A6 #3B3EAC".split(" "),title:{text:"",style:{fontWeight:"bold",fontSize:"14px",fontFamily:"Arial, Trebuchet MS, Verdana, sans-serif"}},chart:{style:{fontSize:"14px",fontFamily:"Arial, Trebuchet MS, Verdana, sans-serif"}},
xAxis:{labels:{style:{font:"14px Arial, Trebuchet MS, Verdana, sans-serif"}}},yAxis:{labels:{style:{font:"14px Arial, Trebuchet MS, Verdana, sans-serif"}}},tooltip:{style:{fontSize:"14px",fontFamily:"Arial, Trebuchet MS, Verdana, sans-serif"},headerFormat:'\x3cspan style\x3d"font-size: 14px"\x3e\x3cb\x3e{point.key}\x3c/b\x3e\x3c/span\x3e\x3cbr/\x3e'},legend:{align:"right",layout:"vertical",verticalAlign:"middle",itemStyle:{fontWeight:"normal",fontFamily:"Arial, Trebuchet MS, Verdana, sans-serif",
width:"100px"}},lang:{thousandsSep:","},plotOptions:{pie:{dataLabels:{style:{fontWeight:"normal",textShadow:!1}},point:{events:{legendItemClick:function(){return!1}}},showInLegend:!0},line:{events:{legendItemClick:function(){return!1}},marker:{radius:4}},column:{events:{legendItemClick:function(){return!1}}},bar:{events:{legendItemClick:function(){return!1}}},series:{animation:!1,lineWidth:2,states:{hover:{enabled:!0,lineWidth:2}}}}}),prepareCharts());$('a[data-toggle\x3d"tab"]').on("shown.bs.tab",
function(a){a=$(a.target).attr("href");for(var c=1;c<=maxChartsPerPage;c++){var d=$("#chartDiv"+c);d.length&&d.closest(a).length&&renderChart(c)}});window.matchMedia&&(a=window.matchMedia("print"),a.addListener&&a.addListener(function(a){a.matches&&triggerCharts()}));window.onbeforeprint=function(){triggerCharts()};window.onafterprint=function(){};applyLegacyIEFontFix();$("input[type\x3dfile]").on("click",function(a){$(this).val("");$("#"+this.id+"_info").val("").val("")});$(document).on("change",
".btn-file :file",function(){var a=$(this),c=a.val().replace(/\\/g,"/").replace(/.*\//,"");a.parents(".input-group").find(":text").val(c)});$("#verifyEmailButton").on("click",function(){$("#emailVerificationDialog").modal("hide");$.get("confirm-email?sendVerification\x3dtrue")});$("#emailVerificationDialog").modal();$("#planExpiredDialog").modal();$("#modelSwitchDialog").modal()});var autoCompleteSet=!1;
function removeTickerAutocomplete(){autoCompleteTickers&&autoCompleteSet&&$("input.fmt-ticker").not(".fmt-skipac").typeahead("destroy");autoCompleteSet=!1}
function initTickerAutocomplete(){if(autoCompleteTickers){autoCompleteSet=!0;var a=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace("name"),queryTokenizer:Bloodhound.tokenizers.whitespace,identify:function(a){return a.id},remote:{url:"symbol-lookup?query\x3dall%7C%7C%QUERY",wildcard:"%QUERY"},limit:100});$("input.fmt-ticker").not(".fmt-skipac").typeahead({minLength:3,highlight:!1,hint:!1,selectionKey:showFullName?null:"id"},{name:"tickers",limit:100,displayKey:"name",source:a});
showFullName||$("input.fmt-ticker").filter(".fmt-skipac").prop("maxLength",10).mask("QTTTTTTTTT",{translation:{Q:{pattern:/[a-zA-Z]|\^/},T:{pattern:/[a-zA-Z0-9]|\/|\.|\+|\-/}}})}else showFullName||$(".fmt-ticker").prop("maxLength",10).mask("QTTTTTTTTT",{translation:{Q:{pattern:/[a-zA-Z]|\^/},T:{pattern:/[a-zA-Z0-9]|\/|\.|\+|\-/}}});$("input.fmt-ticker").blur(function(){var a=$(this),c=a.hasClass("fmt-skipac"),d=autoCompleteTickers&&!c?a.typeahead("val").trim():a.val().trim();showFullName&&!c?(c=d.substring(d.lastIndexOf("(")+
1,d.lastIndexOf(")")),0<d.length&&(null==c||0>=c.length)&&$.get("symbol-lookup",{query:d+"|"+d+"|"+d},function(c){autoCompleteTickers?a.typeahead("val",c.name):a.val(c.name)})):autoCompleteTickers&&!c?a.typeahead("val",d.toUpperCase()):a.val(d.toUpperCase())})}function prepareCharts(){for(var a=0<$('a[data-toggle\x3d"tab"]').length,b=1;b<=maxChartsPerPage;b++){var c=$("#chartDiv"+b);if(c.length){var d=!0;a&&(d=0<c.closest("div.tab-pane.active").length);d&&renderChart(b)}}}
function loadStyleSheet(a){if(document.createStyleSheet)try{document.createStyleSheet(a)}catch(b){}else $('\x3clink rel\x3d"stylesheet" type\x3d"text/css" href\x3d"'+a+'"\x3e').appendTo("head")}function applyLegacyIEFontFix(){if(document.all&&!document.addEventListener){var a=document.getElementsByTagName("head")[0],b=document.createElement("style");b.type="text/css";b.styleSheet.cssText=":before,:after{content:none !important;}";a.appendChild(b);setTimeout(function(){a.removeChild(b)},0)}}
function triggerCharts(){if(0<$('a[data-toggle\x3d"tab"]').length){for(var a=$("div.tab-pane.active").attr("id"),b=1;b<=maxChartsPerPage;b++){var c=$("#chartDiv"+b);c.length&&!c.data("data-rendered")&&(c=c.closest("div.tab-pane"),0<c.length&&(c=c.attr("id"),$('.nav-tabs a[href\x3d"#'+c+'"]').tab("show"),renderChart(b)))}$('.nav-tabs a[href\x3d"#'+a+'"]').tab("show")}}
function renderChart(a){var b=$("#chartDiv"+a);if(b.length&&!b.data("data-rendered")){var c="getChartData"+a;try{if(window[c]){var d=window[c](),g=d[0],n=d[1],p=d[2];if("undefined"!==typeof Highcharts)Highcharts.chart(b.attr("id"),g);else{var r=$("#chartControls"+a),l=r?parseInt(r.attr("data-series-count")):0;if(l){var u=new google.visualization.DataView(n);for(a=l+1;a<=2*l;a++)u.hideColumns([a]);g.draw(u,p)}else g.draw(n,p)}b.data("chartObj",g);b.data("chartData",n);b.data("chartOptions",p)}}catch(t){console.error("Failed to render chart: "+
t),b.text("Failed to render chart").css("border","1px solid red"),window.jsErrors[window.jsErrors.length]="Failed to render chart: "+t}finally{b.data("data-rendered",!0)}}}
function updateChart(a){var b="getChartData"+a,c=null,d=null,g=null;try{var n=$("#logScale").is(":checked"),p=$("#realScale").is(":checked"),r=$("#chartControls"+a),l=parseInt(r.attr("data-series-count"));if(window[b]){var u=$("#chartDiv"+a),c=u.data("chartObj"),d=u.data("chartData"),g=u.data("chartOptions"),t=u.highcharts?u.highcharts().title.text:g.title;t&&(p&&0>t.indexOf(" (inflation adjusted)")?t+=" (inflation adjusted)":!p&&0<t.indexOf(" (inflation adjusted)")&&(t=t.replace(" (inflation adjusted)",
"")));if(u.highcharts){var x=u.highcharts();x.yAxis[0].update({type:n?"logarithmic":"linear"});x.setTitle({text:t})}else{g.logScale=n;for(var f=new google.visualization.DataView(d),b=p?1:l+1,d=0;d<l;d++)f.hideColumns([b]),b++;g.title=t;c.draw(f,g)}}}catch(q){console.error("Failed to render charts: "+q),$("#chartDiv"+a).text("Failed to update chart").css("border","1px solid red"),window.jsErrors[window.jsErrors.length]="Failed to update chart: "+q}}
var growthPortfolio={TotalStockMarket:52,IntlStockMarket:28,TotalBond:16,GlobalBond:4},moderatePortfolio={TotalStockMarket:39,IntlStockMarket:21,TotalBond:32,GlobalBond:8},conservativePortfolio={TotalStockMarket:26,IntlStockMarket:14,TotalBond:48,GlobalBond:12},incomePortfolio={TotalStockMarket:13,IntlStockMarket:7,TotalBond:64,GlobalBond:16},stockBond6040={TotalStockMarket:60,TotalBond:40},stockBond4060={TotalStockMarket:40,TotalBond:60},bhThreeFund={TotalStockMarket:50,IntlStockMarket:30,TotalBond:20},
bhFourFund={TotalStockMarket:50,IntlStockMarket:30,TotalBond:10,TIPS:10},rayDalio={TotalStockMarket:30,LongTreasury:40,IntermediateTreasury:15,Commodities:7.5,Gold:7.5},rickFerri={TotalStockMarket:48,REIT:8,IntlStockMarket:24,TotalBond:20},billSchultheis={LargeCapValue:10,LargeCapBlend:10,SmallCapValue:10,SmallCapBlend:10,REIT:10,IntlStockMarket:10,TotalBond:40},davidSwensenYale={TotalStockMarket:30,REIT:20,IntlDeveloped:15,EmergingMarket:5,LongTreasury:15,TIPS:15},scottBurns={TotalStockMarket:50,
TIPS:50},harryBrowne={TotalStockMarket:25,LongTreasury:25,TreasuryBills:25,Gold:25},billBernstein={LargeCapBlend:25,SmallCapBlend:25,IntlStockMarket:25,TotalBond:25},fundAdvice={LargeCapBlend:6,LargeCapValue:6,SmallCapBlend:6,SmallCapValue:6,REIT:6,IntlDeveloped:6,EmergingMarket:6,IntlValue:6,IntermediateTreasury:20,TIPS:8,ShortTreasury:12,IntlSmall:12},davidSwensenLazy={TotalStockMarket:30,REIT:20,IntlDeveloped:15,EmergingMarket:5,TIPS:15,ShortTreasury:15},larrySwedroeSimple={LargeCapValue:15,SmallCapValue:15,
SmallCapBlend:13,EmergingMarket:4,IntlValue:13,TIPS:40},larrySwedroeFatTails={SmallCapValue:15,EmergingMarket:15,TIPS:35,ShortTreasury:35},ivyPortfolio={TotalStockMarket:20,IntlStockMarket:20,TotalBond:20,REIT:20,Commodities:20},growthPortfolioAssets={VTSMX:52,VGTSX:28,VBMFX:16,PIGLX:4},moderatePortfolioAssets={VTSMX:39,VGTSX:21,VBMFX:32,PIGLX:8},conservativePortfolioAssets={VTSMX:26,VGTSX:14,VBMFX:48,PIGLX:12},incomePortfolioAssets={VTSMX:13,VGTSX:7,VBMFX:64,PIGLX:16},stockBond6040Assets={VTSMX:60,
VBMFX:40},stockBond4060Assets={VTSMX:40,VBMFX:60},bhThreeFundAssets={VTSMX:50,VGTSX:30,VBMFX:20},bhFourFundAssets={VTSMX:50,VGTSX:30,VBMFX:10,VIPSX:10},rayDalioAssets={VTI:30,TLT:40,IEF:15,DBC:7.5,GLD:7.5},rickFerriAssets={VTSMX:48,VGSIX:8,VGTSX:24,VBMFX:20},billSchultheisAssets={VIVAX:10,VFINX:10,VISVX:10,NAESX:10,VGSIX:10,VGTSX:10,VBMFX:40},davidSwensenYaleAssets={VTSMX:30,VGSIX:20,VTMGX:15,VEIEX:5,TLT:15,VIPSX:15},scottBurnsAssets={VTSMX:50,VIPSX:50},harryBrowneAssets={VTI:25,TLT:25,CASHX:25,GLD:25},
billBernsteinAssets={VFINX:25,NAESX:25,VGTSX:25,VBMFX:25},fundAdviceAssets={VFINX:6,VIVAX:6,NAESX:6,VISVX:6,VGSIX:6,VTMGX:12,VEIEX:6,EFV:12,VFITX:20,VFISX:12,VIPSX:8},davidSwensenLazyAssets={VTSMX:30,VGSIX:20,VTMGX:15,VEIEX:5,VIPSX:15,VFISX:15},larrySwedroeSimpleAssets={VIVAX:15,IJS:15,NAESX:13,VEIEX:4,EFV:13,VIPSX:40},larrySwedroeFatTailsAssets={IJS:15,VWO:15,TIP:35,SHY:35},ivyPortfolioAssets={VTI:20,VEU:20,IEF:20,VNQ:20,GSG:20},lazyPortfolios={"Growth Portfolio":growthPortfolio,"Moderate Portfolio":moderatePortfolio,
"Conservative Portfolio":conservativePortfolio,"Income Portfolio":incomePortfolio,"Stocks/Bonds (60/40)":stockBond6040,"Stocks/Bonds (40/60)":stockBond4060,"Bogleheads Three Funds":bhThreeFund,"Bogleheads Four Funds":bhFourFund,"Ray Dalio All Weather":rayDalio,"Rick Ferri Core Four":rickFerri,"Bill Bernstein No Brainer":billBernstein,"Bill Schultheis Coffee House":billSchultheis,"FundAdvice Ultimate Buy \x26 Hold Portfolio":fundAdvice,"David Swensen Lazy Portfolio":davidSwensenLazy,"David Swensen Yale Endowment":davidSwensenYale,
"Scott Burns Couch Portfolio":scottBurns,"Harry Browne Permanent Portfolio":harryBrowne,"Larry Swedroe Simple Portfolio":larrySwedroeSimple,"Larry Swedroe Minimize FatTails Portfolio":larrySwedroeFatTails,"Mebane Faber Ivy Portfolio":ivyPortfolio},lazyPortfolioAssets={"Growth Portfolio":growthPortfolioAssets,"Moderate Portfolio":moderatePortfolioAssets,"Conservative Portfolio":conservativePortfolioAssets,"Income Portfolio":incomePortfolioAssets,"Stocks/Bonds (60/40)":stockBond6040Assets,"Stocks/Bonds (40/60)":stockBond4060Assets,
"Bogleheads Three Funds":bhThreeFundAssets,"Bogleheads Four Funds":bhFourFundAssets,"Ray Dalio All Weather":rayDalioAssets,"Rick Ferri Core Four":rickFerriAssets,"Bill Bernstein No Brainer":billBernsteinAssets,"Bill Schultheis Coffee House":billSchultheisAssets,"FundAdvice Ultimate Buy \x26 Hold Portfolio":fundAdviceAssets,"David Swensen Lazy Portfolio":davidSwensenLazyAssets,"David Swensen Yale Endowment":davidSwensenYaleAssets,"Scott Burns Couch Portfolio":scottBurnsAssets,"Harry Browne Permanent Portfolio":harryBrowneAssets,
"Larry Swedroe Simple Portfolio":larrySwedroeSimpleAssets,"Larry Swedroe Minimize FatTails Portfolio":larrySwedroeFatTailsAssets,"Mebane Faber Ivy Portfolio":ivyPortfolioAssets};
function selectPortfolio(a){var b=$(a).val(),c=a.id.substring(9),d="input[id$\x3d'"+c+"']";if(0==a.selectedIndex)$(d).removeAttr("readonly");else{$(d).attr("readonly","readonly").val("");if(a=lazyPortfolios[b])for(var g in a)a.hasOwnProperty(g)&&$("#"+g+""+c).val(a[g]);else populatePortfolioAllocation(c,b);processTotal(c)}}function selectAssets(a,b){var c=lazyPortfolioAssets[b];c||(c=window.savedConfigurations,c=null==c?null:c[b]);var d=$(a);c&&d&&setAssets(d,c,!1)}
function setAssets(a,b,c){var d="";if(c)for(c=0;c<b.length;c++)d+=" "+b[c];else for(var g in b)b.hasOwnProperty(g)&&(d+=" "+g);d=d.substring(1);a.val(d).val(d)}function sendEmail(a,b){b||(b="portfoliovisualizer.com");location.href="mailto:"+a+"@"+b}function writeEmailLink(a,b,c){c||(c="portfoliovisualizer.com");document.write("\x3ca href\x3d\"javascript:sendEmail('"+b+"', '"+c+"')\"\x3e");document.write(a);document.write("\x3c/a\x3e")}
function openPopupURL(a){a=window.open(a);null==a.opener&&(a.opener=self);a.focus();return a}function isNumber(a){return!isNaN(parseFloat(a))&&isFinite(a)}jQuery.fn.preventDoubleSubmission=function(){$(this).on("submit",function(a){var b=$(this);!0===b.data("submitted")?a.preventDefault():b.data("submitted",!0)});return this};
function addFieldError(a,b){var c=$("#"+a);if(0==c.length)console.error("Field "+a+" not found for error message: "+b);else{var d=c.closest(".form-group");d.addClass("has-error");for(var g=d.find("label.control-label").attr("class").split(" "),d=-1,n=0;n<g.length;n++){var p=/^col\-sm\-(.+)/.exec(g[n]);if(null!=p){d=p[1]-0;break}}0>=d?console.log("Error: Failed to determine grid width of the label for field: "+a):(c=c.closest("div:not(.input-group)"),c.wrap("\x3cdiv class\x3d'col-sm-"+(12-d)+"'\x3e\x3c/div\x3e"),
c.wrap("\x3cdiv class\x3d'row'\x3e\x3c/div\x3e"),$("#"+a+"_chosen").find("span").addClass("error-text"),c.parent().parent().append('\x3cdiv class\x3d"row"\x3e\x3cspan class\x3d"help-block col-sm-12"\x3e'+b+"\x3c/span\x3e\x3c/div\x3e"))}}function importPortfolio(a,b){saveIndex=a;savePrefix=b;$("#importType").val("portfolio");$("#importPortfolioInfo").show();$("#importListInfo").hide();$("#importMessages").empty();$("#importDialogTitle").text("Import Portfolio");$("#importDialog").modal()}
function importList(a){importListTarget=$(a);$("#importType").val("list");$("#importPortfolioInfo").hide();$("#importListInfo").show();$("#importMessages").empty();$("#importDialogTitle").text("Import Ticker List");$("#importDialog").modal()}
function saveDialog(a,b,c,d,g){saveIndex=a;$("#saveDialogTitle").text("Save "+b);a=window["benchmarkConfig"+a];a=!("portfolio"!=c&&"timing"!=c||!a);$("#saveType")[0].selectedIndex=0;$("#saveType option:first").val(c).text(b).trigger("chosen:updated");$("#saveType").closest(".form-group").toggle(a);$("#savedBenchmarkSymbol").val("").closest(".form-group").toggle("benchmark"==$("#saveType").val());$("#saveSelection").val(d);$("#saveConfig").val(JSON.stringify(g));$("#saveName").prop("readonly",!1).attr("placeholder",
"").val("");$("#saveMessages").empty();$("#saveConfigButton").prop("disabled",!1);$("#saveDialog").modal()}var indexToPopulate=-1,populateAssetClasses=!1,clearExistingAssets=!1;
function populatePortfolioAllocation(a,b){var c=window.savedConfigurations;if(c=null==c?null:c[b]){$("input[id$\x3d'"+a+"']").attr("readonly","readonly").val("");for(var d in c)if(c.hasOwnProperty(d)){var g=100*c[d],g=0===g%1?g:g.toFixed(2);$("#"+d+a).val(g)}$("#portfolioName"+a).val(b);$("#portfolio"+a).val(b).trigger("chosen:updated")}}
function populatePortfolio(a,b,c,d,g,n,p){var r=b||indexToPopulate,l=populateAssetClasses||c,u=window.savedConfigurations;p=p||"";n||(n=null==u?null:u[a],d&&(n=c?lazyPortfolios[a]:lazyPortfolioAssets[a]));if(n){var u=allowExtraRows(p),t="input[id$\x3d'"+r+"']";$("input[id^\x3d'"+p+"allocation']").filter(t).val("").removeAttr("readonly");$("#portfolioName"+b).val(a);$("#portfolio"+r).val("Custom").trigger("chosen:updated");if(clearExistingAssets||g)l?$("select[id^\x3d'"+p+"asset']").filter(function(){return this.id.match(/\d+$/)}).prop("selectedIndex",
0).trigger("chosen:updated"):$("input[id^\x3d'"+p+"symbol']").filter(function(){return this.id.match(/\d+$/)}).typeahead("val",""),$("input[id^\x3d'"+p+"allocation']").filter(function(){return this.id.match(/\d+$/)}).val("");for(var x in n)if(n.hasOwnProperty(x)){a=b=d?n[x]:100*n[x];0===b%1?a=b:(a=b.toFixed(2),a.endsWith(".00")&&(a=a.slice(0,-3)));b=0;g=!0;for(var t=l?25:150,f=1;f<=t;f++){var q=l?$("#"+p+"asset"+f):$("#"+p+"symbol"+f);if(0>=q.length){1>b&&u&&(addAssetRows(1,null,p),b=f);break}q=c?
q.val():q.typeahead("val");if(q==x){b=f;g=!1;break}else!q&&1>b&&(b=f)}b&&(g&&(l?$("#"+p+"asset"+b).val(x).trigger("chosen:updated"):$("#"+p+"symbol"+b).typeahead("val",x)),$("#"+p+"allocation"+b+"_"+r).val(a))}processTotal(r,p)}}
function showLoginPrompt(a){expiredAccount?($("#confirmDialogTitle").text("Inactive Account"),$("#confirmText").text("Your trial or subscription plan has expired. Please select and activate a subscription plan to "+(a?"save":"download")+" results."),$("#confirmButton").text("Select Plan").addClass("btn-primary"),$("#confirmDialog").modal().on("click","#confirmButton",function(){document.location.href="pricing"})):($("#confirmDialogTitle").text("Login Required"),$("#confirmText").text("Please login first to "+
(a?"save":"download")+" results."),$("#confirmButton").text("Login").addClass("btn-primary"),$("#confirmDialog").modal().on("click","#confirmButton",function(){var a=$("span.directLink").find("a").attr("href");document.location.href="login"+(a?"?loginTarget\x3d"+encodeURIComponent(a):"")}))}function clearAllocations(a,b){$("input[id^\x3d'"+(b?b+"allocation":"allocation")+"']").each(function(){$(this).attr("id").endsWith(""+a)&&$(this).val("")});processTotal(a,b)}
function equalWeightAllocations(a,b){var c=getPortfolioSection(b);b=b||"";clearAllocations(a,b);var d=isAssetClasses()?c.find("div.asset-row select[id^\x3d'"+b+"asset']"):c.find("div.asset-row input[id^\x3d'"+b+"symbol']"),d=d.filter(function(){return $(this).val().trim()}),g=d.length;if(!(0>=g)){for(var n=Math.floor(100/g*100)/100,c=100,p=1;p<g;p++){var r=d[p].id.match(/\d+/);$("#"+b+"allocation"+r+"_"+a).val(n);c-=n}d=d[0].id.match(/\d+/);$("#"+b+"allocation"+d+"_"+a).val(0===c%1?c:c.toFixed(2));
processTotal(a,b)}}
function normalizeAllocations(a,b){var c=getPortfolioSection(b),d=c.find("div.asset-row").length;b=c.attr("data-prefix")||"";var c=-1,g=0,n,p,r;for(n=1;n<=d;n++)p="#"+b+"allocation"+n+"_"+a,r=$(p).val(),$.isNumeric(r)&&(r=Number(r),g+=r,0>c&&(c=n));if(!(0>=g)){var l=100;for(n=1;n<=d;n++)n!=c&&(p="#"+b+"allocation"+n+"_"+a,r=$(p).val(),$.isNumeric(r)&&(r=Number(r),r=Math.floor(r/g*1E4+1E-11)/100,$(p).val(r),l-=r));$("#"+b+"allocation"+c+"_"+a).val(0===l%1?l:l.toFixed(2));processTotal(a,b)}}
function copyAllocations(a,b,c){c=getPortfolioSection(c);var d=c.find("div.asset-row").length;c=c.attr("data-prefix")||"";for(var g=1;g<=d;g++){var n="#"+c+"allocation"+g+"_"+a;$("#"+c+"allocation"+g+"_"+b).val($(n).val())}processTotal(b,c)}function isAssetClasses(a){return getPortfolioSection(a).hasClass("pv-asset-classes")}function isMultiplePortfolios(a){return getPortfolioSection(a).hasClass("pv-multiple")}
function allowExtraRows(a){return getPortfolioSection(a).hasClass("pv-allow-expansion")}function addAssetRows(a,b,c){b=b||getPortfolioSection(c);c=b.attr("data-maxrows")||150;b.find(".add-rows").remove();var d=b.find("div.asset-row").length,g=b.find("div.asset-row:last");removeTickerAutocomplete();d=addRowsInner(g,a,d,c);d<c&&b.find("div.asset-row:last div:first").append(addAssetRowsLinkHTML);initTickerAutocomplete();preventMouseWheelSpinner();return!1}
function addRowsInner(a,b,c,d,g){for(var n=0;n<b;n++){var p=a.clone(!0,!0),r=parseInt(p.find("input[id!\x3d''][id]:first").prop("id").match(/\d+/)),l=r+1;p.find("input").each(function(){var a=$(this),b=a.prop("id"),c=a.prop("name");a.prop("id",b.replace(r,l)).prop("name",c.replace(r,l));a.is(":checkbox")?a.prop("checked",!1):a.val("")});p.find("label").each(function(){var a=$(this),b=a.prop("for");b&&a.prop("for",b.replace(r,l));a.text(a.text().replace(r,l))});p.find("select").each(function(){var a=
$(this),b=a.prop("id"),c=a.prop("name");useChosen&&(a.data("chosen",null).data("data-placeholder",null).css("display","block"),a.next().remove());a.prop("id",b.replace(r,l)).prop("name",c.replace(r,l)).prop("selectedIndex",0);useChosen&&a.chosen({disable_search_threshold:100,width:"100%"})});var u=p.find("div:first");if(0>=u.find(":input").length){var t=u.html();0<=t.indexOf(r)&&u.html(t.replace(r,l))}p.toggleClass("highlightRow",1==l%2);g&&g(p,l);a.after(p);a=p;if(++c>=d)break}return c}
function clearPortfolios(a){a=a||getPortfolioSection();var b=a.attr("data-count")||3,c=a.attr("data-prefix")||"";"true"!==a.attr("data-advanced")&&(a.find(".add-rows").remove(),trimExtraAssetRows(a),a.find("div.asset-row:last div:first").append(addAssetRowsLinkHTML));a.find("input").each(function(){var a=$(this);a.is(":checkbox")?a.prop("checked",!1):a.hasClass("fmt-ticker")?a.typeahead("val",""):a.val("")});a.find("select").prop("selectedIndex",0).trigger("chosen:updated");for(a=1;a<=b;a++)processTotal(a,
c)}function trimExtraAssetRows(a,b){for(b=b||10;;){var c=a.find("div.asset-row:last");if(parseInt(c.find("input.asset-weight:first").prop("id").match(/\d+/))<=b)break;c.remove()}}
function processTotal(a,b){b=b||"";var c=getPortfolioSection(b),d=c.hasClass("pv-allow-short"),g=b+"total"+a,n=$("#"+g),p=0,r=0;c.find("input.asset-weight").each(function(){var b=this.id.substring(this.id.length-1);this.id!=g&&b==a&&(b=Number($(this).val()),p+=b,0<b&&(r+=b))});n.val(0===p%1?p:p.toFixed(2));"100.00"==p.toFixed(2)||d&&("-100.00"==p.toFixed(2)||0==p&&0<r)?n.css("background-color","#dff0d8"):0!=p?n.css("background-color","#f2dede"):n.css("background-color","#eeeeee")}
function initPortfolioControls(){var a=$(window).width();380<a&&768>=a&&$(".allocation-menu").addClass("btn-group-xs").removeClass("btn-group-sm");$(".portfolio-section").each(function(){for(var a=$(this),c=a.attr("data-prefix")||"",d=a.attr("data-count")||3,g=a.attr("data-maxrows")||150,n="true"===a.attr("data-advanced"),p=1;p<=d;p++)processTotal(p,c);a.find("div.asset-row").length<g&&!n&&(a.find(".add-rows").remove(),a.find("div.asset-row:last div:first").append(addAssetRowsLinkHTML))});$("input.asset-weight").on("change",
function(){var a=this.id.match(/\d+$/),c=getParentPortfolio(this).attr("data-prefix")||"";processTotal(a,c)});$(".allocation-menu").on("show.bs.dropdown",function(){var a=$(this),c=getParentPortfolio(a).attr("data-prefix")||"",d=a.prop("id").match(/\d+$/),g=window.savedConfigurations,n=!isMultiplePortfolios(),a=a.find("li.saved-items");if(g&&a.length){var p=!1,r;for(r in g)if(g.hasOwnProperty(r)){p||(a.siblings("li.saved-item").remove(),p=!0);var l='\x3cli class\x3d"saved-item"\x3e\x3ca href\x3d"#"\x3e'+
escapeHTML(r)+"\x3c/a\x3e\x3c/li\x3e",l=$($.parseHTML(l));l.find("a").on("click",function(a){var b=$(this).text();populatePortfolio(b,d,isAssetClasses(),!1,n,null,c);a.preventDefault()});a.after(l);a=l}}});$(".clearAllocation").on("click",function(){clearPortfolios(getParentPortfolio(this))});$("#resetGroups").on("click",function(){$("#groupConstraintsSection").find("input").each(function(){$(this).val("")})})}
function getParentPortfolio(a){if(!a)return getPortfolioSection();a instanceof jQuery||(a=$(a));return a.closest("div.portfolio-section")}function getPortfolioSection(a){a=a||"";var b=$("div.portfolio-section");if(1<b.length)for(var c=0;c<b.length;c++){var d=$(b[c]),g=d.attr("data-prefix")||"";if(a==g)return d}return b?b.first():null}
function renumberCashflows(a){$("div.cashflow").each(function(b){var c=$(this);1==b%2?c.addClass("highlight-cashflow"):c.removeClass("highlight-cashflow");if(!a){var c=c.find("div.control-label:first"),d=c.text();c.text(d.substring(0,d.indexOf("#")+1)+(b+1))}})}function removeCashflow(a){$("#cfname"+a).closest(".cashflow").remove();renumberCashflows()}
function resetCashflow(a){$("#cfname"+a).val("").val("");$("#cfamount"+a).val("").val("");$("#cfpercentage"+a).val("").val("");$("#cftimes"+a).val("").val("");$("#cfstartyear"+a).val("").val("");$("#cfinfadj"+a).prop("checked",!0);$("#cfpctchange"+a).val("").val("");$("#cfrollperiods"+a).val("").val("");$("#cfsmoothingrate"+a).val("").val("");$("#cftype"+a).val("2").trigger("change").trigger("chosen:updated");$("#cffrequency"+a).val("4").trigger("change").trigger("chosen:updated");$("#cfoccurs"+a).val("3").trigger("change").trigger("chosen:updated");
$("#cfstart"+a).val("3").trigger("change").trigger("chosen:updated")}function setDynamicRowControlIndex(a,b,c){a.find("input").each(function(){var a=$(this),g=a.prop("id"),n=a.prop("name");a.prop("id",g.replace(b,c)).prop("name",n.replace(b,c))});a.find("label").each(function(){var a=$(this),g=a.prop("for");g&&a.prop("for",g.replace(b,c))});a.find("select").each(function(){var a=$(this),g=a.prop("id"),n=a.prop("name");a.prop("id",g.replace(b,c)).prop("name",n.replace(b,c))})}
function addCashflow(){var a=$("div.cashflow").length,b=$("div.cashflows"),c=b.attr("data-maxrows")||20;if(!(a>c)){var a=b.find("div.cashflow:last"),b=a.clone(!0,!0),c=parseInt(b.find("input[id!\x3d''][id]:first").prop("id").match(/\d+/)),d=c+1;useChosen&&b.find("select").each(function(){var a=$(this);a.data("chosen",null).data("data-placeholder",null).css("display","block");a.next().remove()});setDynamicRowControlIndex(b,c,d);useChosen&&b.find("select").each(function(){$(this).chosen({disable_search_threshold:100,
width:"100%"})});a.after(b);resetCashflow(d);renumberCashflows()}}
function initCashflows(){$("select[id^\x3d'cftype']").on("change",function(){var a=this.id.match(/\d+$/),b=$(this).val(),c=8==b||9==b,d=3>b||c,g=5==b,b=6==b,n=$("#cfamount"+a),p=$("#cfpercentage"+a),r=$("#cfinfadj"+a),l=$("#cfpctchange"+a),u=$("#cfrollperiods"+a),a=$("#cfsmoothingrate"+a);d?(p.closest(".input-group").hide(),u.closest(".input-group").hide(),a.closest(".input-group").hide(),l.closest(".input-group").hide(),n.closest(".input-group").show(),r.closest("div").toggle(!c),l.closest(".input-group").toggle(c)):
(n.closest(".input-group").hide(),r.closest("div").hide(),l.closest(".input-group").hide(),p.closest(".input-group").show(),u.closest(".input-group").toggle(g),a.closest(".input-group").toggle(b))});$("select[id^\x3d'cfstart']").on("change",function(){var a=this.id.match(/\d+$/),b=2<$(this).val();$("#cfstartyear"+a).closest(".input-group").toggle(b)});$("select[id^\x3d'cfoccurs']").on("change",function(){var a=this.id.match(/\d+$/),b=2<$(this).val();$("#cftimes"+a).closest(".input-group").toggle(b)});
$("button.remove-cashflow").on("click",function(){var a=$("div.cashflow").length;$("div.cashflows");var b=$(this).closest("div.cashflow-row").find("input").attr("id").match(/\d+$/);1<a?(removeCashflow(b),$("div.cashflow").each(function(a){a>=b-1&&setDynamicRowControlIndex($(this),a+2,a+1)})):resetCashflow(b)});$("button.add-cashflow").on("click",function(){addCashflow()});$("select[id^\x3d'cftype']").trigger("change");$("select[id^\x3d'cfstart']").trigger("change");$("select[id^\x3d'cfoccurs']").trigger("change");
renumberCashflows(!0)}
function addMarketExpectation(){removeTickerAutocomplete();var a=$("div.expectation").length,b=$("div.expectations"),c=b.attr("data-maxrows")||50;if(a>c)alert("Maximum number of asset expectations is "+c);else{a=b.find("div.expectation:last");c=a.find("select:first").val();b=a.clone(!0,!0);b.find("select:first").val(c);var c=parseInt(b.find("input[id!\x3d''][id]:first").prop("id").match(/\d+/)),d=c+1;useChosen&&b.find("select").each(function(){var a=$(this);a.data("chosen",null).data("data-placeholder",null).css("display",
"block");a.next().remove()});setDynamicRowControlIndex(b,c,d);useChosen&&b.find("select").each(function(){$(this).chosen({disable_search_threshold:100,width:"100%"})});b.find("div.control-label:first").text(d);b.find("select[id^\x3d'fatype']").trigger("change");a.hasClass("highlightRow")?b.removeClass("highlightRow"):b.addClass("highlightRow");b.find("input[type\x3dtext]").each(function(){$(this).val("")});a.after(b);initTickerAutocomplete();preventMouseWheelSpinner()}}
function initMarketExpectations(){$(".expectations").find("select[id^\x3d'fatype']").change(function(){var a=$(this),b=a.prop("id"),a=1==a.val(),b=b.match(/\d+/g);a?($("#faticker"+b).closest("div[class^\x3d'col']").hide(),$("#faac"+b).closest("div[class^\x3d'col']").show()):($("#faac"+b).closest("div[class^\x3d'col']").hide(),$("#faticker"+b).closest("div[class^\x3d'col']").show())});$("select[id^\x3d'fatype']").trigger("change");$("button.add-expectation").on("click",function(){addMarketExpectation()})}
function fillForecast(a,b){if("undefined"!==typeof capitalMarketExpectations){b=b||"";var c=getPortfolioSection(b),d=isAssetClasses(),c=d?c.find("div.asset-row select[id^\x3d'"+b+"asset']"):c.find("div.asset-row input[id^\x3d'"+b+"symbol']"),c=c.filter(function(){return $(this).val().trim()}),g=c.length;if(!(0>=g))for(var n=0;n<g;n++){var p=c[n].id.match(/\d+/),r=d?$("#"+b+"asset"+p).val():$("#"+b+"symbol"+p).val(),l=$("#"+b+"mean"+p);if(!l||!r)break;for(var u=0;u<capitalMarketExpectations.length;u++){var t=
capitalMarketExpectations[u];if(t.asset==r){l.val((100*t.mean).toFixed(2));0<t.volatility&&$("#"+b+"volatility"+p).val((100*t.volatility).toFixed(2));break}}}}}
function toggleReportSections(){var a="custom"==$("#reportTemplate").val();if("undefined"!==typeof reportSections){if(!reportSectionsPopulated){for(var b="",c=0;c<reportSections.length;c++)var d=2<<c,b=b+('\x3cdiv\x3e\x3clabel class\x3d"checkbox-inline"\x3e\x3cinput type\x3d"checkbox" name\x3d"reportSection'+d+'" value\x3d"'+d+'" checked\x3e'+reportSections[c]+"\x3c/label\x3e\x3c/div\x3e");$("#reportSectionsList").html(b);reportSectionsPopulated=!0}0>=reportSections.length&&(a=!1)}else a=!1;$("#reportSectionsList").closest(".form-group").toggle(a)}
function getSelectedReportSections(){if("custom"!=$("#reportTemplate").val())return-1;var a=0;$("#reportSectionsList").find("input[type\x3dcheckbox]").each(function(){var b=$(this);b.is(":checked")&&(b=b.val(),a|=b)});return a};